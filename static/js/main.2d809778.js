/*! For license information please see main.2d809778.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},281:function(e){var t;window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=256,a=function(){function e(e){void 0===e&&(e="="),this._paddingCharacter=e}return e.prototype.encodedLength=function(e){return this._paddingCharacter?(e+2)/3*4|0:(8*e+5)/6|0},e.prototype.encode=function(e){for(var t="",n=0;n<e.length-2;n+=3){var r=e[n]<<16|e[n+1]<<8|e[n+2];t+=this._encodeByte(r>>>18&63),t+=this._encodeByte(r>>>12&63),t+=this._encodeByte(r>>>6&63),t+=this._encodeByte(r>>>0&63)}var i=e.length-n;return i>0&&(r=e[n]<<16|(2===i?e[n+1]<<8:0),t+=this._encodeByte(r>>>18&63),t+=this._encodeByte(r>>>12&63),t+=2===i?this._encodeByte(r>>>6&63):this._paddingCharacter||"",t+=this._paddingCharacter||""),t},e.prototype.maxDecodedLength=function(e){return this._paddingCharacter?e/4*3|0:(6*e+7)/8|0},e.prototype.decodedLength=function(e){return this.maxDecodedLength(e.length-this._getPaddingLength(e))},e.prototype.decode=function(e){if(0===e.length)return new Uint8Array(0);for(var t=this._getPaddingLength(e),n=e.length-t,r=new Uint8Array(this.maxDecodedLength(n)),a=0,o=0,u=0,s=0,c=0,l=0,f=0;o<n-4;o+=4)s=this._decodeChar(e.charCodeAt(o+0)),c=this._decodeChar(e.charCodeAt(o+1)),l=this._decodeChar(e.charCodeAt(o+2)),f=this._decodeChar(e.charCodeAt(o+3)),r[a++]=s<<2|c>>>4,r[a++]=c<<4|l>>>2,r[a++]=l<<6|f,u|=s&i,u|=c&i,u|=l&i,u|=f&i;if(o<n-1&&(s=this._decodeChar(e.charCodeAt(o)),c=this._decodeChar(e.charCodeAt(o+1)),r[a++]=s<<2|c>>>4,u|=s&i,u|=c&i),o<n-2&&(l=this._decodeChar(e.charCodeAt(o+2)),r[a++]=c<<4|l>>>2,u|=l&i),o<n-3&&(f=this._decodeChar(e.charCodeAt(o+3)),r[a++]=l<<6|f,u|=f&i),0!==u)throw new Error("Base64Coder: incorrect characters for decoding");return r},e.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-15,t+=62-e>>>8&3,String.fromCharCode(t)},e.prototype._decodeChar=function(e){var t=i;return t+=(42-e&e-44)>>>8&-256+e-43+62,t+=(46-e&e-48)>>>8&-256+e-47+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},e.prototype._getPaddingLength=function(e){var t=0;if(this._paddingCharacter){for(var n=e.length-1;n>=0&&e[n]===this._paddingCharacter;n--)t++;if(e.length<4||t>2)throw new Error("Base64Coder: incorrect padding")}return t},e}();t.Coder=a;var o=new a;t.encode=function(e){return o.encode(e)},t.decode=function(e){return o.decode(e)};var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-13,t+=62-e>>>8&49,String.fromCharCode(t)},t.prototype._decodeChar=function(e){var t=i;return t+=(44-e&e-46)>>>8&-256+e-45+62,t+=(94-e&e-96)>>>8&-256+e-95+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},t}(a);t.URLSafeCoder=u;var s=new u;t.encodeURLSafe=function(e){return s.encode(e)},t.decodeURLSafe=function(e){return s.decode(e)},t.encodedLength=function(e){return o.encodedLength(e)},t.maxDecodedLength=function(e){return o.maxDecodedLength(e)},t.decodedLength=function(e){return o.decodedLength(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="utf8: invalid string",i="utf8: invalid source encoding";function a(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)t+=1;else if(i<2048)t+=2;else if(i<55296)t+=3;else{if(!(i<=57343))throw new Error(r);if(n>=e.length-1)throw new Error(r);n++,t+=4}}return t}t.encode=function(e){for(var t=new Uint8Array(a(e)),n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=192|i>>6,t[n++]=128|63&i):i<55296?(t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i):(r++,i=(1023&i)<<10,i|=1023&e.charCodeAt(r),i+=65536,t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i)}return t},t.encodedLength=a,t.decode=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(128&r){var a=void 0;if(r<224){if(n>=e.length)throw new Error(i);if(128!==(192&(o=e[++n])))throw new Error(i);r=(31&r)<<6|63&o,a=128}else if(r<240){if(n>=e.length-1)throw new Error(i);var o=e[++n],u=e[++n];if(128!==(192&o)||128!==(192&u))throw new Error(i);r=(15&r)<<12|(63&o)<<6|63&u,a=2048}else{if(!(r<248))throw new Error(i);if(n>=e.length-2)throw new Error(i);o=e[++n],u=e[++n];var s=e[++n];if(128!==(192&o)||128!==(192&u)||128!==(192&s))throw new Error(i);r=(15&r)<<18|(63&o)<<12|(63&u)<<6|63&s,a=65536}if(r<a||r>=55296&&r<=57343)throw new Error(i);if(r>=65536){if(r>1114111)throw new Error(i);r-=65536,t.push(String.fromCharCode(55296|r>>10)),r=56320|1023&r}}t.push(String.fromCharCode(r))}return t.join("")}},function(e,t,n){e.exports=n(3).default},function(e,t,n){"use strict";n.r(t);var r,i=function(){function e(e,t){this.lastId=0,this.prefix=e,this.name=t}return e.prototype.create=function(e){this.lastId++;var t=this.lastId,n=this.prefix+t,r=this.name+"["+t+"]",i=!1,a=function(){i||(e.apply(null,arguments),i=!0)};return this[t]=a,{number:t,id:n,name:r,callback:a}},e.prototype.remove=function(e){delete this[e.number]},e}(),a=new i("_pusher_script_","Pusher.ScriptReceivers"),o={VERSION:"8.0.1",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},u=function(){function e(e){this.options=e,this.receivers=e.receivers||a,this.loading={}}return e.prototype.load=function(e,t,n){var r=this;if(r.loading[e]&&r.loading[e].length>0)r.loading[e].push(n);else{r.loading[e]=[n];var i=At.createScriptRequest(r.getPath(e,t)),a=r.receivers.create((function(t){if(r.receivers.remove(a),r.loading[e]){var n=r.loading[e];delete r.loading[e];for(var o=function(e){e||i.cleanup()},u=0;u<n.length;u++)n[u](t,o)}}));i.send(a)}},e.prototype.getRoot=function(e){var t=At.getDocument().location.protocol;return(e&&e.useTLS||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},e.prototype.getPath=function(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"},e}(),s=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),c=new u({cdn_http:o.cdn_http,cdn_https:o.cdn_https,version:o.VERSION,suffix:o.dependency_suffix,receivers:s}),l={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},f=function(e){var t,n=l.urls[e];return n?(n.fullUrl?t=n.fullUrl:n.path&&(t=l.baseUrl+n.path),t?"See: "+t:""):""};!function(e){e.UserAuthentication="user-authentication",e.ChannelAuthorization="channel-authorization"}(r||(r={}));for(var h=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(t,e),t}(Error),p=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(t,e),t}(Error),v=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(t,e),t}(Error),m=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(t,e),t}(Error),y=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(t,e),t}(Error),g=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(t,e),t}(Error),k=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(t,e),t}(Error),b=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}return h(t,e),t}(Error),w=function(e){function t(t,n){var r=this.constructor,i=e.call(this,n)||this;return i.status=t,Object.setPrototypeOf(i,r.prototype),i}return h(t,e),t}(Error),x=function(e,t,n,i,a){var o=At.createXHR();for(var u in o.open("POST",n.endpoint,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.headers)o.setRequestHeader(u,n.headers[u]);if(null!=n.headersProvider){var s=n.headersProvider();for(var u in s)o.setRequestHeader(u,s[u])}return o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var e=void 0,t=!1;try{e=JSON.parse(o.responseText),t=!0}catch(s){a(new w(200,"JSON returned from "+i.toString()+" endpoint was invalid, yet status code was 200. Data was: "+o.responseText),null)}t&&a(null,e)}else{var u="";switch(i){case r.UserAuthentication:u=f("authenticationEndpoint");break;case r.ChannelAuthorization:u="Clients must be authorized to join private or presence channels. "+f("authorizationEndpoint")}a(new w(o.status,"Unable to retrieve auth string from "+i.toString()+" endpoint - received status: "+o.status+" from "+n.endpoint+". "+u),null)}},o.send(t),o},_=String.fromCharCode,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I={},E=0,T=S.length;E<T;E++)I[S.charAt(E)]=E;var C=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?_(192|t>>>6)+_(128|63&t):_(224|t>>>12&15)+_(128|t>>>6&63)+_(128|63&t)},A=function(e){return e.replace(/[^\x00-\x7F]/g,C)},N=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[S.charAt(n>>>18),S.charAt(n>>>12&63),t>=2?"=":S.charAt(n>>>6&63),t>=1?"=":S.charAt(63&n)].join("")},R=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,N)},P=function(){function e(e,t,n,r){var i=this;this.clear=t,this.timer=e((function(){i.timer&&(i.timer=r(i.timer))}),n)}return e.prototype.isRunning=function(){return null!==this.timer},e.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},e}(),O=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function D(e){window.clearTimeout(e)}function L(e){window.clearInterval(e)}var M=function(e){function t(t,n){return e.call(this,setTimeout,D,t,(function(e){return n(),null}))||this}return O(t,e),t}(P),F=function(e){function t(t,n){return e.call(this,setInterval,L,t,(function(e){return n(),e}))||this}return O(t,e),t}(P),U={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(e){return new M(0,e)},method:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,r.concat(arguments))}}},j=U;function V(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var a in i)i[a]&&i[a].constructor&&i[a].constructor===Object?e[a]=V(e[a]||{},i[a]):e[a]=i[a]}return e}function z(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"===typeof arguments[t]?e.push(arguments[t]):e.push(J(arguments[t]));return e.join(" : ")}function B(e,t){var n=Array.prototype.indexOf;if(null===e)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function q(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function H(e){var t=[];return q(e,(function(e,n){t.push(n)})),t}function W(e,t,n){for(var r=0;r<e.length;r++)t.call(n||window,e[r],r,e)}function K(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r,e,n));return n}function G(e,t){t=t||function(e){return!!e};for(var n=[],r=0;r<e.length;r++)t(e[r],r,e,n)&&n.push(e[r]);return n}function Q(e,t){var n={};return q(e,(function(r,i){(t&&t(r,i,e,n)||Boolean(r))&&(n[i]=r)})),n}function $(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}function X(e){return function(e,t){var n={};return q(e,(function(e,r){n[r]=t(e)})),n}(e,(function(e){return"object"===typeof e&&(e=J(e)),encodeURIComponent((t=e.toString(),R(A(t))));var t}))}function Y(e){return K(function(e){var t=[];return q(e,(function(e,n){t.push([n,e])})),t}(X(Q(e,(function(e){return void 0!==e})))),j.method("join","=")).join("&")}function J(e){try{return JSON.stringify(e)}catch(t){return JSON.stringify(function(e){var t=[],n=[];return function e(r,i){var a,o,u;switch(typeof r){case"object":if(!r)return null;for(a=0;a<t.length;a+=1)if(t[a]===r)return{$ref:n[a]};if(t.push(r),n.push(i),"[object Array]"===Object.prototype.toString.apply(r))for(u=[],a=0;a<r.length;a+=1)u[a]=e(r[a],i+"["+a+"]");else for(o in u={},r)Object.prototype.hasOwnProperty.call(r,o)&&(u[o]=e(r[o],i+"["+JSON.stringify(o)+"]"));return u;case"number":case"string":case"boolean":return r}}(e,"$")}(e))}}var Z=function(){function e(){this.globalLog=function(e){window.console&&window.console.log&&window.console.log(e)}}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log(this.globalLog,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log(this.globalLogWarn,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log(this.globalLogError,e)},e.prototype.globalLogWarn=function(e){window.console&&window.console.warn?window.console.warn(e):this.globalLog(e)},e.prototype.globalLogError=function(e){window.console&&window.console.error?window.console.error(e):this.globalLogWarn(e)},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=z.apply(this,arguments);if(Jt.log)Jt.log(r);else if(Jt.logToConsole){var i=e.bind(this);i(r)}},e}(),ee=new Z,te=function(e,t,n,r,i){void 0===n.headers&&null==n.headersProvider||ee.warn("To send headers with the "+r.toString()+" request, you must use AJAX, rather than JSONP.");var a=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var o=e.getDocument(),u=o.createElement("script");e.auth_callbacks[a]=function(e){i(null,e)};var s="Pusher.auth_callbacks['"+a+"']";u.src=n.endpoint+"?callback="+encodeURIComponent(s)+"&"+t;var c=o.getElementsByTagName("head")[0]||o.documentElement;c.insertBefore(u,c.firstChild)},ne=function(){function e(e){this.src=e}return e.prototype.send=function(e){var t=this,n="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(n)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){"loaded"!==t.script.readyState&&"complete"!==t.script.readyState||e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+n+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(t.script,r.firstChild),t.errorScript&&r.insertBefore(t.errorScript,t.script.nextSibling)},e.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},e}(),re=function(){function e(e,t){this.url=e,this.data=t}return e.prototype.send=function(e){if(!this.request){var t=Y(this.data),n=this.url+"/"+e.number+"?"+t;this.request=At.createScriptRequest(n),this.request.send(e)}},e.prototype.cleanup=function(){this.request&&this.request.cleanup()},e}(),ie={name:"jsonp",getAgent:function(e,t){return function(n,r){var i="http"+(t?"s":"")+"://"+(e.host||e.options.host)+e.options.path,o=At.createJSONPRequest(i,n),u=At.ScriptReceivers.create((function(t,n){a.remove(u),o.cleanup(),n&&n.host&&(e.host=n.host),r&&r(t,n)}));o.send(u)}}};function ae(e,t,n){return e+(t.useTLS?"s":"")+"://"+(t.useTLS?t.hostTLS:t.hostNonTLS)+n}function oe(e,t){return"/app/"+e+"?protocol="+o.PROTOCOL+"&client=js&version="+o.VERSION+(t?"&"+t:"")}var ue={getInitial:function(e,t){return ae("ws",t,(t.httpPath||"")+oe(e,"flash=false"))}},se={getInitial:function(e,t){return ae("http",t,(t.httpPath||"/pusher")+oe(e))}},ce={getInitial:function(e,t){return ae("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return oe(e)}},le=function(){function e(){this._callbacks={}}return e.prototype.get=function(e){return this._callbacks[fe(e)]},e.prototype.add=function(e,t,n){var r=fe(e);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:t,context:n})},e.prototype.remove=function(e,t,n){if(e||t||n){var r=e?[fe(e)]:H(this._callbacks);t||n?this.removeCallback(r,t,n):this.removeAllCallbacks(r)}else this._callbacks={}},e.prototype.removeCallback=function(e,t,n){W(e,(function(e){this._callbacks[e]=G(this._callbacks[e]||[],(function(e){return t&&t!==e.fn||n&&n!==e.context})),0===this._callbacks[e].length&&delete this._callbacks[e]}),this)},e.prototype.removeAllCallbacks=function(e){W(e,(function(e){delete this._callbacks[e]}),this)},e}();function fe(e){return"_"+e}var he=function(){function e(e){this.callbacks=new le,this.global_callbacks=[],this.failThrough=e}return e.prototype.bind=function(e,t,n){return this.callbacks.add(e,t,n),this},e.prototype.bind_global=function(e){return this.global_callbacks.push(e),this},e.prototype.unbind=function(e,t,n){return this.callbacks.remove(e,t,n),this},e.prototype.unbind_global=function(e){return e?(this.global_callbacks=G(this.global_callbacks||[],(function(t){return t!==e})),this):(this.global_callbacks=[],this)},e.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},e.prototype.emit=function(e,t,n){for(var r=0;r<this.global_callbacks.length;r++)this.global_callbacks[r](e,t);var i=this.callbacks.get(e),a=[];if(n?a.push(t,n):t&&a.push(t),i&&i.length>0)for(r=0;r<i.length;r++)i[r].fn.apply(i[r].context||window,a);else this.failThrough&&this.failThrough(e,t);return this},e}(),de=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pe=function(e){function t(t,n,r,i,a){var o=e.call(this)||this;return o.initialize=At.transportConnectionInitializer,o.hooks=t,o.name=n,o.priority=r,o.key=i,o.options=a,o.state="new",o.timeline=a.timeline,o.activityTimeout=a.activityTimeout,o.id=o.timeline.generateUniqueID(),o}return de(t,e),t.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},t.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},t.prototype.connect=function(){var e=this;if(this.socket||"initialized"!==this.state)return!1;var t=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(t,this.options)}catch(n){return j.defer((function(){e.onError(n),e.changeState("closed")})),!1}return this.bindListeners(),ee.debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0},t.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},t.prototype.send=function(e){var t=this;return"open"===this.state&&(j.defer((function(){t.socket&&t.socket.send(e)})),!0)},t.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},t.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.prototype.onError=function(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))},t.prototype.onClose=function(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.prototype.onMessage=function(e){this.emit("message",e)},t.prototype.onActivity=function(){this.emit("activity")},t.prototype.bindListeners=function(){var e=this;this.socket.onopen=function(){e.onOpen()},this.socket.onerror=function(t){e.onError(t)},this.socket.onclose=function(t){e.onClose(t)},this.socket.onmessage=function(t){e.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=function(){e.onActivity()})},t.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.prototype.changeState=function(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)},t.prototype.buildTimelineMessage=function(e){return V({cid:this.id},e)},t}(he),ve=pe,me=function(){function e(e){this.hooks=e}return e.prototype.isSupported=function(e){return this.hooks.isSupported(e)},e.prototype.createConnection=function(e,t,n,r){return new ve(this.hooks,e,t,n,r)},e}(),ye=new me({urls:ue,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(At.getWebSocketAPI())},isSupported:function(){return Boolean(At.getWebSocketAPI())},getSocket:function(e){return At.createWebSocket(e)}}),ge={urls:se,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},ke=V({getSocket:function(e){return At.HTTPFactory.createStreamingSocket(e)}},ge),be=V({getSocket:function(e){return At.HTTPFactory.createPollingSocket(e)}},ge),we={isSupported:function(){return At.isXHRSupported()}},xe={ws:ye,xhr_streaming:new me(V({},ke,we)),xhr_polling:new me(V({},be,we))},_e=new me({file:"sockjs",urls:ce,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:c.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),Se={isSupported:function(e){return At.isXDRSupported(e.useTLS)}},Ie=new me(V({},ke,Se)),Ee=new me(V({},be,Se));xe.xdr_streaming=Ie,xe.xdr_polling=Ee,xe.sockjs=_e;var Te=xe,Ce=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ae=new(function(e){function t(){var t=e.call(this)||this,n=t;return void 0!==window.addEventListener&&(window.addEventListener("online",(function(){n.emit("online")}),!1),window.addEventListener("offline",(function(){n.emit("offline")}),!1)),t}return Ce(t,e),t.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},t}(he)),Ne=function(){function e(e,t,n){this.manager=e,this.transport=t,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return e.prototype.createConnection=function(e,t,n,r){var i=this;r=V({},r,{activityTimeout:this.pingDelay});var a=this.transport.createConnection(e,t,n,r),o=null,u=function e(t){if(a.unbind("closed",e),1002===t.code||1003===t.code)i.manager.reportDeath();else if(!t.wasClean&&o){var n=j.now()-o;n<2*i.maxPingDelay&&(i.manager.reportDeath(),i.pingDelay=Math.max(n/2,i.minPingDelay))}};return a.bind("open",(function e(){a.unbind("open",e),a.bind("closed",u),o=j.now()})),a},e.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},e}(),Re={decodeMessage:function(e){try{var t=JSON.parse(e.data),n=t.data;if("string"===typeof n)try{n=JSON.parse(t.data)}catch(i){}var r={event:t.event,channel:t.channel,data:n};return t.user_id&&(r.user_id=t.user_id),r}catch(i){throw{type:"MessageParseError",error:i,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){var t=Re.decodeMessage(e);if("pusher:connection_established"===t.event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},getCloseAction:function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"tls_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},getCloseError:function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}},Pe=Re,Oe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),De=function(e){function t(t,n){var r=e.call(this)||this;return r.id=t,r.transport=n,r.activityTimeout=n.activityTimeout,r.bindListeners(),r}return Oe(t,e),t.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.prototype.send=function(e){return this.transport.send(e)},t.prototype.send_event=function(e,t,n){var r={event:e,data:t};return n&&(r.channel=n),ee.debug("Event sent",r),this.send(Pe.encodeMessage(r))},t.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.prototype.close=function(){this.transport.close()},t.prototype.bindListeners=function(){var e=this,t={message:function(t){var n;try{n=Pe.decodeMessage(t)}catch(r){e.emit("error",{type:"MessageParseError",error:r,data:t.data})}if(void 0!==n){switch(ee.debug("Event recd",n),n.event){case"pusher:error":e.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":e.emit("ping");break;case"pusher:pong":e.emit("pong")}e.emit("message",n)}},activity:function(){e.emit("activity")},error:function(t){e.emit("error",t)},closed:function(t){n(),t&&t.code&&e.handleCloseEvent(t),e.transport=null,e.emit("closed")}},n=function(){q(t,(function(t,n){e.transport.unbind(n,t)}))};q(t,(function(t,n){e.transport.bind(n,t)}))},t.prototype.handleCloseEvent=function(e){var t=Pe.getCloseAction(e),n=Pe.getCloseError(e);n&&this.emit("error",n),t&&this.emit(t,{action:t,error:n})},t}(he),Le=function(){function e(e,t){this.transport=e,this.callback=t,this.bindListeners()}return e.prototype.close=function(){this.unbindListeners(),this.transport.close()},e.prototype.bindListeners=function(){var e=this;this.onMessage=function(t){var n;e.unbindListeners();try{n=Pe.processHandshake(t)}catch(r){return e.finish("error",{error:r}),void e.transport.close()}"connected"===n.action?e.finish("connected",{connection:new De(n.id,e.transport),activityTimeout:n.activityTimeout}):(e.finish(n.action,{error:n.error}),e.transport.close())},this.onClosed=function(t){e.unbindListeners();var n=Pe.getCloseAction(t)||"backoff",r=Pe.getCloseError(t);e.finish(n,{error:r})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},e.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.prototype.finish=function(e,t){this.callback(V({transport:this.transport,action:e},t))},e}(),Me=function(){function e(e,t){this.timeline=e,this.options=t||{}}return e.prototype.send=function(e,t){this.timeline.isEmpty()||this.timeline.send(At.TimelineTransport.getAgent(this,e),t)},e}(),Fe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ue=function(e){function t(t,n){var r=e.call(this,(function(e,n){ee.debug("No callbacks on "+t+" for "+e)}))||this;return r.name=t,r.pusher=n,r.subscribed=!1,r.subscriptionPending=!1,r.subscriptionCancelled=!1,r}return Fe(t,e),t.prototype.authorize=function(e,t){return t(null,{auth:""})},t.prototype.trigger=function(e,t){if(0!==e.indexOf("client-"))throw new d("Event '"+e+"' does not start with 'client-'");if(!this.subscribed){var n=f("triggeringClientEvents");ee.warn("Client event triggered before channel 'subscription_succeeded' event . "+n)}return this.pusher.send_event(e,t,this.name)},t.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},t.prototype.handleEvent=function(e){var t=e.event,n=e.data;"pusher_internal:subscription_succeeded"===t?this.handleSubscriptionSucceededEvent(e):"pusher_internal:subscription_count"===t?this.handleSubscriptionCountEvent(e):0!==t.indexOf("pusher_internal:")&&this.emit(t,n,{})},t.prototype.handleSubscriptionSucceededEvent=function(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e.data)},t.prototype.handleSubscriptionCountEvent=function(e){e.data.subscription_count&&(this.subscriptionCount=e.data.subscription_count),this.emit("pusher:subscription_count",e.data)},t.prototype.subscribe=function(){var e=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(function(t,n){t?(e.subscriptionPending=!1,ee.error(t.toString()),e.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:t.message},t instanceof w?{status:t.status}:{}))):e.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:e.name})})))},t.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},t.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},t.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},t}(he),je=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return je(t,e),t.prototype.authorize=function(e,t){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:e},t)},t}(Ue),ze=Ve,Be=function(){function e(){this.reset()}return e.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},e.prototype.each=function(e){var t=this;q(this.members,(function(n,r){e(t.get(r))}))},e.prototype.setMyID=function(e){this.myID=e},e.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},e.prototype.addMember=function(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},e.prototype.removeMember=function(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t},e.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},e}(),qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),He=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))},We=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},Ke=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.members=new Be,r}return qe(t,e),t.prototype.authorize=function(t,n){var r=this;e.prototype.authorize.call(this,t,(function(e,t){return He(r,void 0,void 0,(function(){var r,i;return We(this,(function(a){switch(a.label){case 0:return e?[3,3]:null==t.channel_data?[3,1]:(r=JSON.parse(t.channel_data),this.members.setMyID(r.user_id),[3,3]);case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(a.sent(),null==this.pusher.user.user_data)return i=f("authorizationEndpoint"),ee.error("Invalid auth response for channel '"+this.name+"', expected 'channel_data' field. "+i+", or the user should be signed in."),n("Invalid auth response"),[2];this.members.setMyID(this.pusher.user.user_data.id),a.label=3;case 3:return n(e,t),[2]}}))}))}))},t.prototype.handleEvent=function(e){var t=e.event;if(0===t.indexOf("pusher_internal:"))this.handleInternalEvent(e);else{var n=e.data,r={};e.user_id&&(r.user_id=e.user_id),this.emit(t,n,r)}},t.prototype.handleInternalEvent=function(e){var t=e.event,n=e.data;switch(t){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(e);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(e);break;case"pusher_internal:member_added":var r=this.members.addMember(n);this.emit("pusher:member_added",r);break;case"pusher_internal:member_removed":var i=this.members.removeMember(n);i&&this.emit("pusher:member_removed",i)}},t.prototype.handleSubscriptionSucceededEvent=function(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e.data),this.emit("pusher:subscription_succeeded",this.members))},t.prototype.disconnect=function(){this.members.reset(),e.prototype.disconnect.call(this)},t}(ze),Ge=n(1),Qe=n(0),$e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xe=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.key=null,i.nacl=r,i}return $e(t,e),t.prototype.authorize=function(t,n){var r=this;e.prototype.authorize.call(this,t,(function(e,t){if(e)n(e,t);else{var i=t.shared_secret;i?(r.key=Object(Qe.decode)(i),delete t.shared_secret,n(null,t)):n(new Error("No shared_secret key in auth payload for encrypted channel: "+r.name),null)}}))},t.prototype.trigger=function(e,t){throw new g("Client events are not currently supported for encrypted channels")},t.prototype.handleEvent=function(t){var n=t.event,r=t.data;0!==n.indexOf("pusher_internal:")&&0!==n.indexOf("pusher:")?this.handleEncryptedEvent(n,r):e.prototype.handleEvent.call(this,t)},t.prototype.handleEncryptedEvent=function(e,t){var n=this;if(this.key)if(t.ciphertext&&t.nonce){var r=Object(Qe.decode)(t.ciphertext);if(r.length<this.nacl.secretbox.overheadLength)ee.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+r.length);else{var i=Object(Qe.decode)(t.nonce);if(i.length<this.nacl.secretbox.nonceLength)ee.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+i.length);else{var a=this.nacl.secretbox.open(r,i,this.key);if(null===a)return ee.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,(function(t,o){t?ee.error("Failed to make a request to the authEndpoint: "+o+". Unable to fetch new key, so dropping encrypted event"):null!==(a=n.nacl.secretbox.open(r,i,n.key))?n.emit(e,n.getDataToEmit(a)):ee.error("Failed to decrypt event with new key. Dropping encrypted event")}));this.emit(e,this.getDataToEmit(a))}}}else ee.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+t);else ee.debug("Received encrypted event before key has been retrieved from the authEndpoint")},t.prototype.getDataToEmit=function(e){var t=Object(Ge.decode)(e);try{return JSON.parse(t)}catch(n){return t}},t}(ze),Ye=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Je=function(e){function t(t,n){var r=e.call(this)||this;r.state="initialized",r.connection=null,r.key=t,r.options=n,r.timeline=r.options.timeline,r.usingTLS=r.options.useTLS,r.errorCallbacks=r.buildErrorCallbacks(),r.connectionCallbacks=r.buildConnectionCallbacks(r.errorCallbacks),r.handshakeCallbacks=r.buildHandshakeCallbacks(r.errorCallbacks);var i=At.getNetwork();return i.bind("online",(function(){r.timeline.info({netinfo:"online"}),"connecting"!==r.state&&"unavailable"!==r.state||r.retryIn(0)})),i.bind("offline",(function(){r.timeline.info({netinfo:"offline"}),r.connection&&r.sendActivityCheck()})),r.updateStrategy(),r}return Ye(t,e),t.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},t.prototype.send=function(e){return!!this.connection&&this.connection.send(e)},t.prototype.send_event=function(e,t,n){return!!this.connection&&this.connection.send_event(e,t,n)},t.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.prototype.isUsingTLS=function(){return this.usingTLS},t.prototype.startConnecting=function(){var e=this;this.runner=this.strategy.connect(0,(function t(n,r){n?e.runner=e.strategy.connect(0,t):"error"===r.action?(e.emit("error",{type:"HandshakeError",error:r.error}),e.timeline.error({handshakeError:r.error})):(e.abortConnecting(),e.handshakeCallbacks[r.action](r))}))},t.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},t.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},t.prototype.retryIn=function(e){var t=this;this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new M(e||0,(function(){t.disconnectInternally(),t.connect()}))},t.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.prototype.setUnavailableTimer=function(){var e=this;this.unavailableTimer=new M(this.options.unavailableTimeout,(function(){e.updateState("unavailable")}))},t.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.prototype.sendActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new M(this.options.pongTimeout,(function(){e.timeline.error({pong_timed_out:e.options.pongTimeout}),e.retryIn(0)}))},t.prototype.resetActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new M(this.activityTimeout,(function(){e.sendActivityCheck()})))},t.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.prototype.buildConnectionCallbacks=function(e){var t=this;return V({},e,{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",e)},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}})},t.prototype.buildHandshakeCallbacks=function(e){var t=this;return V({},e,{connected:function(e){t.activityTimeout=Math.min(t.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),t.clearUnavailableTimer(),t.setConnection(e.connection),t.socket_id=t.connection.id,t.updateState("connected",{socket_id:t.socket_id})}})},t.prototype.buildErrorCallbacks=function(){var e=this,t=function(t){return function(n){n.error&&e.emit("error",{type:"WebSocketError",error:n.error}),t(n)}};return{tls_only:t((function(){e.usingTLS=!0,e.updateStrategy(),e.retryIn(0)})),refused:t((function(){e.disconnect()})),backoff:t((function(){e.retryIn(1e3)})),retry:t((function(){e.retryIn(0)}))}},t.prototype.setConnection=function(e){for(var t in this.connection=e,this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()},t.prototype.abandonConnection=function(){if(this.connection){for(var e in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}},t.prototype.updateState=function(e,t){var n=this.state;if(this.state=e,n!==e){var r=e;"connected"===r&&(r+=" with new socket ID "+t.socket_id),ee.debug("State changed",n+" -> "+r),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:n,current:e}),this.emit(e,t)}},t.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},t}(he),Ze=function(){function e(){this.channels={}}return e.prototype.add=function(e,t){return this.channels[e]||(this.channels[e]=function(e,t){if(0===e.indexOf("private-encrypted-")){if(t.config.nacl)return tt.createEncryptedChannel(e,t,t.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",r=f("encryptedChannelSupport");throw new g(n+". "+r)}if(0===e.indexOf("private-"))return tt.createPrivateChannel(e,t);if(0===e.indexOf("presence-"))return tt.createPresenceChannel(e,t);if(0===e.indexOf("#"))throw new p('Cannot create a channel with name "'+e+'".');return tt.createChannel(e,t)}(e,t)),this.channels[e]},e.prototype.all=function(){return function(e){var t=[];return q(e,(function(e){t.push(e)})),t}(this.channels)},e.prototype.find=function(e){return this.channels[e]},e.prototype.remove=function(e){var t=this.channels[e];return delete this.channels[e],t},e.prototype.disconnect=function(){q(this.channels,(function(e){e.disconnect()}))},e}(),et=Ze,tt={createChannels:function(){return new et},createConnectionManager:function(e,t){return new Je(e,t)},createChannel:function(e,t){return new Ue(e,t)},createPrivateChannel:function(e,t){return new ze(e,t)},createPresenceChannel:function(e,t){return new Ke(e,t)},createEncryptedChannel:function(e,t,n){return new Xe(e,t,n)},createTimelineSender:function(e,t){return new Me(e,t)},createHandshake:function(e,t){return new Le(e,t)},createAssistantToTheTransportManager:function(e,t,n){return new Ne(e,t,n)}},nt=function(){function e(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return e.prototype.getAssistant=function(e){return tt.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.prototype.isAlive=function(){return this.livesLeft>0},e.prototype.reportDeath=function(){this.livesLeft-=1},e}(),rt=function(){function e(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}return e.prototype.isSupported=function(){return $(this.strategies,j.method("isSupported"))},e.prototype.connect=function(e,t){var n=this,r=this.strategies,i=0,a=this.timeout,o=null;return o=this.tryStrategy(r[i],e,{timeout:a,failFast:this.failFast},(function u(s,c){c?t(null,c):(i+=1,n.loop&&(i%=r.length),i<r.length?(a&&(a*=2,n.timeoutLimit&&(a=Math.min(a,n.timeoutLimit))),o=n.tryStrategy(r[i],e,{timeout:a,failFast:n.failFast},u)):t(!0))})),{abort:function(){o.abort()},forceMinPriority:function(t){e=t,o&&o.forceMinPriority(t)}}},e.prototype.tryStrategy=function(e,t,n,r){var i=null,a=null;return n.timeout>0&&(i=new M(n.timeout,(function(){a.abort(),r(!0)}))),a=e.connect(t,(function(e,t){e&&i&&i.isRunning()&&!n.failFast||(i&&i.ensureAborted(),r(e,t))})),{abort:function(){i&&i.ensureAborted(),a.abort()},forceMinPriority:function(e){a.forceMinPriority(e)}}},e}(),it=function(){function e(e){this.strategies=e}return e.prototype.isSupported=function(){return $(this.strategies,j.method("isSupported"))},e.prototype.connect=function(e,t){return function(e,t,n){var r=K(e,(function(e,r,i,a){return e.connect(t,n(r,a))}));return{abort:function(){W(r,at)},forceMinPriority:function(e){W(r,(function(t){t.forceMinPriority(e)}))}}}(this.strategies,e,(function(e,n){return function(r,i){n[e].error=r,r?function(e){return function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0}(e,(function(e){return Boolean(e.error)}))}(n)&&t(!0):(W(n,(function(e){e.forceMinPriority(i.transport.priority)})),t(null,i))}}))},e}();function at(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}var ot=function(){function e(e,t,n){this.strategy=e,this.transports=t,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n=this.usingTLS,r=function(e){var t=At.getLocalStorage();if(t)try{var n=t[st(e)];if(n)return JSON.parse(n)}catch(r){ct(e)}return null}(n),i=[this.strategy];if(r&&r.timestamp+this.ttl>=j.now()){var a=this.transports[r.transport];a&&(this.timeline.info({cached:!0,transport:r.transport,latency:r.latency}),i.push(new rt([a],{timeout:2*r.latency+1e3,failFast:!0})))}var o=j.now(),u=i.pop().connect(e,(function r(a,s){a?(ct(n),i.length>0?(o=j.now(),u=i.pop().connect(e,r)):t(a)):(function(e,t,n){var r=At.getLocalStorage();if(r)try{r[st(e)]=J({timestamp:j.now(),transport:t,latency:n})}catch(i){}}(n,s.transport.name,j.now()-o),t(null,s))}));return{abort:function(){u.abort()},forceMinPriority:function(t){e=t,u&&u.forceMinPriority(t)}}},e}(),ut=ot;function st(e){return"pusherTransport"+(e?"TLS":"NonTLS")}function ct(e){var t=At.getLocalStorage();if(t)try{delete t[st(e)]}catch(n){}}var lt=function(){function e(e,t){var n=t.delay;this.strategy=e,this.options={delay:n}}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n,r=this.strategy,i=new M(this.options.delay,(function(){n=r.connect(e,t)}));return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}},e}(),ft=function(){function e(e,t,n){this.test=e,this.trueBranch=t,this.falseBranch=n}return e.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},e.prototype.connect=function(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)},e}(),ht=function(){function e(e){this.strategy=e}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n=this.strategy.connect(e,(function(e,r){r&&n.abort(),t(e,r)}));return n},e}();function dt(e){return function(){return e.isSupported()}}var pt,vt=function(e,t,n){var r={};function i(t,i,a,o,u){var s=n(e,t,i,a,o,u);return r[t]=s,s}var a,o=Object.assign({},t,{hostNonTLS:e.wsHost+":"+e.wsPort,hostTLS:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}),u=Object.assign({},o,{useTLS:!0}),s=Object.assign({},t,{hostNonTLS:e.httpHost+":"+e.httpPort,hostTLS:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}),c={loop:!0,timeout:15e3,timeoutLimit:6e4},l=new nt({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),f=new nt({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),h=i("ws","ws",3,o,l),d=i("wss","ws",3,u,l),p=i("sockjs","sockjs",1,s),v=i("xhr_streaming","xhr_streaming",1,s,f),m=i("xdr_streaming","xdr_streaming",1,s,f),y=i("xhr_polling","xhr_polling",1,s),g=i("xdr_polling","xdr_polling",1,s),k=new rt([h],c),b=new rt([d],c),w=new rt([p],c),x=new rt([new ft(dt(v),v,m)],c),_=new rt([new ft(dt(y),y,g)],c),S=new rt([new ft(dt(x),new it([x,new lt(_,{delay:4e3})]),_)],c),I=new ft(dt(S),S,w);return a=t.useTLS?new it([k,new lt(I,{delay:2e3})]):new it([k,new lt(b,{delay:2e3}),new lt(I,{delay:5e3})]),new ut(new ht(new ft(dt(h),a,I)),r,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},mt={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new v),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}},yt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.hooks=t,i.method=n,i.url=r,i}return yt(t,e),t.prototype.start=function(e){var t=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){t.close()},At.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)},t.prototype.close=function(){this.unloader&&(At.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},t.prototype.onChunk=function(e,t){for(;;){var n=this.advanceBuffer(t);if(!n)break;this.emit("chunk",{status:e,data:n})}this.isBufferTooLong(t)&&this.emit("buffer_too_long")},t.prototype.advanceBuffer=function(e){var t=e.slice(this.position),n=t.indexOf("\n");return-1!==n?(this.position+=n+1,t.slice(0,n)):null},t.prototype.isBufferTooLong=function(e){return this.position===e.length&&e.length>262144},t}(he);!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"}(pt||(pt={}));var kt=pt,bt=1;function wt(e){var t=-1===e.indexOf("?")?"?":"&";return e+t+"t="+ +new Date+"&n="+bt++}function xt(e){return At.randomInt(e)}var _t,St=function(){function e(e,t){this.hooks=e,this.session=xt(1e3)+"/"+function(e){for(var t=[],n=0;n<e;n++)t.push(xt(32).toString(32));return t.join("")}(8),this.location=function(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}(t),this.readyState=kt.CONNECTING,this.openStream()}return e.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},e.prototype.ping=function(){this.hooks.sendHeartbeat(this)},e.prototype.close=function(e,t){this.onClose(e,t,!0)},e.prototype.sendRaw=function(e){if(this.readyState!==kt.OPEN)return!1;try{return At.createSocketRequest("POST",wt((t=this.location,n=this.session,t.base+"/"+n+"/xhr_send"))).start(e),!0}catch(r){return!1}var t,n},e.prototype.reconnect=function(){this.closeStream(),this.openStream()},e.prototype.onClose=function(e,t,n){this.closeStream(),this.readyState=kt.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:n})},e.prototype.onChunk=function(e){var t;if(200===e.status)switch(this.readyState===kt.OPEN&&this.onActivity(),e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var n=0;n<t.length;n++)this.onEvent(t[n]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}},e.prototype.onOpen=function(e){this.readyState===kt.CONNECTING?(e&&e.hostname&&(this.location.base=function(e,t){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e);return n[1]+t+n[3]}(this.location.base,e.hostname)),this.readyState=kt.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},e.prototype.onEvent=function(e){this.readyState===kt.OPEN&&this.onmessage&&this.onmessage({data:e})},e.prototype.onActivity=function(){this.onactivity&&this.onactivity()},e.prototype.onError=function(e){this.onerror&&this.onerror(e)},e.prototype.openStream=function(){var e=this;this.stream=At.createSocketRequest("POST",wt(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(function(t){e.onChunk(t)})),this.stream.bind("finished",(function(t){e.hooks.onFinished(e,t)})),this.stream.bind("buffer_too_long",(function(){e.reconnect()}));try{this.stream.start()}catch(t){j.defer((function(){e.onError(t),e.onClose(1006,"Could not start streaming",!1)}))}},e.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},e}(),It={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}},Et={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}},Tt={getRequest:function(e){var t=new(At.getXHRAPI());return t.onreadystatechange=t.onprogress=function(){switch(t.readyState){case 3:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText);break;case 4:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText),e.emit("finished",t.status),e.close()}},t},abortRequest:function(e){e.onreadystatechange=null,e.abort()}},Ct={createStreamingSocket:function(e){return this.createSocket(It,e)},createPollingSocket:function(e){return this.createSocket(Et,e)},createSocket:function(e,t){return new St(e,t)},createXHR:function(e,t){return this.createRequest(Tt,e,t)},createRequest:function(e,t,n){return new gt(e,t,n)},createXDR:function(e,t){return this.createRequest(mt,e,t)}},At={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:a,DependenciesReceivers:s,getDefaultStrategy:vt,Transports:Te,transportConnectionInitializer:function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.useTLS?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),c.load(e.hooks.file,{useTLS:e.options.useTLS},(function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))}))):e.onClose()},HTTPFactory:Ct,TimelineTransport:ie,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(e){var t=this;window.Pusher=e;var n=function(){t.onDocumentBody(e.ready)};window.JSON?n():c.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:x,jsonp:te}},onDocumentBody:function(e){var t=this;document.body?e():setTimeout((function(){t.onDocumentBody(e)}),0)},createJSONPRequest:function(e,t){return new re(e,t)},createScriptRequest:function(e){return new ne(e)},getLocalStorage:function(){try{return window.localStorage}catch(e){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return Ae},createWebSocket:function(e){return new(this.getWebSocketAPI())(e)},createSocketRequest:function(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var e=this.getXHRAPI();return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported:function(e){var t=e?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===t},addUnloadListener:function(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener:function(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)},randomInt:function(e){return Math.floor(function(){var e=(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0];return e/Math.pow(2,32)}()*e)}};!function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"}(_t||(_t={}));var Nt=_t,Rt=function(){function e(e,t,n){this.key=e,this.session=t,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return e.prototype.log=function(e,t){e<=this.options.level&&(this.events.push(V({},t,{timestamp:j.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.prototype.error=function(e){this.log(Nt.ERROR,e)},e.prototype.info=function(e){this.log(Nt.INFO,e)},e.prototype.debug=function(e){this.log(Nt.DEBUG,e)},e.prototype.isEmpty=function(){return 0===this.events.length},e.prototype.send=function(e,t){var n=this,r=V({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(r,(function(e,r){e||n.sent++,t&&t(e,r)})),!0},e.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},e}(),Pt=function(){function e(e,t,n,r){this.name=e,this.priority=t,this.transport=n,this.options=r||{}}return e.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},e.prototype.connect=function(e,t){var n=this;if(!this.isSupported())return Ot(new b,t);if(this.priority<e)return Ot(new m,t);var r=!1,i=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),a=null,o=function e(){i.unbind("initialized",e),i.connect()},u=function(){a=tt.createHandshake(i,(function(e){r=!0,l(),t(null,e)}))},s=function(e){l(),t(e)},c=function(){var e;l(),e=J(i),t(new y(e))},l=function(){i.unbind("initialized",o),i.unbind("open",u),i.unbind("error",s),i.unbind("closed",c)};return i.bind("initialized",o),i.bind("open",u),i.bind("error",s),i.bind("closed",c),i.initialize(),{abort:function(){r||(l(),a?a.close():i.close())},forceMinPriority:function(e){r||n.priority<e&&(a?a.close():i.close())}}},e}();function Ot(e,t){return j.defer((function(){t(e)})),{abort:function(){},forceMinPriority:function(){}}}var Dt=At.Transports,Lt=function(e,t,n,r,i,a){var o,u=Dt[n];if(!u)throw new k(n);return e.enabledTransports&&-1===B(e.enabledTransports,t)||e.disabledTransports&&-1!==B(e.disabledTransports,t)?o=Mt:(i=Object.assign({ignoreNullOrigin:e.ignoreNullOrigin},i),o=new Pt(t,r,a?a.getAssistant(u):u,i)),o},Mt={isSupported:function(){return!1},connect:function(e,t){var n=j.defer((function(){t(new b)}));return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},Ft=function(e){if("undefined"===typeof At.getAuthorizers()[e.transport])throw"'"+e.transport+"' is not a recognized auth transport";return function(t,n){var i=function(e,t){var n="socket_id="+encodeURIComponent(e.socketId);for(var r in t.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t.params[r]);if(null!=t.paramsProvider){var i=t.paramsProvider();for(var r in i)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(i[r])}return n}(t,e);At.getAuthorizers()[e.transport](At,i,e,r.UserAuthentication,n)}},Ut=function(e){if("undefined"===typeof At.getAuthorizers()[e.transport])throw"'"+e.transport+"' is not a recognized auth transport";return function(t,n){var i=function(e,t){var n="socket_id="+encodeURIComponent(e.socketId);for(var r in n+="&channel_name="+encodeURIComponent(e.channelName),t.params)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t.params[r]);if(null!=t.paramsProvider){var i=t.paramsProvider();for(var r in i)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(i[r])}return n}(t,e);At.getAuthorizers()[e.transport](At,i,e,r.ChannelAuthorization,n)}},jt=function(){return jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jt.apply(this,arguments)};function Vt(e){return e.httpHost?e.httpHost:e.cluster?"sockjs-"+e.cluster+".pusher.com":o.httpHost}function zt(e){return e.wsHost?e.wsHost:"ws-"+e.cluster+".pusher.com"}function Bt(e){return"https:"===At.getProtocol()||!1!==e.forceTLS}function qt(e){return"enableStats"in e?e.enableStats:"disableStats"in e&&!e.disableStats}function Ht(e){var t=jt(jt({},o.userAuthentication),e.userAuthentication);return"customHandler"in t&&null!=t.customHandler?t.customHandler:Ft(t)}function Wt(e,t){var n=function(e,t){var n;return"channelAuthorization"in e?n=jt(jt({},o.channelAuthorization),e.channelAuthorization):(n={transport:e.authTransport||o.authTransport,endpoint:e.authEndpoint||o.authEndpoint},"auth"in e&&("params"in e.auth&&(n.params=e.auth.params),"headers"in e.auth&&(n.headers=e.auth.headers)),"authorizer"in e&&(n.customHandler=function(e,t,n){var r={authTransport:t.transport,authEndpoint:t.endpoint,auth:{params:t.params,headers:t.headers}};return function(t,i){var a=e.channel(t.channelName);n(a,r).authorize(t.socketId,i)}}(t,n,e.authorizer))),n}(e,t);return"customHandler"in n&&null!=n.customHandler?n.customHandler:Ut(n)}var Kt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gt=function(e){function t(t){var n=e.call(this,(function(e,t){ee.debug("No callbacks on watchlist events for "+e)}))||this;return n.pusher=t,n.bindWatchlistInternalEvent(),n}return Kt(t,e),t.prototype.handleEvent=function(e){var t=this;e.data.events.forEach((function(e){t.emit(e.name,e)}))},t.prototype.bindWatchlistInternalEvent=function(){var e=this;this.pusher.connection.bind("message",(function(t){"pusher_internal:watchlist_events"===t.event&&e.handleEvent(t)}))},t}(he),Qt=function(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}},$t=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xt=function(e){function t(t){var n=e.call(this,(function(e,t){ee.debug("No callbacks on user for "+e)}))||this;return n.signin_requested=!1,n.user_data=null,n.serverToUserChannel=null,n.signinDonePromise=null,n._signinDoneResolve=null,n._onAuthorize=function(e,t){if(e)return ee.warn("Error during signin: "+e),void n._cleanup();n.pusher.send_event("pusher:signin",{auth:t.auth,user_data:t.user_data})},n.pusher=t,n.pusher.connection.bind("state_change",(function(e){var t=e.previous,r=e.current;"connected"!==t&&"connected"===r&&n._signin(),"connected"===t&&"connected"!==r&&(n._cleanup(),n._newSigninPromiseIfNeeded())})),n.watchlist=new Gt(t),n.pusher.connection.bind("message",(function(e){"pusher:signin_success"===e.event&&n._onSigninSuccess(e.data),n.serverToUserChannel&&n.serverToUserChannel.name===e.channel&&n.serverToUserChannel.handleEvent(e)})),n}return $t(t,e),t.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},t.prototype._signin=function(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),"connected"===this.pusher.connection.state&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},t.prototype._onSigninSuccess=function(e){try{this.user_data=JSON.parse(e.user_data)}catch(t){return ee.error("Failed parsing user data after signin: "+e.user_data),void this._cleanup()}if("string"!==typeof this.user_data.id||""===this.user_data.id)return ee.error("user_data doesn't contain an id. user_data: "+this.user_data),void this._cleanup();this._signinDoneResolve(),this._subscribeChannels()},t.prototype._subscribeChannels=function(){var e,t=this;this.serverToUserChannel=new Ue("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global((function(e,n){0!==e.indexOf("pusher_internal:")&&0!==e.indexOf("pusher:")&&t.emit(e,n)})),(e=this.serverToUserChannel).subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==t.pusher.connection.state||e.subscribe()},t.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},t.prototype._newSigninPromiseIfNeeded=function(){if(this.signin_requested&&(!this.signinDonePromise||this.signinDonePromise.done)){var e=Qt(),t=e.promise,n=e.resolve;e.reject,t.done=!1;var r=function(){t.done=!0};t.then(r).catch(r),this.signinDonePromise=t,this._signinDoneResolve=n}},t}(he),Yt=function(){function e(t,n){var r=this;!function(e){if(null===e||void 0===e)throw"You must pass your app key when you instantiate Pusher."}(t),function(e){if(null==e)throw"You must pass an options object";if(null==e.cluster)throw"Options object must provide a cluster";"disableStats"in e&&ee.warn("The disableStats option is deprecated in favor of enableStats")}(n),this.key=t,this.config=function(e,t){var n={activityTimeout:e.activityTimeout||o.activityTimeout,cluster:e.cluster,httpPath:e.httpPath||o.httpPath,httpPort:e.httpPort||o.httpPort,httpsPort:e.httpsPort||o.httpsPort,pongTimeout:e.pongTimeout||o.pongTimeout,statsHost:e.statsHost||o.stats_host,unavailableTimeout:e.unavailableTimeout||o.unavailableTimeout,wsPath:e.wsPath||o.wsPath,wsPort:e.wsPort||o.wsPort,wssPort:e.wssPort||o.wssPort,enableStats:qt(e),httpHost:Vt(e),useTLS:Bt(e),wsHost:zt(e),userAuthenticator:Ht(e),channelAuthorizer:Wt(e,t)};return"disabledTransports"in e&&(n.disabledTransports=e.disabledTransports),"enabledTransports"in e&&(n.enabledTransports=e.enabledTransports),"ignoreNullOrigin"in e&&(n.ignoreNullOrigin=e.ignoreNullOrigin),"timelineParams"in e&&(n.timelineParams=e.timelineParams),"nacl"in e&&(n.nacl=e.nacl),n}(n,this),this.channels=tt.createChannels(),this.global_emitter=new he,this.sessionID=At.randomInt(1e9),this.timeline=new Rt(this.key,this.sessionID,{cluster:this.config.cluster,features:e.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Nt.INFO,version:o.VERSION}),this.config.enableStats&&(this.timelineSender=tt.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+At.TimelineTransport.name})),this.connection=tt.createConnectionManager(this.key,{getStrategy:function(e){return At.getDefaultStrategy(r.config,e,Lt)},timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",(function(){r.subscribeAll(),r.timelineSender&&r.timelineSender.send(r.connection.isUsingTLS())})),this.connection.bind("message",(function(e){var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=r.channel(e.channel);n&&n.handleEvent(e)}t||r.global_emitter.emit(e.event,e.data)})),this.connection.bind("connecting",(function(){r.channels.disconnect()})),this.connection.bind("disconnected",(function(){r.channels.disconnect()})),this.connection.bind("error",(function(e){ee.warn(e)})),e.instances.push(this),this.timeline.info({instances:e.instances.length}),this.user=new Xt(this),e.isReady&&this.connect()}return e.ready=function(){e.isReady=!0;for(var t=0,n=e.instances.length;t<n;t++)e.instances[t].connect()},e.getClientFeatures=function(){return H(Q({ws:At.Transports.ws},(function(e){return e.isSupported({})})))},e.prototype.channel=function(e){return this.channels.find(e)},e.prototype.allChannels=function(){return this.channels.all()},e.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),t=this.timelineSender;this.timelineSenderTimer=new F(6e4,(function(){t.send(e)}))}},e.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},e.prototype.bind=function(e,t,n){return this.global_emitter.bind(e,t,n),this},e.prototype.unbind=function(e,t,n){return this.global_emitter.unbind(e,t,n),this},e.prototype.bind_global=function(e){return this.global_emitter.bind_global(e),this},e.prototype.unbind_global=function(e){return this.global_emitter.unbind_global(e),this},e.prototype.unbind_all=function(e){return this.global_emitter.unbind_all(),this},e.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},e.prototype.subscribe=function(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t},e.prototype.unsubscribe=function(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&t.subscribed&&t.unsubscribe()},e.prototype.send_event=function(e,t,n){return this.connection.send_event(e,t,n)},e.prototype.shouldUseTLS=function(){return this.config.useTLS},e.prototype.signin=function(){this.user.signin()},e.instances=[],e.isReady=!1,e.logToConsole=!1,e.Runtime=At,e.ScriptReceivers=At.ScriptReceivers,e.DependenciesReceivers=At.DependenciesReceivers,e.auth_callbacks=At.auth_callbacks,e}(),Jt=t.default=Yt;At.setup(Yt)}])},e.exports=t()},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Nt&&Ut(Nt)&&(Nt=null),Rt.forEach(jt),Pt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function $n(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Hn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ai),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Ei(Ci,e)):Ii(Ai),Ei(Ai,n)}var Ui=null,ji=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,$i=null,Xi=1,Yi="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,$i=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ni:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=$a(!0),Ya=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ei(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Uo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Os,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Os,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Os,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Os,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Ri(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ri(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ha(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ri(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ou,Du,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,Xi=e.id,Yi=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Ku(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ku(t),null;case 10:return xa(t.type._context),Ku(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Ye()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Xu=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Xu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,hs(e,t,n),Xu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Ye())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,vs(t,e),Xu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=$u;var c=Xu;if($u=o,(Xu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Xu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var _s,Ss=Math.ceil,Is=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Rs=0,Ps=0,Os=Si(0),Ds=0,Ls=null,Ms=0,Fs=0,Us=0,js=null,Vs=null,zs=0,Bs=1/0,qs=null,Hs=!1,Ws=null,Ks=null,Gs=!1,Qs=null,$s=0,Xs=0,Ys=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Ye():-1!==Js?Js:Js=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xs)throw Xs=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Ds&&uc(e,Rs)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Ye()+500,ji&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Rs===t||(qs=null,Bs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==Ns?t=0:(As=null,Rs=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Ye()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Ye()+500,ji&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ps=Os.current,Ii(Os)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ns=e=Oc(e.current,null),Rs=Ps=t,Ds=0,Ls=null,Us=Fs=Ms=0,Vs=js=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Ds=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Rs)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Rs===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==Ns)throw Error(a(261));return As=null,Rs=0,Ds}function yc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!$e();)kc(Ns)}function kc(e){var t=_s(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ps)))return void(Ns=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ds=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Xe(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,$s=i),o=e.pendingLanes,0===o&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Ws,Ws=null,e;0!==(1&$s)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ys?Xs++:(Xs=0,Ys=e):Xs=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Rs&n)===n&&(4===Ds||3===Ds&&(130023424&Rs)===Rs&&500>Ye()-zs?hc(e,0):Us|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Rc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Hu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cs)&&(Bs=Ye()+500,Bi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,_=function(){P.postMessage(null)}}else _=function(){y(N,0)};function O(e){I=e,S||(S=!0,_())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ra},SDK_VERSION:function(){return yo},_DEFAULT_ENTRY_NAME:function(){return ro},_addComponent:function(){return uo},_addOrOverwriteComponent:function(){return so},_apps:function(){return ao},_clearComponents:function(){return ho},_components:function(){return oo},_getProvider:function(){return lo},_registerComponent:function(){return co},_removeServiceInstance:function(){return fo},deleteApp:function(){return wo},getApp:function(){return ko},getApps:function(){return bo},initializeApp:function(){return go},onLog:function(){return So},registerVersion:function(){return _o},setLogLevel:function(){return Io}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||u(e,t)||s()}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function h(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=v(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var m=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=v(e))&&(r&&(r+=" "),r+=t);return r};function y(e,t){var n=p({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=p({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=p({},a),Object.keys(i).forEach((function(e){n[r][e]=y(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function g(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}function k(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function w(e){if(e.type)return e;if("#"===e.charAt(0))return w(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(k(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(k(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function x(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function _(e){var t="hsl"===(e=w(e)).type||"hsla"===e.type?w(function(e){var t=(e=w(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),x({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function S(e,t){return e=w(e),t=b(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,x(e)}function I(e,t){if(e=w(e),t=b(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return x(e)}function E(e,t){if(e=w(e),t=b(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return x(e)}function T(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function C(e){return function(e){if(Array.isArray(e))return o(e)}(e)||T(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},N=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,R=A((function(e){return N.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var P=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),O=Math.abs,D=String.fromCharCode,L=Object.assign;function M(e){return e.trim()}function F(e,t,n){return e.replace(t,n)}function U(e,t){return e.indexOf(t)}function j(e,t){return 0|e.charCodeAt(t)}function V(e,t,n){return e.slice(t,n)}function z(e){return e.length}function B(e){return e.length}function q(e,t){return t.push(e),e}var H=1,W=1,K=0,G=0,Q=0,$="";function X(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:H,column:W,length:o,return:""}}function Y(e,t){return L(X("",null,null,"",null,null,0),e,{length:-e.length},t)}function J(){return Q=G>0?j($,--G):0,W--,10===Q&&(W=1,H--),Q}function Z(){return Q=G<K?j($,G++):0,W++,10===Q&&(W=1,H++),Q}function ee(){return j($,G)}function te(){return G}function ne(e,t){return V($,e,t)}function re(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ie(e){return H=W=1,K=z($=e),G=0,[]}function ae(e){return $="",e}function oe(e){return M(ne(G-1,ce(91===e?e+2:40===e?e+1:e)))}function ue(e){for(;(Q=ee())&&Q<33;)Z();return re(e)>2||re(Q)>3?"":" "}function se(e,t){for(;--t&&Z()&&!(Q<48||Q>102||Q>57&&Q<65||Q>70&&Q<97););return ne(e,te()+(t<6&&32==ee()&&32==Z()))}function ce(e){for(;Z();)switch(Q){case e:return G;case 34:case 39:34!==e&&39!==e&&ce(Q);break;case 40:41===e&&ce(e);break;case 92:Z()}return G}function le(e,t){for(;Z()&&e+Q!==57&&(e+Q!==84||47!==ee()););return"/*"+ne(t,G-1)+"*"+D(47===e?e:Z())}function fe(e){for(;!re(ee());)Z();return ne(e,G)}var he="-ms-",de="-moz-",pe="-webkit-",ve="comm",me="rule",ye="decl",ge="@keyframes";function ke(e,t){for(var n="",r=B(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function be(e,t,n,r){switch(e.type){case"@import":case ye:return e.return=e.return||e.value;case ve:return"";case ge:return e.return=e.value+"{"+ke(e.children,r)+"}";case me:e.value=e.props.join(",")}return z(n=ke(e.children,r))?e.return=e.value+"{"+n+"}":""}function we(e){return ae(xe("",null,null,null,[""],e=ie(e),0,[0],e))}function xe(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=g,g=Z()){case 40:if(108!=p&&58==j(_,f-1)){-1!=U(_+=F(oe(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=oe(g);break;case 9:case 10:case 13:case 32:_+=ue(p);break;case 92:_+=se(te()-1,7);continue;case 47:switch(ee()){case 42:case 47:q(Se(le(Z(),te()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=z(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&z(_)-f&&q(d>32?Ie(_+";",r,n,f-1):Ie(F(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(q(x=_e(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)xe(_,t,x,x,b,a,f,u,w);else switch(99===h&&110===j(_,3)?100:h){case 100:case 109:case 115:xe(e,x,x,r&&q(_e(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:xe(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=_="",f=o;break;case 58:f=1+z(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==J())continue;switch(_+=D(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(z(_)-1)*y,y=1;break;case 64:45===ee()&&(_+=oe(Z())),h=ee(),l=f=z(k=_+=fe(te())),g++;break;case 45:45===p&&2==z(_)&&(v=0)}}return a}function _e(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=B(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=V(e,f+1,f=O(v=o[p])),k=e;y<d;++y)(k=M(v>0?h[y]+" "+g:F(g,/&\f/g,h[y])))&&(s[m++]=k);return X(e,t,n,0===i?me:u,s,c,l)}function Se(e,t,n){return X(e,t,n,ve,D(Q),V(e,2,-2),0)}function Ie(e,t,n,r){return X(e,t,n,ye,V(e,0,r),V(e,r+1,-1),r)}var Ee=function(e,t,n){for(var r=0,i=0;r=i,i=ee(),38===r&&12===i&&(t[n]=1),!re(i);)Z();return ne(e,G)},Te=function(e,t){return ae(function(e,t){var n=-1,r=44;do{switch(re(r)){case 0:38===r&&12===ee()&&(t[n]=1),e[n]+=Ee(G-1,t,n);break;case 2:e[n]+=oe(r);break;case 4:if(44===r){e[++n]=58===ee()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=D(r)}}while(r=Z());return e}(ie(e),t))},Ce=new WeakMap,Ae=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ce.get(n))&&!r){Ce.set(e,!0);for(var i=[],a=Te(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},Ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Re(e,t){switch(function(e,t){return 45^j(e,0)?(((t<<2^j(e,0))<<2^j(e,1))<<2^j(e,2))<<2^j(e,3):0}(e,t)){case 5103:return pe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return pe+e+de+e+he+e+e;case 6828:case 4268:return pe+e+he+e+e;case 6165:return pe+e+he+"flex-"+e+e;case 5187:return pe+e+F(e,/(\w+).+(:[^]+)/,pe+"box-$1$2"+he+"flex-$1$2")+e;case 5443:return pe+e+he+"flex-item-"+F(e,/flex-|-self/,"")+e;case 4675:return pe+e+he+"flex-line-pack"+F(e,/align-content|flex-|-self/,"")+e;case 5548:return pe+e+he+F(e,"shrink","negative")+e;case 5292:return pe+e+he+F(e,"basis","preferred-size")+e;case 6060:return pe+"box-"+F(e,"-grow","")+pe+e+he+F(e,"grow","positive")+e;case 4554:return pe+F(e,/([^-])(transform)/g,"$1"+pe+"$2")+e;case 6187:return F(F(F(e,/(zoom-|grab)/,pe+"$1"),/(image-set)/,pe+"$1"),e,"")+e;case 5495:case 3959:return F(e,/(image-set\([^]*)/,pe+"$1$`$1");case 4968:return F(F(e,/(.+:)(flex-)?(.*)/,pe+"box-pack:$3"+he+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pe+e+e;case 4095:case 3583:case 4068:case 2532:return F(e,/(.+)-inline(.+)/,pe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(z(e)-1-t>6)switch(j(e,t+1)){case 109:if(45!==j(e,t+4))break;case 102:return F(e,/(.+:)(.+)-([^]+)/,"$1"+pe+"$2-$3$1"+de+(108==j(e,t+3)?"$3":"$2-$3"))+e;case 115:return~U(e,"stretch")?Re(F(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==j(e,t+1))break;case 6444:switch(j(e,z(e)-3-(~U(e,"!important")&&10))){case 107:return F(e,":",":"+pe)+e;case 101:return F(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pe+(45===j(e,14)?"inline-":"")+"box$3$1"+pe+"$2$3$1"+he+"$2box$3")+e}break;case 5936:switch(j(e,t+11)){case 114:return pe+e+he+F(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return pe+e+he+F(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return pe+e+he+F(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return pe+e+he+e+e}return e}var Pe=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ye:e.return=Re(e.value,e.length);break;case ge:return ke([Y(e,{value:F(e.value,"@","@"+pe)})],r);case me:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ke([Y(e,{props:[F(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ke([Y(e,{props:[F(t,/:(plac\w+)/,":"+pe+"input-$1")]}),Y(e,{props:[F(t,/:(plac\w+)/,":-moz-$1")]}),Y(e,{props:[F(t,/:(plac\w+)/,he+"input-$1")]})],r)}return""}))}}],Oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Pe;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[be,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=B(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([Ae,Ne].concat(r,l));a=function(e,t,n,r){s=n,ke(we(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new P({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var De=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Le={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Me=/[A-Z]|^ms/g,Fe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ue=function(e){return 45===e.charCodeAt(1)},je=function(e){return null!=e&&"boolean"!==typeof e},Ve=A((function(e){return Ue(e)?e:e.replace(Me,"-$&").toLowerCase()})),ze=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Fe,(function(e,t,n){return qe={name:t,styles:n,next:qe},t}))}return 1===Le[e]||Ue(e)||"number"!==typeof t||0===t?t:t+"px"};function Be(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return qe={name:n.name,styles:n.styles,next:qe},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)qe={name:r.name,styles:r.styles,next:qe},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Be(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":je(o)&&(r+=Ve(a)+":"+ze(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Be(e,t,o);switch(a){case"animation":case"animationName":r+=Ve(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)je(o[s])&&(r+=Ve(a)+":"+ze(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=qe,a=n(e);return qe=i,Be(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var qe,He=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var We=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";qe=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Be(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Be(n,t,e[o]),r&&(i+=a[o]);He.lastIndex=0;for(var u,s="";null!==(u=He.exec(i));)s+="-"+u[1];return{name:De(i)+s,styles:i,next:qe}},Ke=!!r.useInsertionEffect&&r.useInsertionEffect,Ge=Ke||function(e){return e()},Qe=(Ke||t.useLayoutEffect,(0,t.createContext)("undefined"!==typeof HTMLElement?Oe({key:"css"}):null));Qe.Provider;var $e=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Qe);return e(n,i,r)}))},Xe=(0,t.createContext)({});function Ye(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Je=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Ze=R,et=function(e){return"theme"!==e},tt=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Ze:et},nt=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},rt=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Je(t,n,r);Ge((function(){return function(e,t,n){Je(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},it=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=nt(n,r,o),c=s||tt(u),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,v=1;v<d;v++)h.push(f[v],f[0][v])}var m=$e((function(e,n,r){var i=l&&e.as||u,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,t.useContext)(Xe)}"string"===typeof e.className?o=Ye(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=We(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?tt(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(rt,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=h,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,p({},r,n,{shouldForwardProp:nt(m,n,!0)})).apply(void 0,h)},m}},at=it.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){at[e]=at(e)}));var ot=at;function ut(e,t){return ot(e,t)}var st=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function ct(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function lt(e){if(!ct(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=lt(e[n])})),t}function ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?p({},e):e;return ct(e)&&ct(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(ct(t[i])&&i in e&&ct(e[i])?r[i]=ft(e[i],t[i],n):n.clone?r[i]=ct(t[i])?lt(t[i]):t[i]:r[i]=t[i])})),r}var ht=["values","unit","step"];function dt(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=d(e,ht),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return p({},e,h({},t.key,t.val))}),{})}(n),c=Object.keys(s);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function v(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return p({keys:c,values:s,up:l,down:f,between:v,only:function(e){return c.indexOf(e)+1<c.length?v(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):v(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var pt={borderRadius:4},vt={xs:0,sm:600,md:900,lg:1200,xl:1536},mt={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(vt[e],"px)")}};function yt(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||mt;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||mt;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||vt).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function gt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function kt(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function bt(e){if("string"!==typeof e)throw new Error(k(7));return e.charAt(0).toUpperCase()+e.slice(1)}function wt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function xt(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:wt(e,n)||i,t&&(r=t(r,i,e)),r}var _t=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=wt(e.theme,i)||{};return yt(e,n,(function(e){var n=xt(o,a,e);return e===n&&"string"===typeof e&&(n=xt(o,a,"".concat(t).concat("default"===e?"":bt(e)),e)),!1===r?n:h({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var St=function(e,t){return t?ft(e,t,{clone:!1}):e};var It={m:"margin",p:"padding"},Et={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Tt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ct=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!Tt[e])return[e];e=Tt[e]}var t=c(e.split(""),2),n=t[0],r=t[1],i=It[n],a=Et[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),At=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Nt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Rt=[].concat(At,Nt);function Pt(e,t,n,r){var i,a=null!=(i=wt(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function Ot(e){return Pt(e,"spacing",8)}function Dt(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function Lt(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=Dt(t,n),e}),{})}}(Ct(n),r);return yt(e,e[n],i)}function Mt(e,t){var n=Ot(e.theme);return Object.keys(e).map((function(r){return Lt(e,t,r,n)})).reduce(St,{})}function Ft(e){return Mt(e,At)}function Ut(e){return Mt(e,Nt)}function jt(e){return Mt(e,Rt)}Ft.propTypes={},Ft.filterProps=At,Ut.propTypes={},Ut.filterProps=Nt,jt.propTypes={},jt.filterProps=Rt;function Vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Ot({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var zt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?St(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Bt(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var qt=_t({prop:"border",themeKey:"borders",transform:Bt}),Ht=_t({prop:"borderTop",themeKey:"borders",transform:Bt}),Wt=_t({prop:"borderRight",themeKey:"borders",transform:Bt}),Kt=_t({prop:"borderBottom",themeKey:"borders",transform:Bt}),Gt=_t({prop:"borderLeft",themeKey:"borders",transform:Bt}),Qt=_t({prop:"borderColor",themeKey:"palette"}),$t=_t({prop:"borderTopColor",themeKey:"palette"}),Xt=_t({prop:"borderRightColor",themeKey:"palette"}),Yt=_t({prop:"borderBottomColor",themeKey:"palette"}),Jt=_t({prop:"borderLeftColor",themeKey:"palette"}),Zt=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Pt(e.theme,"shape.borderRadius",4);return yt(e,e.borderRadius,(function(e){return{borderRadius:Dt(t,e)}}))}return null};Zt.propTypes={},Zt.filterProps=["borderRadius"];zt(qt,Ht,Wt,Kt,Gt,Qt,$t,Xt,Yt,Jt,Zt);var en=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Pt(e.theme,"spacing",8);return yt(e,e.gap,(function(e){return{gap:Dt(t,e)}}))}return null};en.propTypes={},en.filterProps=["gap"];var tn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Pt(e.theme,"spacing",8);return yt(e,e.columnGap,(function(e){return{columnGap:Dt(t,e)}}))}return null};tn.propTypes={},tn.filterProps=["columnGap"];var nn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Pt(e.theme,"spacing",8);return yt(e,e.rowGap,(function(e){return{rowGap:Dt(t,e)}}))}return null};nn.propTypes={},nn.filterProps=["rowGap"];zt(en,tn,nn,_t({prop:"gridColumn"}),_t({prop:"gridRow"}),_t({prop:"gridAutoFlow"}),_t({prop:"gridAutoColumns"}),_t({prop:"gridAutoRows"}),_t({prop:"gridTemplateColumns"}),_t({prop:"gridTemplateRows"}),_t({prop:"gridTemplateAreas"}),_t({prop:"gridArea"}));function rn(e,t){return"grey"===t?t:e}zt(_t({prop:"color",themeKey:"palette",transform:rn}),_t({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:rn}),_t({prop:"backgroundColor",themeKey:"palette",transform:rn}));function an(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var on=_t({prop:"width",transform:an}),un=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return yt(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||vt[t]||an(t)}}))}return null};un.filterProps=["maxWidth"];var sn=_t({prop:"minWidth",transform:an}),cn=_t({prop:"height",transform:an}),ln=_t({prop:"maxHeight",transform:an}),fn=_t({prop:"minHeight",transform:an}),hn=(_t({prop:"size",cssProperty:"width",transform:an}),_t({prop:"size",cssProperty:"height",transform:an}),zt(on,un,sn,cn,ln,fn,_t({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Bt},borderTop:{themeKey:"borders",transform:Bt},borderRight:{themeKey:"borders",transform:Bt},borderBottom:{themeKey:"borders",transform:Bt},borderLeft:{themeKey:"borders",transform:Bt},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Zt},color:{themeKey:"palette",transform:rn},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:rn},backgroundColor:{themeKey:"palette",transform:rn},p:{style:Ut},pt:{style:Ut},pr:{style:Ut},pb:{style:Ut},pl:{style:Ut},px:{style:Ut},py:{style:Ut},padding:{style:Ut},paddingTop:{style:Ut},paddingRight:{style:Ut},paddingBottom:{style:Ut},paddingLeft:{style:Ut},paddingX:{style:Ut},paddingY:{style:Ut},paddingInline:{style:Ut},paddingInlineStart:{style:Ut},paddingInlineEnd:{style:Ut},paddingBlock:{style:Ut},paddingBlockStart:{style:Ut},paddingBlockEnd:{style:Ut},m:{style:Ft},mt:{style:Ft},mr:{style:Ft},mb:{style:Ft},ml:{style:Ft},mx:{style:Ft},my:{style:Ft},margin:{style:Ft},marginTop:{style:Ft},marginRight:{style:Ft},marginBottom:{style:Ft},marginLeft:{style:Ft},marginX:{style:Ft},marginY:{style:Ft},marginInline:{style:Ft},marginInlineStart:{style:Ft},marginInlineEnd:{style:Ft},marginBlock:{style:Ft},marginBlockStart:{style:Ft},marginBlockEnd:{style:Ft},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:en},rowGap:{style:nn},columnGap:{style:tn},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:an},maxWidth:{style:un},minWidth:{transform:an},height:{transform:an},maxHeight:{transform:an},minHeight:{transform:an},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var dn=function(){function e(e,t,n,r){var i,a=(h(i={},e,t),h(i,"theme",n),i),o=r[e];if(!o)return h({},e,t);var u=o.cssProperty,s=void 0===u?e:u,c=o.themeKey,l=o.transform,f=o.style;if(null==t)return null;var d=wt(n,c)||{};if(f)return f(a);return yt(a,t,(function(t){var n=xt(d,l,t);return t===n&&"string"===typeof t&&(n=xt(d,l,"".concat(e).concat("default"===t?"":bt(t)),t)),!1===s?n:h({},s,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var s=null!=(r=u.unstable_sxConfig)?r:hn;function c(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=gt(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(s[n])o=St(o,e(n,c,u,s));else{var l=yt({theme:u},c,(function(e){return h({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=St(o,l):o[n]=t({sx:c,theme:u})}else o=St(o,e(n,c,u,s))})),kt(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();dn.filterProps=["sx"];var pn=dn,vn=["breakpoints","palette","spacing","shape"];var mn=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=d(e,vn),c=dt(n),l=Vt(a),f=ft({breakpoints:c,direction:"ltr",components:{},palette:p({mode:"light"},i),spacing:l,shape:p({},pt,u)},s),h=arguments.length,v=new Array(h>1?h-1:0),m=1;m<h;m++)v[m-1]=arguments[m];return(f=v.reduce((function(e,t){return ft(e,t)}),f)).unstable_sxConfig=p({},hn,null==s?void 0:s.unstable_sxConfig),f.unstable_sx=function(e){return pn({sx:e,theme:this})},f},yn=["variant"];function gn(e){return 0===e.length}function kn(e){var t=e.variant,n=d(e,yn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?gn(r)?e[t]:bt(e[t]):"".concat(gn(r)?t:bt(t)).concat(bt(e[t].toString()))})),r}var bn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],wn=["theme"],xn=["theme"];function _n(e){return 0===Object.keys(e).length}function Sn(e){return"string"===typeof e&&e.charCodeAt(0)>96}var In=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},En=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=kn(e.props);r[t]=e.style})),r},Tn=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[kn(n.props)])})),s};function Cn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var An=mn();function Nn(e,t){var n;return p({toolbar:(n={minHeight:56},h(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),h(n,e.up("sm"),{minHeight:64}),n)},t)}var Rn={black:"#000",white:"#fff"},Pn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},On={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Dn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ln={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Mn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Fn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Un={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},jn=["mode","contrastThreshold","tonalOffset"],Vn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rn.white,default:Rn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},zn={text:{primary:Rn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Rn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Bn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=E(e.main,i):"dark"===t&&(e.dark=I(e.main,a)))}function qn(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=d(e,jn),s=e.primary||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:Mn[200],light:Mn[50],dark:Mn[400]}:{main:Mn[700],light:Mn[400],dark:Mn[800]}}(n),c=e.secondary||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:On[200],light:On[50],dark:On[400]}:{main:On[500],light:On[300],dark:On[700]}}(n),l=e.error||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:Dn[500],light:Dn[300],dark:Dn[700]}:{main:Dn[700],light:Dn[400],dark:Dn[800]}}(n),f=e.info||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:Fn[400],light:Fn[300],dark:Fn[700]}:{main:Fn[700],light:Fn[500],dark:Fn[900]}}(n),h=e.success||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:Un[400],light:Un[300],dark:Un[700]}:{main:Un[800],light:Un[500],dark:Un[900]}}(n),v=e.warning||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return"dark"===e?{main:Ln[400],light:Ln[300],dark:Ln[700]}:{main:"#ed6c02",light:Ln[500],dark:Ln[900]}}(n);function m(e){var t=function(e,t){var n=_(e),r=_(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,zn.text.primary)>=i?zn.text.primary:Vn.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=p({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(k(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(k(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Bn(t,"light",u,o),Bn(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},g={dark:zn,light:Vn};return ft(p({common:p({},Rn),mode:n,primary:y({color:s,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:h,name:"success"}),grey:Pn,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:o},g[n]),u)}var Hn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Wn={textTransform:"uppercase"},Kn='"Roboto", "Helvetica", "Arial", sans-serif';function Gn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Kn:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=d(n,Hn);var x=o/14,_=b||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return p({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===Kn?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},I={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(l,48,1.167,0),h4:S(l,34,1.235,.25),h5:S(l,24,1.334,0),h6:S(h,20,1.6,.15),subtitle1:S(l,16,1.75,.15),subtitle2:S(h,14,1.57,.1),body1:S(l,16,1.5,.15),body2:S(l,14,1.43,.15),button:S(h,14,1.75,.4,Wn),caption:S(l,12,1.66,.4),overline:S(l,12,2.66,1,Wn)};return ft(p({htmlFontSize:g,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:m},I),w,{clone:!1})}function Qn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var $n=["none",Qn(0,2,1,-1,0,1,1,0,0,1,3,0),Qn(0,3,1,-2,0,2,2,0,0,1,5,0),Qn(0,3,3,-2,0,3,4,0,0,1,8,0),Qn(0,2,4,-1,0,4,5,0,0,1,10,0),Qn(0,3,5,-1,0,5,8,0,0,1,14,0),Qn(0,3,5,-1,0,6,10,0,0,1,18,0),Qn(0,4,5,-2,0,7,10,1,0,2,16,1),Qn(0,5,5,-3,0,8,10,1,0,3,14,2),Qn(0,5,6,-3,0,9,12,1,0,3,16,2),Qn(0,6,6,-3,0,10,14,1,0,4,18,3),Qn(0,6,7,-4,0,11,15,1,0,4,20,3),Qn(0,7,8,-4,0,12,17,2,0,5,22,4),Qn(0,7,8,-4,0,13,19,2,0,5,24,4),Qn(0,7,9,-4,0,14,21,2,0,5,26,4),Qn(0,8,9,-5,0,15,22,2,0,6,28,5),Qn(0,8,10,-5,0,16,24,2,0,6,30,5),Qn(0,8,11,-5,0,17,26,2,0,6,32,5),Qn(0,9,11,-5,0,18,28,2,0,7,34,6),Qn(0,9,12,-6,0,19,29,2,0,7,36,6),Qn(0,10,13,-6,0,20,31,3,0,8,38,7),Qn(0,10,13,-6,0,21,33,3,0,8,40,7),Qn(0,10,14,-6,0,22,35,3,0,8,42,7),Qn(0,11,14,-7,0,23,36,3,0,9,44,8),Qn(0,11,15,-7,0,24,38,3,0,9,46,8)],Xn=["duration","easing","delay"],Yn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Jn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Zn(e){return"".concat(Math.round(e),"ms")}function er(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function tr(e){var t=p({},Yn,e.easing),n=p({},Jn,e.duration);return p({getAutoHeightDuration:er,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;d(r,Xn);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Zn(a)," ").concat(u," ").concat("string"===typeof c?c:Zn(c))})).join(",")}},e,{easing:t,duration:n})}var nr={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},rr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=d(e,rr);if(e.vars)throw new Error(k(18));var l=qn(i),f=mn(e),h=ft(f,{mixins:Nn(f.breakpoints,n),palette:l,shadows:$n.slice(),typography:Gn(l,s),transitions:tr(o),zIndex:p({},nr)});h=ft(h,c);for(var v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return(h=m.reduce((function(e,t){return ft(e,t)}),h)).unstable_sxConfig=p({},hn,null==c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return pn({sx:e,theme:this})},h}var ar=ir(),or=function(e){return Cn(e)&&"classes"!==e},ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?An:t,r=e.rootShouldForwardProp,i=void 0===r?Cn:r,a=e.slotShouldForwardProp,o=void 0===a?Cn:a,u=function(e){var t=_n(e.theme)?n:e.theme;return pn(p({},e,{theme:t}))};return u.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};st(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r,a=t.name,s=t.slot,l=t.skipVariantsResolver,f=t.skipSx,h=t.overridesResolver,v=d(t,bn),m=void 0!==l?l:s&&"Root"!==s||!1,y=f||!1;var g=Cn;"Root"===s?g=i:s?g=o:Sn(e)&&(g=void 0);var k=ut(e,p({shouldForwardProp:g,label:r},v)),b=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=d(t,wn);return e(p({theme:_n(r)?n:r},i))}:e})):[],s=e;a&&h&&o.push((function(e){var t=_n(e.theme)?n:e.theme,r=In(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=c(n,2),a=r[0],o=r[1];i[a]="function"===typeof o?o(p({},e,{theme:t})):o})),h(e,i)}return null})),a&&!m&&o.push((function(e){var t=_n(e.theme)?n:e.theme;return Tn(e,En(a,t),t,a)})),y||o.push(u);var l=o.length-r.length;if(Array.isArray(e)&&l>0){var f=new Array(l).fill("");(s=[].concat(C(e),C(f))).raw=[].concat(C(e.raw),C(f))}else"function"===typeof e&&e.__emotion_real!==e&&(s=function(t){var r=t.theme,i=d(t,xn);return e(p({theme:_n(r)?n:r},i))});var v=k.apply(void 0,[s].concat(C(o)));return v};return k.withConfig&&(b.withConfig=k.withConfig),b}}({defaultTheme:ar,rootShouldForwardProp:or}),sr=ur;var cr=t.createContext(null);function lr(){return t.useContext(cr)}function fr(e){return 0===Object.keys(e).length}var hr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=lr();return!t||fr(t)?e:t},dr=mn();var pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;return hr(e)};function vr(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?y(t.components[n].defaultProps,r):r}({theme:pr(r),name:n,props:t});return i}function mr(e){return vr({props:e.props,name:e.name,defaultTheme:ar})}function yr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var gr=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((function(){return n.every((function(e){return null==e}))?null:function(e){n.forEach((function(t){yr(t,e)}))}}),n)},kr="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var br,wr=function(e){var n=t.useRef(e);return kr((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},xr=!0,_r=!1,Sr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ir(e){e.metaKey||e.altKey||e.ctrlKey||(xr=!0)}function Er(){xr=!1}function Tr(){"hidden"===this.visibilityState&&_r&&(xr=!0)}function Cr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return xr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Sr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Ar=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Ir,!0),t.addEventListener("mousedown",Er,!0),t.addEventListener("pointerdown",Er,!0),t.addEventListener("touchstart",Er,!0),t.addEventListener("visibilitychange",Tr,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Cr(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(_r=!0,window.clearTimeout(br),br=window.setTimeout((function(){_r=!1}),100),n.current=!1,!0)},ref:e}};function Nr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pr(e,t){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pr(e,t)}var Or=t.createContext(null);function Dr(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function Lr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Mr(e,n,r){var i=Dr(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:Lr(u,"exit",e),enter:Lr(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:Lr(u,"exit",e),enter:Lr(u,"enter",e)})}})),a}var Fr=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Ur=function(e){var n,r;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Rr(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Pr(n,r);var a=i.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,Dr(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Lr(e,"appear",r),enter:Lr(e,"enter",r),exit:Lr(e,"exit",r)})}))):Mr(e,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=Dr(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=p({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=d(e,["component","childFactory"]),a=this.state.contextValue,o=Fr(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(Or.Provider,{value:a},o):t.createElement(Or.Provider,{value:a},t.createElement(n,i,o))},i}(t.Component);Ur.propTypes={},Ur.defaultProps={component:"div",childFactory:function(e){return e}};var jr=Ur;n(110);function Vr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return We(t)}var zr=function(){var e=Vr.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Br=n(184);var qr=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,d=c(t.useState(!1),2),p=d[0],v=d[1],y=m(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:s,height:s,top:-s/2+u,left:-s/2+o},k=m(r.child,p&&r.childLeaving,a&&r.childPulsate);return l||p||v(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,Br.jsx)("span",{className:y,style:g,children:(0,Br.jsx)("span",{className:k})})},Hr=function(e){return e},Wr=function(){var e=Hr;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Hr}}}(),Kr={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Gr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=Kr[t];return r?"".concat(n,"-").concat(r):"".concat(Wr.generate(e),"-").concat(t)}function Qr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=Gr(e,t,n)})),r}var $r,Xr,Yr,Jr,Zr,ei,ti,ni,ri=Qr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ii=["center","classes","className"],ai=zr(Zr||(Zr=$r||($r=Nr(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),oi=zr(ei||(ei=Xr||(Xr=Nr(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),ui=zr(ti||(ti=Yr||(Yr=Nr(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),si=sr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ci=sr(qr,{name:"MuiTouchRipple",slot:"Ripple"})(ni||(ni=Jr||(Jr=Nr(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),ri.rippleVisible,ai,550,(function(e){return e.theme.transitions.easing.easeInOut}),ri.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),ri.child,ri.childLeaving,oi,550,(function(e){return e.theme.transitions.easing.easeInOut}),ri.childPulsate,ui,(function(e){return e.theme.transitions.easing.easeInOut})),li=t.forwardRef((function(e,n){var r=mr({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,l=d(r,ii),f=c(t.useState([]),2),h=f[0],v=f[1],y=t.useRef(0),g=t.useRef(null);t.useEffect((function(){g.current&&(g.current(),g.current=null)}),[h]);var k=t.useRef(!1),b=t.useRef(null),w=t.useRef(null),x=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var _=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;v((function(e){return[].concat(C(e),[(0,Br.jsx)(ci,{classes:{ripple:m(u.ripple,ri.ripple),rippleVisible:m(u.rippleVisible,ri.rippleVisible),ripplePulsate:m(u.ripplePulsate,ri.ripplePulsate),child:m(u.child,ri.child),childLeaving:m(u.childLeaving,ri.childLeaving),childPulsate:m(u.childPulsate,ri.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},y.current)])})),y.current+=1,g.current=a}),[u]),S=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&k.current)k.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(k.current=!0);var l,f,h,d=c?null:x.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(S,2))}null!=e&&e.touches?null===w.current&&(w.current=function(){_({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},b.current=setTimeout((function(){w.current&&(w.current(),w.current=null)}),80)):_({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,_]),I=t.useCallback((function(){S({},{pulsate:!0})}),[S]),E=t.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===(null==e?void 0:e.type)&&w.current)return w.current(),w.current=null,void(b.current=setTimeout((function(){E(e,t)})));w.current=null,v((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:I,start:S,stop:E}}),[I,S,E]),(0,Br.jsx)(si,p({className:m(ri.root,u.root,s),ref:x},l,{children:(0,Br.jsx)(jr,{component:null,exit:!0,children:h})}))})),fi=li;function hi(e){return Gr("MuiButtonBase",e)}var di,pi=Qr("MuiButtonBase",["root","disabled","focusVisible"]),vi=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],mi=sr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((h(di={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(pi.disabled),{pointerEvents:"none",cursor:"default"}),h(di,"@media print",{colorAdjust:"exact"}),di)),yi=t.forwardRef((function(e,n){var r=mr({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,l=r.component,f=void 0===l?"button":l,h=r.disabled,v=void 0!==h&&h,y=r.disableRipple,k=void 0!==y&&y,b=r.disableTouchRipple,w=void 0!==b&&b,x=r.focusRipple,_=void 0!==x&&x,S=r.LinkComponent,I=void 0===S?"a":S,E=r.onBlur,T=r.onClick,C=r.onContextMenu,A=r.onDragLeave,N=r.onFocus,R=r.onFocusVisible,P=r.onKeyDown,O=r.onKeyUp,D=r.onMouseDown,L=r.onMouseLeave,M=r.onMouseUp,F=r.onTouchEnd,U=r.onTouchMove,j=r.onTouchStart,V=r.tabIndex,z=void 0===V?0:V,B=r.TouchRippleProps,q=r.touchRippleRef,H=r.type,W=d(r,vi),K=t.useRef(null),G=t.useRef(null),Q=gr(G,q),$=Ar(),X=$.isFocusVisibleRef,Y=$.onFocus,J=$.onBlur,Z=$.ref,ee=c(t.useState(!1),2),te=ee[0],ne=ee[1];v&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),K.current.focus()}}}),[]);var re=c(t.useState(!1),2),ie=re[0],ae=re[1];t.useEffect((function(){ae(!0)}),[]);var oe=ie&&!k&&!v;function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return wr((function(r){return t&&t(r),!n&&G.current&&G.current[e](r),!0}))}t.useEffect((function(){te&&_&&!k&&ie&&G.current.pulsate()}),[k,_,te,ie]);var se=ue("start",D),ce=ue("stop",C),le=ue("stop",A),fe=ue("stop",M),he=ue("stop",(function(e){te&&e.preventDefault(),L&&L(e)})),de=ue("start",j),pe=ue("stop",F),ve=ue("stop",U),me=ue("stop",(function(e){J(e),!1===X.current&&ne(!1),E&&E(e)}),!1),ye=wr((function(e){K.current||(K.current=e.currentTarget),Y(e),!0===X.current&&(ne(!0),R&&R(e)),N&&N(e)})),ge=function(){var e=K.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},ke=t.useRef(!1),be=wr((function(e){_&&!ke.current&&te&&G.current&&" "===e.key&&(ke.current=!0,G.current.stop(e,(function(){G.current.start(e)}))),e.target===e.currentTarget&&ge()&&" "===e.key&&e.preventDefault(),P&&P(e),e.target===e.currentTarget&&ge()&&"Enter"===e.key&&!v&&(e.preventDefault(),T&&T(e))})),we=wr((function(e){_&&" "===e.key&&G.current&&te&&!e.defaultPrevented&&(ke.current=!1,G.current.stop(e,(function(){G.current.pulsate(e)}))),O&&O(e),T&&e.target===e.currentTarget&&ge()&&" "===e.key&&!e.defaultPrevented&&T(e)})),xe=f;"button"===xe&&(W.href||W.to)&&(xe=I);var _e={};"button"===xe?(_e.type=void 0===H?"button":H,_e.disabled=v):(W.href||W.to||(_e.role="button"),v&&(_e["aria-disabled"]=v));var Se=gr(n,Z,K);var Ie=p({},r,{centerRipple:o,component:f,disabled:v,disableRipple:k,disableTouchRipple:w,focusRipple:_,tabIndex:z,focusVisible:te}),Ee=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=g({root:["root",t&&"disabled",n&&"focusVisible"]},hi,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Ie);return(0,Br.jsxs)(mi,p({as:xe,className:m(Ee.root,s),ownerState:Ie,onBlur:me,onClick:T,onContextMenu:ce,onFocus:ye,onKeyDown:be,onKeyUp:we,onMouseDown:se,onMouseLeave:he,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:de,ref:Se,tabIndex:v?-1:z,type:H},_e,W,{children:[u,oe?(0,Br.jsx)(fi,p({ref:Q,center:o},B)):null]}))})),gi=yi,ki=bt;function bi(e){return Gr("MuiButton",e)}var wi=Qr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var xi=t.createContext({}),_i=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Si=function(e){return p({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Ii=sr(gi,{shouldForwardProp:function(e){return or(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(ki(n.color))],t["size".concat(ki(n.size))],t["".concat(n.variant,"Size").concat(ki(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return p({},i.typography.button,(h(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":p({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):S(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):S(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):S(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":p({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(wi.focusVisible),p({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),h(t,"&.".concat(wi.disabled),p({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(S(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(h(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(wi.focusVisible),{boxShadow:"none"}),h(t,"&:active",{boxShadow:"none"}),h(t,"&.".concat(wi.disabled),{boxShadow:"none"}),t)})),Ei=sr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(ki(n.size))]]}})((function(e){var t=e.ownerState;return p({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Si(t))})),Ti=sr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(ki(n.size))]]}})((function(e){var t=e.ownerState;return p({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Si(t))})),Ci=t.forwardRef((function(e,n){var r=t.useContext(xi),i=mr({props:y(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,f=i.disabled,h=void 0!==f&&f,v=i.disableElevation,k=void 0!==v&&v,b=i.disableFocusRipple,w=void 0!==b&&b,x=i.endIcon,_=i.focusVisibleClassName,S=i.fullWidth,I=void 0!==S&&S,E=i.size,T=void 0===E?"medium":E,C=i.startIcon,A=i.type,N=i.variant,R=void 0===N?"text":N,P=d(i,_i),O=p({},i,{color:u,component:c,disabled:h,disableElevation:k,disableFocusRipple:w,fullWidth:I,size:T,type:A,variant:R}),D=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return p({},o,g({root:["root",a,"".concat(a).concat(ki(t)),"size".concat(ki(i)),"".concat(a,"Size").concat(ki(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(ki(i))],endIcon:["endIcon","iconSize".concat(ki(i))]},bi,o))}(O),L=C&&(0,Br.jsx)(Ei,{className:D.startIcon,ownerState:O,children:C}),M=x&&(0,Br.jsx)(Ti,{className:D.endIcon,ownerState:O,children:x});return(0,Br.jsxs)(Ii,p({ownerState:O,className:m(r.className,D.root,l),component:c,disabled:h,focusRipple:!w,focusVisibleClassName:m(D.focusVisible,_),ref:n,type:A},P,{classes:D,children:[L,a,M]}))})),Ai=Ci;function Ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function Pi(e,t,n){return t&&Ri(e.prototype,t),n&&Ri(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Di(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pr(e,t)}function Li(e){return Li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Li(e)}function Mi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Fi(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rr(e)}function Ui(e){var t=Mi();return function(){var n,r=Li(e);if(t){var i=Li(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fi(this,n)}}function ji(e,t,n){return ji=Mi()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Pr(i,n.prototype),i},ji.apply(null,arguments)}function Vi(e){var t="function"===typeof Map?new Map:void 0;return Vi=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ji(e,arguments,Li(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Pr(n,e)},Vi(e)}var zi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Bi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},qi=function(e){return function(e){var t=zi(e);return Bi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Hi=function(e){try{return Bi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Wi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Wi(e[n],t[n]));return e}var Ki=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Gi=function(){try{return Ki()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Messenger-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Hi(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Qi=function(){var e;return null===(e=Gi())||void 0===e?void 0:e.config},$i=function(){function e(){var t=this;Ni(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Pi(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Xi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[qi(JSON.stringify({alg:"none",type:"JWT"})),qi(JSON.stringify(a)),""].join(".")}function Yi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ji(){var e,t=null===(e=Gi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Zi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ea(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ta(){var e=Yi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function na(){try{return"object"===typeof indexedDB}catch(e){return!1}}var ra=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){var a;return Ni(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Rr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Rr(a),ia.prototype.create),a}return Pi(n)}(Vi(Error)),ia=function(){function e(t,n,r){Ni(this,e),this.service=t,this.serviceName=n,this.errors=r}return Pi(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?aa(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ra(n,a,t);return o}}]),e}();function aa(e,t){return e.replace(oa,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var oa=/\{\$([^}]+)}/g;function ua(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sa(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ca(u)&&ca(s)){if(!sa(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ca(e){return null!==e&&"object"===typeof e}function la(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function fa(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ha(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function da(e,t){var n=new pa(e,t);return n.subscribe.bind(n)}var pa=function(){function e(t,n){var r=this;Ni(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Pi(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Oi(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=va),void 0===r.error&&(r.error=va),void 0===r.complete&&(r.complete=va);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function va(){}function ma(e){return e&&e._delegate?e._delegate:e}function ya(){ya=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var h={};function d(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=f(e[r],e,a);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"==l(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function ga(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ka(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ga(a,r,i,o,u,"next",e)}function u(e){ga(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ba=function(){function e(t,n,r){Ni(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Pi(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),wa="[DEFAULT]",xa=function(){function e(t,n){Ni(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Pi(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new $i;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch(s){}var t,n=Oi(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(C(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),C(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Oi(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Oi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(pw){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_a(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(pw){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa;return this.component?this.component.multipleInstances?e:wa:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function _a(e){return e===wa?void 0:e}var Sa,Ia,Ea=function(){function e(t){Ni(this,e),this.name=t,this.providers=new Map}return Pi(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new xa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ta=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ia||(Ia={}));var Ca={debug:Ia.DEBUG,verbose:Ia.VERBOSE,info:Ia.INFO,warn:Ia.WARN,error:Ia.ERROR,silent:Ia.SILENT},Aa=Ia.INFO,Na=(h(Sa={},Ia.DEBUG,"log"),h(Sa,Ia.VERBOSE,"log"),h(Sa,Ia.INFO,"info"),h(Sa,Ia.WARN,"warn"),h(Sa,Ia.ERROR,"error"),Sa),Ra=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Na[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Pa=function(){function e(t){Ni(this,e),this.name=t,this._logLevel=Aa,this._logHandler=Ra,this._userLogHandler=null,Ta.push(this)}return Pi(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ia))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ca[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ia.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ia.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ia.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ia.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ia.INFO].concat(t)),this._logHandler.apply(this,[this,Ia.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ia.WARN].concat(t)),this._logHandler.apply(this,[this,Ia.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ia.ERROR].concat(t)),this._logHandler.apply(this,[this,Ia.ERROR].concat(t))}}]),e}();function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var La,Ma;var Fa=new WeakMap,Ua=new WeakMap,ja=new WeakMap,Va=new WeakMap,za=new WeakMap;var Ba={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ua.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ja.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wa(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function qa(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ma||(Ma=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ka(this),n),Wa(Fa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wa(e.apply(Ka(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ka(this),t].concat(r));return ja.set(a,t.sort?t.sort():[t]),Wa(a)}}function Ha(e){return"function"===typeof e?qa(e):(e instanceof IDBTransaction&&function(e){if(!Ua.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ua.set(e,t)}}(e),t=e,(La||(La=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ba):e);var t}function Wa(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Wa(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Fa.set(t,e)})).catch((function(){})),za.set(t,e),t}(e);if(Va.has(e))return Va.get(e);var t=Ha(e);return t!==e&&(Va.set(e,t),za.set(t,e)),t}var Ka=function(e){return za.get(e)};var Ga,Qa,$a=["get","getKey","getAll","getAllKeys","count"],Xa=["put","add","delete","clear"],Ya=new Map;function Ja(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ya.get(t))return Ya.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Xa.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||$a.includes(n))){var a=function(){var e=ka(ya().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ya.set(t,a),a}}}Ba=function(e){return Da(Da({},e),{},{get:function(t,n,r){return Ja(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ja(t,n)||e.has(t,n)}})}(Ba);var Za=function(){function e(t){Ni(this,e),this.container=t}return Pi(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var eo="@firebase/app",to="0.9.1",no=new Pa("@firebase/app"),ro="[DEFAULT]",io=(h(Ga={},eo,"fire-core"),h(Ga,"@firebase/app-compat","fire-core-compat"),h(Ga,"@firebase/analytics","fire-analytics"),h(Ga,"@firebase/analytics-compat","fire-analytics-compat"),h(Ga,"@firebase/app-check","fire-app-check"),h(Ga,"@firebase/app-check-compat","fire-app-check-compat"),h(Ga,"@firebase/auth","fire-auth"),h(Ga,"@firebase/auth-compat","fire-auth-compat"),h(Ga,"@firebase/database","fire-rtdb"),h(Ga,"@firebase/database-compat","fire-rtdb-compat"),h(Ga,"@firebase/functions","fire-fn"),h(Ga,"@firebase/functions-compat","fire-fn-compat"),h(Ga,"@firebase/installations","fire-iid"),h(Ga,"@firebase/installations-compat","fire-iid-compat"),h(Ga,"@firebase/messaging","fire-fcm"),h(Ga,"@firebase/messaging-compat","fire-fcm-compat"),h(Ga,"@firebase/performance","fire-perf"),h(Ga,"@firebase/performance-compat","fire-perf-compat"),h(Ga,"@firebase/remote-config","fire-rc"),h(Ga,"@firebase/remote-config-compat","fire-rc-compat"),h(Ga,"@firebase/storage","fire-gcs"),h(Ga,"@firebase/storage-compat","fire-gcs-compat"),h(Ga,"@firebase/firestore","fire-fst"),h(Ga,"@firebase/firestore-compat","fire-fst-compat"),h(Ga,"fire-js","fire-js"),h(Ga,"firebase","fire-js-all"),Ga),ao=new Map,oo=new Map;function uo(e,t){try{e.container.addComponent(t)}catch(n){no.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function so(e,t){e.container.addOrOverwriteComponent(t)}function co(e){var t=e.name;if(oo.has(t))return no.debug("There were multiple attempts to register component ".concat(t,".")),!1;oo.set(t,e);var n,r=Oi(ao.values());try{for(r.s();!(n=r.n()).done;){uo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function lo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ro;lo(e,t).clearInstance(n)}function ho(){oo.clear()}var po=(h(Qa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(Qa,"bad-app-name","Illegal App name: '{$appName}"),h(Qa,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),h(Qa,"app-deleted","Firebase App named '{$appName}' already deleted"),h(Qa,"no-options","Need to provide options, when not being deployed to hosting via source."),h(Qa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),h(Qa,"invalid-log-argument","First argument to `onLog` must be null or a function."),h(Qa,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),h(Qa,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),h(Qa,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),h(Qa,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Qa),vo=new ia("app","Firebase",po),mo=function(){function e(t,n,r){var i=this;Ni(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ba("app",(function(){return i}),"PUBLIC"))}return Pi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}]),e}(),yo="9.16.0";function go(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:ro,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw vo.create("bad-app-name",{appName:String(a)});if(n||(n=Qi()),!n)throw vo.create("no-options");var o=ao.get(a);if(o){if(sa(n,o.options)&&sa(i,o.config))return o;throw vo.create("duplicate-app",{appName:a})}var u,s=new Ea(a),c=Oi(oo.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new mo(n,i,s);return ao.set(a,f),f}function ko(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro,t=ao.get(e);if(!t&&e===ro)return go();if(!t)throw vo.create("no-app",{appName:e});return t}function bo(){return Array.from(ao.values())}function wo(e){return xo.apply(this,arguments)}function xo(){return xo=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ao.has(n)){e.next=6;break}return ao.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}function _o(e,t,n){var r,i=null!==(r=io[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void no.warn(u.join(" "))}co(new ba("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function So(e,t){if(null!==e&&"function"!==typeof e)throw vo.create("invalid-log-argument");!function(e,t){var n,r=Oi(Ta);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ca[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ia[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Io(e){var t;t=e,Ta.forEach((function(e){e.setLogLevel(t)}))}var Eo="firebase-heartbeat-store",To=null;function Co(){return To||(To=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Wa(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Wa(u.result),e.oldVersion,e.newVersion,Wa(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Eo)}}).catch((function(e){throw vo.create("idb-open",{originalErrorMessage:e.message})}))),To}function Ao(e){return No.apply(this,arguments)}function No(){return No=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Co();case 3:return n=e.sent,e.abrupt("return",n.transaction(Eo).objectStore(Eo).get(Oo(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ra?no.warn(e.t0.message):(r=vo.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),no.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),No.apply(this,arguments)}function Ro(e,t){return Po.apply(this,arguments)}function Po(){return Po=ka(ya().mark((function e(t,n){var r,i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Co();case 3:return r=e.sent,i=r.transaction(Eo,"readwrite"),a=i.objectStore(Eo),e.next=8,a.put(n,Oo(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ra?no.warn(e.t0.message):(o=vo.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),no.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Po.apply(this,arguments)}function Oo(e){return"".concat(e.name,"!").concat(e.options.appId)}var Do=function(){function e(t){var n=this;Ni(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new jo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Pi(e,[{key:"triggerHeartbeat",value:function(){var e=ka(ya().mark((function e(){var t,n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Lo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ka(ya().mark((function e(){var t,n,r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Lo(),n=Mo(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=qi(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Lo(){return(new Date).toISOString().substring(0,10)}function Mo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Oi(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Vo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Vo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Fo,Uo,jo=function(){function e(t){Ni(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Pi(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(na()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ao(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ro(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ro(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(C(r.heartbeats),C(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Vo(e){return qi(JSON.stringify({version:2,heartbeats:e})).length}Fo="",co(new ba("platform-logger",(function(e){return new Za(e)}),"PRIVATE")),co(new ba("heartbeat",(function(e){return new Do(e)}),"PRIVATE")),_o(eo,to,Fo),_o(eo,to,"esm2017"),_o("fire-js","");var zo=function(){function e(t,n){var r=this;Ni(this,e),this._delegate=t,this.firebase=n,uo(t,new ba("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Pi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),wo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ro;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ro;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){uo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){so(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Bo=(h(Uo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(Uo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Uo),qo=new ia("app-compat","Firebase",Bo);var Ho=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=go(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ua(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:_o,setLogLevel:Io,onLog:So,apps:null,SDK_VERSION:yo,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(co(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw qo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Wi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ua(n,e=e||ro))throw qo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(zo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Wi(n,e)},createSubscribe:da,ErrorFactory:ia,deepExtend:Wi}),n}(),Wo=new Pa("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Wo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ko=self.firebase.SDK_VERSION;Ko&&Ko.indexOf("LITE")>=0&&Wo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Go=Ho;!function(e){_o("@firebase/app-compat","0.2.1",e)}();function Qo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Li(e)););return e}function $o(){return $o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Qo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},$o.apply(this,arguments)}Go.registerVersion("firebase","9.16.0","app-compat");var Xo,Yo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Jo={},Zo=Zo||{},eu=Yo||self;function tu(){}function nu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ru(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var iu="closure_uid_"+(1e9*Math.random()>>>0),au=0;function ou(e,t,n){return e.call.apply(e.bind,arguments)}function uu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function su(e,t,n){return(su=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ou:uu).apply(null,arguments)}function cu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function lu(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function fu(){this.s=this.s,this.o=this.o}fu.prototype.s=!1,fu.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,iu)&&e[iu]||(e[iu]=++au))},fu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function du(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function pu(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(nu(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function vu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vu.prototype.h=function(){this.defaultPrevented=!0};var mu=function(){if(!eu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{eu.addEventListener("test",tu,t),eu.removeEventListener("test",tu,t)}catch(n){}return e}();function yu(e){return/^[\s\xa0]*$/.test(e)}var gu=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ku(e,t){return e<t?-1:e>t?1:0}function bu(){var e=eu.navigator;return e&&(e=e.userAgent)?e:""}function wu(e){return-1!=bu().indexOf(e)}function xu(e){return xu[" "](e),e}xu[" "]=tu;var _u,Su=wu("Opera"),Iu=wu("Trident")||wu("MSIE"),Eu=wu("Edge"),Tu=Eu||Iu,Cu=wu("Gecko")&&!(-1!=bu().toLowerCase().indexOf("webkit")&&!wu("Edge"))&&!(wu("Trident")||wu("MSIE"))&&!wu("Edge"),Au=-1!=bu().toLowerCase().indexOf("webkit")&&!wu("Edge");function Nu(){var e=eu.document;return e?e.documentMode:void 0}e:{var Ru="",Pu=function(){var e=bu();return Cu?/rv:([^\);]+)(\)|;)/.exec(e):Eu?/Edge\/([\d\.]+)/.exec(e):Iu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Au?/WebKit\/(\S+)/.exec(e):Su?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Pu&&(Ru=Pu?Pu[1]:""),Iu){var Ou=Nu();if(null!=Ou&&Ou>parseFloat(Ru)){_u=String(Ou);break e}}_u=Ru}var Du,Lu={};function Mu(){return function(e){var t=Lu;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=gu(String(_u)).split("."),n=gu("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ku(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ku(0==a[2].length,0==o[2].length)||ku(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(eu.document&&Iu){var Fu=Nu();Du=Fu||(parseInt(_u,10)||void 0)}else Du=void 0;var Uu=Du;function ju(e,t){if(vu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Cu){e:{try{xu(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Vu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ju.X.h.call(this)}}lu(ju,vu);var Vu={2:"touch",3:"pen",4:"mouse"};ju.prototype.h=function(){ju.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var zu="closure_listenable_"+(1e6*Math.random()|0),Bu=0;function qu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Bu,this.ba=this.ea=!1}function Hu(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Wu(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ku(e){var t={};for(var n in e)t[n]=e[n];return t}var Gu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qu(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Gu.length;a++)n=Gu[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function $u(e){this.src=e,this.g={},this.h=0}function Xu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hu(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Hu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Yu(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}$u.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Yu(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new qu(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Ju="closure_lm_"+(1e6*Math.random()|0),Zu={};function es(e,t,n,r,i){if(r&&r.once)return ns(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)es(e,t[a],n,r,i);return null}return n=cs(n),e&&e[zu]?e.N(t,n,ru(r)?!!r.capture:!!r,i):ts(e,t,n,!1,r,i)}function ts(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ru(i)?!!i.capture:!!i,u=us(e);if(u||(e[Ju]=u=new $u(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=os;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)mu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(as(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ns(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ns(e,t[a],n,r,i);return null}return n=cs(n),e&&e[zu]?e.O(t,n,ru(r)?!!r.capture:!!r,i):ts(e,t,n,!0,r,i)}function rs(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)rs(e,t[a],n,r,i);else r=ru(r)?!!r.capture:!!r,n=cs(n),e&&e[zu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Yu(a=e.g[t],n,r,i))&&(Hu(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=us(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yu(t,n,r,i)),(n=-1<e?t[e]:null)&&is(n))}function is(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[zu])Xu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(as(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=us(t))?(Xu(n,e),0==n.h&&(n.src=null,t[Ju]=null)):Hu(e)}}}function as(e){return e in Zu?Zu[e]:Zu[e]="on"+e}function os(e,t){if(e.ba)e=!0;else{t=new ju(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&is(e),e=n.call(r,t)}return e}function us(e){return(e=e[Ju])instanceof $u?e:null}var ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function cs(e){return"function"===typeof e?e:(e[ss]||(e[ss]=function(t){return e.handleEvent(t)}),e[ss])}function ls(){fu.call(this),this.i=new $u(this),this.P=this,this.I=null}function fs(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new vu(t,e);else if(t instanceof vu)t.target=t.target||e;else{var i=t;Qu(t=new vu(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=hs(o,r,!0,t)&&i}if(i=hs(o=t.g=e,r,!0,t)&&i,i=hs(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=hs(o=t.g=n[a],r,!1,t)&&i}function hs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Xu(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}lu(ls,fu),ls.prototype[zu]=!0,ls.prototype.removeEventListener=function(e,t,n,r){rs(this,e,t,n,r)},ls.prototype.M=function(){if(ls.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hu(n[r]);delete t.g[e],t.h--}}this.I=null},ls.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ls.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ds=eu.JSON.stringify;function ps(){var e=xs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vs,ms=function(){function e(){Ni(this,e),this.h=this.g=null}return Pi(e,[{key:"add",value:function(e,t){var n=ys.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ys=new(function(){function e(t,n){Ni(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Pi(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new gs}),(function(e){return e.reset()})),gs=function(){function e(){Ni(this,e),this.next=this.g=this.h=null}return Pi(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ks(e){eu.setTimeout((function(){throw e}),0)}function bs(e,t){vs||function(){var e=eu.Promise.resolve(void 0);vs=function(){e.then(_s)}}(),ws||(vs(),ws=!0),xs.add(e,t)}var ws=!1,xs=new ms;function _s(){for(var e;e=ps();){try{e.h.call(e.g)}catch(n){ks(n)}var t=ys;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ws=!1}function Ss(e,t){ls.call(this),this.h=e||1,this.g=t||eu,this.j=su(this.lb,this),this.l=Date.now()}function Is(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Es(e,t,n){if("function"===typeof e)n&&(e=su(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=su(e.handleEvent,e)}return 2147483647<Number(t)?-1:eu.setTimeout(e,t||0)}function Ts(e){e.g=Es((function(){e.g=null,e.i&&(e.i=!1,Ts(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}lu(Ss,ls),(Xo=Ss.prototype).ca=!1,Xo.R=null,Xo.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),fs(this,"tick"),this.ca&&(Is(this),this.start()))}},Xo.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xo.M=function(){Ss.X.M.call(this),Is(this),delete this.g};var Cs=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Pi(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ts(this)}},{key:"M",value:function(){$o(Li(n.prototype),"M",this).call(this),this.g&&(eu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(fu);function As(e){fu.call(this),this.h=e,this.g={}}lu(As,fu);var Ns=[];function Rs(e,t,n,r){Array.isArray(n)||(n&&(Ns[0]=n.toString()),n=Ns);for(var i=0;i<n.length;i++){var a=es(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ps(e){Wu(e.g,(function(e,t){this.g.hasOwnProperty(t)&&is(e)}),e),e.g={}}function Os(){this.g=!0}function Ds(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ds(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}As.prototype.M=function(){As.X.M.call(this),Ps(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Os.prototype.Aa=function(){this.g=!1},Os.prototype.info=function(){};var Ls={},Ms=null;function Fs(){return Ms=Ms||new ls}function Us(e){vu.call(this,Ls.Pa,e)}function js(e){var t=Fs();fs(t,new Us(t))}function Vs(e,t){vu.call(this,Ls.STAT_EVENT,e),this.stat=t}function zs(e){var t=Fs();fs(t,new Vs(t,e))}function Bs(e,t){vu.call(this,Ls.Qa,e),this.size=t}function qs(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return eu.setTimeout((function(){e()}),t)}Ls.Pa="serverreachability",lu(Us,vu),Ls.STAT_EVENT="statevent",lu(Vs,vu),Ls.Qa="timingevent",lu(Bs,vu);var Hs={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ws={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ks(){}function Gs(e){return e.h||(e.h=e.i())}function Qs(){}Ks.prototype.h=null;var $s,Xs={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ys(){vu.call(this,"d")}function Js(){vu.call(this,"c")}function Zs(){}function ec(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new As(this),this.O=nc,e=Tu?125:void 0,this.T=new Ss(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new tc}function tc(){this.i=null,this.g="",this.h=!1}lu(Ys,vu),lu(Js,vu),lu(Zs,Ks),Zs.prototype.g=function(){return new XMLHttpRequest},Zs.prototype.i=function(){return{}},$s=new Zs;var nc=45e3,rc={},ic={};function ac(e,t,n){e.K=1,e.v=Sc(kc(t)),e.s=n,e.P=!0,oc(e,null)}function oc(e,t){e.F=Date.now(),lc(e),e.A=kc(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Fc(n.i,"t",r),e.C=0,n=e.l.H,e.h=new tc,e.g=Ul(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Cs(su(e.La,e,e.g),e.N)),Rs(e.S,e.g,"readystatechange",e.ib),t=e.H?Ku(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),js(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function uc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function sc(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=cc(e,n))==ic){4==t&&(e.o=4,zs(14),i=!1),Ds(e.j,e.m,null,"[Incomplete Response]");break}if(r==rc){e.o=4,zs(15),Ds(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ds(e.j,e.m,r,null),vc(e,r)}uc(e)&&r!=ic&&r!=rc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,zs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nl(t),t.K=!0,zs(11))):(Ds(e.j,e.m,n,"[Invalid Chunked Response]"),pc(e),dc(e))}function cc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ic:(n=Number(t.substring(n,r)),isNaN(n)?rc:(r+=1)+n>t.length?ic:(t=t.substr(r,n),e.C=r+n,t))}function lc(e){e.V=Date.now()+e.O,fc(e,e.O)}function fc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=qs(su(e.gb,e),t)}function hc(e){e.B&&(eu.clearTimeout(e.B),e.B=null)}function dc(e){0==e.l.G||e.I||Ol(e.l,e)}function pc(e){hc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Is(e.T),Ps(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function vc(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Wc(n.h,e)))if(!e.J&&Wc(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Pl(n),xl(n)}Al(n),zs(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=qs(su(n.cb,n),6e3));if(1>=Hc(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Ll(n,11)}else if((e.J||n.g==e)&&Pl(n),!yu(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Kc(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,_c(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Fl(r,r.H?r.ka:null,r.V),d.J){Gc(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(hc(p),lc(p)),r.g=d}else Cl(r);0<n.i.length&&Sl(n)}else"stop"!=a[0]&&"close"!=a[0]||Ll(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ll(n,7):wl(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}js()}catch(a){}}function mc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(nu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(nu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Xo=ec.prototype).setTimeout=function(e){this.O=e},Xo.ib=function(e){e=e.target;var t=this.L;t&&3==vl(e)?t.l():this.La(e)},Xo.La=function(e){try{if(e==this.g)e:{var t=vl(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Tu||this.g&&(this.h.h||this.g.fa()||ml(this.g)))){this.I||4!=t||7==n||js(),hc(this);var r=this.g.aa();this.Y=r;t:if(uc(this)){var i=ml(this.g);e="";var a=i.length,o=4==vl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){pc(this),dc(this);var u="";break t}this.h.i=new eu.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yu(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,zs(12),pc(this),dc(this);break e}Ds(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vc(this,r)}this.P?(sc(this,t,u),Tu&&this.i&&3==t&&(Rs(this.S,this.T,"tick",this.hb),this.T.start())):(Ds(this.j,this.m,u,null),vc(this,u)),4==t&&pc(this),this.i&&!this.I&&(4==t?Ol(this.l,this):(this.i=!1,lc(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,zs(12)):(this.o=0,zs(13)),pc(this),dc(this)}}}catch(t){}},Xo.hb=function(){if(this.g){var e=vl(this.g),t=this.g.fa();this.C<t.length&&(hc(this),sc(this,e,t),this.i&&4!=e&&lc(this))}},Xo.cancel=function(){this.I=!0,pc(this)},Xo.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(js(),zs(17)),pc(this),this.o=2,dc(this)):fc(this,this.V-e)};var yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gc(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof gc){this.h=void 0!==t?t:e.h,bc(this,e.j),this.s=e.s,this.g=e.g,wc(this,e.m),this.l=e.l,t=e.i;var n=new Oc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xc(this,n),this.o=e.o}else e&&(n=String(e).match(yc))?(this.h=!!t,bc(this,n[1]||"",!0),this.s=Ic(n[2]||""),this.g=Ic(n[3]||"",!0),wc(this,n[4]),this.l=Ic(n[5]||"",!0),xc(this,n[6]||"",!0),this.o=Ic(n[7]||"")):(this.h=!!t,this.i=new Oc(null,this.h))}function kc(e){return new gc(e)}function bc(e,t,n){e.j=n?Ic(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xc(e,t,n){t instanceof Oc?(e.i=t,function(e,t){t&&!e.j&&(Dc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Lc(this,t),Fc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ec(t,Rc)),e.i=new Oc(t,e.h))}function _c(e,t,n){e.i.set(t,n)}function Sc(e){return _c(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ic(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ec(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Tc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ec(t,Cc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ec(t,Cc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ec(n,"/"==n.charAt(0)?Nc:Ac,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ec(n,Pc)),e.join("")};var Cc=/[#\/\?@]/g,Ac=/[#\?:]/g,Nc=/[#\?]/g,Rc=/[#\?@]/g,Pc=/#/g;function Oc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Lc(e,t){Dc(e),t=Uc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mc(e,t){return Dc(e),t=Uc(e,t),e.g.has(t)}function Fc(e,t,n){Lc(e,t),0<n.length&&(e.i=null,e.g.set(Uc(e,t),du(n)),e.h+=n.length)}function Uc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Xo=Oc.prototype).add=function(e,t){Dc(this),this.i=null,e=Uc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Xo.forEach=function(e,t){Dc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Xo.oa=function(){Dc(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Xo.W=function(e){Dc(this);var t=[];if("string"===typeof e)Mc(this,e)&&(t=t.concat(this.g.get(Uc(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Xo.set=function(e,t){return Dc(this),this.i=null,Mc(this,e=Uc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Xo.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Xo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var jc=Pi((function e(t,n){Ni(this,e),this.h=t,this.g=n}));function Vc(e){this.l=e||Bc,eu.PerformanceNavigationTiming?e=0<(e=eu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(eu.g&&eu.g.Ga&&eu.g.Ga()&&eu.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zc,Bc=10;function qc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Hc(e){return e.h?1:e.g?e.g.size:0}function Wc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Kc(e,t){e.g?e.g.add(t):e.h=t}function Gc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Qc(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Oi(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return du(e.i)}function $c(){}function Xc(){this.g=new $c}function Yc(e,t,n){var r=n||"";try{mc(e,(function(e,n){var i=e;ru(e)&&(i=ds(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Zc(e){this.l=e.ac||null,this.j=e.jb||!1}function el(e,t){ls.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=tl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vc.prototype.cancel=function(){if(this.i=Qc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Oi(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},$c.prototype.stringify=function(e){return eu.JSON.stringify(e,void 0)},$c.prototype.parse=function(e){return eu.JSON.parse(e,void 0)},lu(Zc,Ks),Zc.prototype.g=function(){return new el(this.l,this.j)},Zc.prototype.i=(zc={},function(){return zc}),lu(el,ls);var tl=0;function nl(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function rl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,il(e)}function il(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Xo=el.prototype).open=function(e,t){if(this.readyState!=tl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,il(this)},Xo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||eu).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Xo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rl(this)),this.readyState=tl},Xo.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof eu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nl(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Xo.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rl(this):il(this),3==this.readyState&&nl(this)}},Xo.Va=function(e){this.g&&(this.response=this.responseText=e,rl(this))},Xo.Ua=function(e){this.g&&(this.response=e,rl(this))},Xo.ga=function(){this.g&&rl(this)},Xo.setRequestHeader=function(e,t){this.v.append(e,t)},Xo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Xo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(el.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var al=eu.JSON.parse;function ol(e){ls.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ul,this.K=this.L=!1}lu(ol,ls);var ul="",sl=/^https?$/i,cl=["POST","PUT"];function ll(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fl(e),dl(e)}function fl(e){e.D||(e.D=!0,fs(e,"complete"),fs(e,"error"))}function hl(e){if(e.h&&"undefined"!=typeof Zo&&(!e.C[1]||4!=vl(e)||2!=e.aa()))if(e.v&&4==vl(e))Es(e.Ha,0,e);else if(fs(e,"readystatechange"),4==vl(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(yc)[1]||null;if(!a&&eu.self&&eu.self.location){var o=eu.self.location.protocol;a=o.substr(0,o.length-1)}i=!sl.test(a?a.toLowerCase():"")}t=i}if(t)fs(e,"complete"),fs(e,"success");else{e.m=6;try{var u=2<vl(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",fl(e)}}finally{dl(e)}}}function dl(e,t){if(e.g){pl(e);var n=e.g,r=e.C[0]?tu:null;e.g=null,e.C=null,t||fs(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function pl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(eu.clearTimeout(e.A),e.A=null)}function vl(e){return e.g?e.g.readyState:0}function ml(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ul:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ef){return null}}function yl(e){var t="";return Wu(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function gl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_c(e,t,n))}function kl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bl(e){this.Ca=0,this.i=[],this.j=new Os,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=kl("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=kl("baseRetryDelayMs",5e3,e),this.bb=kl("retryDelaySeedMs",1e4,e),this.$a=kl("forwardChannelMaxRetries",2,e),this.ta=kl("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Vc(e&&e.concurrentRequestLimit),this.Fa=new Xc,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wl(e){if(_l(e),3==e.G){var t=e.U++,n=kc(e.F);_c(n,"SID",e.I),_c(n,"RID",t),_c(n,"TYPE","terminate"),El(e,n),(t=new ec(e,e.j,t,void 0)).K=2,t.v=Sc(kc(n)),n=!1,eu.navigator&&eu.navigator.sendBeacon&&(n=eu.navigator.sendBeacon(t.v.toString(),"")),!n&&eu.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ul(t.l,null),t.g.da(t.v)),t.F=Date.now(),lc(t)}Ml(e)}function xl(e){e.g&&(Nl(e),e.g.cancel(),e.g=null)}function _l(e){xl(e),e.u&&(eu.clearTimeout(e.u),e.u=null),Pl(e),e.h.cancel(),e.m&&("number"===typeof e.m&&eu.clearTimeout(e.m),e.m=null)}function Sl(e){qc(e.h)||e.m||(e.m=!0,bs(e.Ja,e),e.C=0)}function Il(e,t){var n;n=t?t.m:e.U++;var r=kc(e.F);_c(r,"SID",e.I),_c(r,"RID",n),_c(r,"AID",e.T),El(e,r),e.o&&e.s&&gl(r,e.o,e.s),n=new ec(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Tl(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Kc(e.h,n),ac(n,r,t)}function El(e,t){e.ia&&Wu(e.ia,(function(e,n){_c(t,n,e)})),e.l&&mc({},(function(e,n){_c(t,n,e)}))}function Tl(e,t,n){n=Math.min(e.i.length,n);var r=e.l?su(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Yc(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Cl(e){e.g||e.u||(e.Z=1,bs(e.Ia,e),e.A=0)}function Al(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=qs(su(e.Ia,e),Dl(e,e.A)),e.A++,!0)}function Nl(e){null!=e.B&&(eu.clearTimeout(e.B),e.B=null)}function Rl(e){e.g=new ec(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=kc(e.sa);_c(t,"RID","rpc"),_c(t,"SID",e.I),_c(t,"CI",e.L?"0":"1"),_c(t,"AID",e.T),_c(t,"TYPE","xmlhttp"),El(e,t),e.o&&e.s&&gl(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Sc(kc(t)),n.s=null,n.P=!0,oc(n,e)}function Pl(e){null!=e.v&&(eu.clearTimeout(e.v),e.v=null)}function Ol(e,t){var n=null;if(e.g==t){Pl(e),Nl(e),e.g=null;var r=2}else{if(!Wc(e.h,t))return;n=t.D,Gc(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;fs(r=Fs(),new Bs(r,n)),Sl(e)}else Cl(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Hc(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=qs(su(e.Ja,e,t),Dl(e,e.C)),e.C++,!0))}(e,t)||2==r&&Al(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ll(e,5);break;case 4:Ll(e,10);break;case 3:Ll(e,6);break;default:Ll(e,2)}}function Dl(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Ll(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=su(e.kb,e);n||(n=new gc("//www.google.com/images/cleardot.gif"),eu.location&&"http"==eu.location.protocol||bc(n,"https"),Sc(n)),function(e,t){var n=new Os;if(eu.Image){var r=new Image;r.onload=cu(Jc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=cu(Jc,n,r,"TestLoadImage: error",!1,t),r.onabort=cu(Jc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=cu(Jc,n,r,"TestLoadImage: timeout",!1,t),eu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else zs(2);e.G=0,e.l&&e.l.va(t),Ml(e),_l(e)}function Ml(e){if(e.G=0,e.la=[],e.l){var t=Qc(e.h);0==t.length&&0==e.i.length||(pu(e.la,t),pu(e.la,e.i),e.h.i.length=0,du(e.i),e.i.length=0),e.l.ua()}}function Fl(e,t,n){var r=n instanceof gc?kc(n):new gc(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),wc(r,r.m);else{var i=eu.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new gc(null,void 0);r&&bc(a,r),t&&(a.g=t),i&&wc(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&_c(r,n,t),_c(r,"VER",e.ma),El(e,r),r}function Ul(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new ol(new Zc({jb:!0})):new ol(e.ra)).Ka(e.H),t}function jl(){}function Vl(){if(Iu&&!(10<=Number(Uu)))throw Error("Environmental error: no available transport.")}function zl(e,t){ls.call(this),this.g=new bl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!yu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yu(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Hl(this)}function Bl(e){Ys.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ql(){Js.call(this),this.status=1}function Hl(e){this.g=e}(Xo=ol.prototype).Ka=function(e){this.L=e},Xo.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$s.g(),this.C=this.u?Gs(this.u):Gs($s),this.g.onreadystatechange=su(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void ll(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Oi(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=eu.FormData&&e instanceof eu.FormData,!(0<=hu(cl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=Oi(n);try{for(l.s();!(s=l.n()).done;){var f=c(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pl(this),0<this.B&&((this.K=function(e){return Iu&&Mu()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=su(this.qa,this)):this.A=Es(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){ll(this,u)}},Xo.qa=function(){"undefined"!=typeof Zo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fs(this,"timeout"),this.abort(8))},Xo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,fs(this,"complete"),fs(this,"abort"),dl(this))},Xo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dl(this,!0)),ol.X.M.call(this)},Xo.Ha=function(){this.s||(this.F||this.v||this.l?hl(this):this.fb())},Xo.fb=function(){hl(this)},Xo.aa=function(){try{return 2<vl(this)?this.g.status:-1}catch(zc){return-1}},Xo.fa=function(){try{return this.g?this.g.responseText:""}catch(zc){return""}},Xo.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),al(t)}},Xo.Ea=function(){return this.m},Xo.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Xo=bl.prototype).ma=8,Xo.G=1,Xo.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new ec(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Qu(n=Ku(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Tl(this,t,r),_c(i=kc(this.F),"RID",e),_c(i,"CVER",22),this.D&&_c(i,"X-HTTP-Session-Id",this.D),El(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(yl(n)))+"&"+r:this.o&&gl(i,this.o,n)),Kc(this.h,t),this.Ya&&_c(i,"TYPE","init"),this.O?(_c(i,"$req",r),_c(i,"SID","null"),t.Z=!0,ac(t,i,null)):ac(t,i,r),this.G=2}}else 3==this.G&&(e?Il(this,e):0==this.i.length||qc(this.h)||Il(this))},Xo.Ia=function(){if(this.u=null,Rl(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=qs(su(this.eb,this),e)}},Xo.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,zs(10),xl(this),Rl(this))},Xo.cb=function(){null!=this.v&&(this.v=null,xl(this),Al(this),zs(19))},Xo.kb=function(e){e?(this.j.info("Successfully pinged google.com"),zs(2)):(this.j.info("Failed to ping google.com"),zs(1))},(Xo=jl.prototype).xa=function(){},Xo.wa=function(){},Xo.va=function(){},Xo.ua=function(){},Xo.Ra=function(){},Vl.prototype.g=function(e,t){return new zl(e,t)},lu(zl,ls),zl.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;zs(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Fl(e,null,e.V),Sl(e)},zl.prototype.close=function(){wl(this.g)},zl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ds(e),e=n);t.i.push(new jc(t.ab++,e)),3==t.G&&Sl(t)},zl.prototype.M=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,zl.X.M.call(this)},lu(Bl,Ys),lu(ql,Js),lu(Hl,jl),Hl.prototype.xa=function(){fs(this.g,"a")},Hl.prototype.wa=function(e){fs(this.g,new Bl(e))},Hl.prototype.va=function(e){fs(this.g,new ql)},Hl.prototype.ua=function(){fs(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,zl.prototype.send=zl.prototype.u,zl.prototype.open=zl.prototype.m,zl.prototype.close=zl.prototype.close,Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,Ws.COMPLETE="complete",Qs.EventType=Xs,Xs.OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",ls.prototype.listen=ls.prototype.N,ol.prototype.listenOnce=ol.prototype.O,ol.prototype.getLastError=ol.prototype.Oa,ol.prototype.getLastErrorCode=ol.prototype.Ea,ol.prototype.getStatus=ol.prototype.aa,ol.prototype.getResponseJson=ol.prototype.Sa,ol.prototype.getResponseText=ol.prototype.fa,ol.prototype.send=ol.prototype.da,ol.prototype.setWithCredentials=ol.prototype.Ka;var Wl=Jo.createWebChannelTransport=function(){return new Vl},Kl=Jo.getStatEventTarget=function(){return Fs()},Gl=Jo.ErrorCode=Hs,Ql=Jo.EventType=Ws,$l=Jo.Event=Ls,Xl=Jo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Yl=Jo.FetchXmlHttpFactory=Zc,Jl=Jo.WebChannel=Qs,Zl=Jo.XhrIo=ol,ef="@firebase/firestore",tf=function(){function e(t){Ni(this,e),this.uid=t}return Pi(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();tf.UNAUTHENTICATED=new tf(null),tf.GOOGLE_CREDENTIALS=new tf("google-credentials-uid"),tf.FIRST_PARTY=new tf("first-party-uid"),tf.MOCK_USER=new tf("mock-user");var nf="9.16.0",rf=new Pa("@firebase/firestore");function af(){return rf.logLevel}function of(e){if(rf.logLevel<=Ia.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cf);rf.debug.apply(rf,["Firestore (".concat(nf,"): ").concat(e)].concat(C(i)))}}function uf(e){if(rf.logLevel<=Ia.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cf);rf.error.apply(rf,["Firestore (".concat(nf,"): ").concat(e)].concat(C(i)))}}function sf(e){if(rf.logLevel<=Ia.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cf);rf.warn.apply(rf,["Firestore (".concat(nf,"): ").concat(e)].concat(C(i)))}}function cf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function lf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(nf,") INTERNAL ASSERTION FAILED: ")+e;throw uf(t),new Error(t)}function ff(e,t){e||lf()}function hf(e,t){return e}var df={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pf=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Pi(n)}(ra),vf=Pi((function e(){var t=this;Ni(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),mf=Pi((function e(t,n){Ni(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),yf=function(){function e(){Ni(this,e)}return Pi(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),gf=function(){function e(t){Ni(this,e),this.token=t,this.changeListener=null}return Pi(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),kf=function(){function e(t){Ni(this,e),this.t=t,this.currentUser=tf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Pi(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new vf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new vf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){of("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(of("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vf)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(of("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ff("string"==typeof n.accessToken),new mf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ff(null===e||"string"==typeof e),new tf(e)}}]),e}(),bf=function(){function e(t,n,r,i){Ni(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=tf.FIRST_PARTY,this.p=new Map}return Pi(e,[{key:"I",value:function(){return this.g?this.g():(ff(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),wf=function(){function e(t,n,r,i){Ni(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Pi(e,[{key:"getToken",value:function(){return Promise.resolve(new bf(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),xf=Pi((function e(t){Ni(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),_f=function(){function e(t){Ni(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Pi(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&of("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,of("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){of("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):of("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ff("string"==typeof t.token),e.A=t.token,new xf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Sf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var If=function(){function e(){Ni(this,e)}return Pi(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Sf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ef(e,t){return e<t?-1:e>t?1:0}function Tf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Cf(e){return e+"\0"}var Af=function(){function e(t,n){if(Ni(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new pf(df.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pf(df.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new pf(df.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pf(df.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Pi(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ef(this.nanoseconds,e.nanoseconds):Ef(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Nf=function(){function e(t){Ni(this,e),this.timestamp=t}return Pi(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Af(0,0))}},{key:"max",value:function(){return new e(new Af(253402300799,999999999))}}]),e}(),Rf=function(){function e(t,n,r){Ni(this,e),void 0===n?n=0:n>t.length&&lf(),void 0===r?r=t.length-n:r>t.length-n&&lf(),this.segments=t,this.offset=n,this.len=r}return Pi(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Pf=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.apply(this,arguments)}return Pi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new pf(df.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,C(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rf),Of=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Df=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.apply(this,arguments)}return Pi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Of.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new pf(df.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new pf(df.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new pf(df.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new pf(df.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rf),Lf=function(){function e(t){Ni(this,e),this.path=t}return Pi(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Pf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Pf.fromString(t))}},{key:"fromName",value:function(t){return new e(Pf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Pf.emptyPath())}},{key:"comparator",value:function(e,t){return Pf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Pf(t.slice()))}}]),e}(),Mf=Pi((function e(t,n,r,i){Ni(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Ff(e){return e.fields.find((function(e){return 2===e.kind}))}function Uf(e){return e.fields.filter((function(e){return 2!==e.kind}))}Mf.UNKNOWN_ID=-1;var jf=Pi((function e(t,n){Ni(this,e),this.fieldPath=t,this.kind=n}));var Vf=function(){function e(t,n){Ni(this,e),this.sequenceNumber=t,this.offset=n}return Pi(e,null,[{key:"empty",value:function(){return new e(0,qf.min())}}]),e}();function zf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nf.fromTimestamp(1e9===r?new Af(n+1,0):new Af(n,r));return new qf(i,Lf.empty(),t)}function Bf(e){return new qf(e.readTime,e.key,-1)}var qf=function(){function e(t,n,r){Ni(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Pi(e,null,[{key:"min",value:function(){return new e(Nf.min(),Lf.empty(),-1)}},{key:"max",value:function(){return new e(Nf.max(),Lf.empty(),-1)}}]),e}();function Hf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Lf.comparator(e.documentKey,t.documentKey))?n:Ef(e.largestBatchId,t.largestBatchId)}var Wf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Kf=function(){function e(){Ni(this,e),this.onCommittedListeners=[]}return Pi(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Gf(e){return Qf.apply(this,arguments)}function Qf(){return Qf=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===df.FAILED_PRECONDITION&&t.message===Wf){e.next=2;break}throw t;case 2:of("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}var $f=function(){function e(t){var n=this;Ni(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Pi(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&lf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Oi(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Xf=function(){function e(t,n){var r=this;Ni(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new vf,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Zf(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=ih(e.target.error);r.P.reject(new Zf(t,n))}}return Pi(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(of("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new th(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Zf(n,t)}}}]),e}(),Yf=function(){function e(t,n,r){Ni(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Yi())&&uf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Pi(e,[{key:"F",value:function(){var e=ka(ya().mark((function e(t){var n=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return of("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Zf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new pf(df.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new pf(df.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Zf(t,n))},i.onupgradeneeded=function(e){of("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){of("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ka(ya().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=ya().mark((function e(){var n,u,s,l;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=Xf.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),$f.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,of("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return of("SimpleDb","Removing database:",e),nh(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!na())return!1;if(e.N())return!0;var t=Yi(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Messenger-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Jf=function(){function e(t){Ni(this,e),this.q=t,this.U=!1,this.K=null}return Pi(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return nh(this.q.delete())}}]),e}(),Zf=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this,df.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Pi(n)}(pf);function eh(e){return"IndexedDbTransactionError"===e.name}var th=function(){function e(t){Ni(this,e),this.store=t}return Pi(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(of("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(of("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),nh(n)}},{key:"add",value:function(e){return of("SimpleDb","ADD",this.store.name,e,e),nh(this.store.add(e))}},{key:"get",value:function(e){var t=this;return nh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),of("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return of("SimpleDb","DELETE",this.store.name,e),nh(this.store.delete(e))}},{key:"count",value:function(){return of("SimpleDb","COUNT",this.store.name),nh(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new $f((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new $f((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){of("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new $f((function(n,r){t.onerror=function(e){var t=ih(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new $f((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Jf(i),o=t(i.primaryKey,i.value,a);if(o instanceof $f){var u=o.catch((function(e){return a.done(),$f.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return $f.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function nh(e){return new $f((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ih(e.target.error);n(t)}}))}var rh=!1;function ih(e){var t=Yf.D(Yi());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new pf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return rh||(rh=!0,setTimeout((function(){throw r}),0)),r}}return e}var ah=function(){function e(t,n){Ni(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Pi(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;of("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=of,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!eh(e.t4)){e.next=17;break}of("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Gf(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),oh=function(){function e(t,n){Ni(this,e),this.localStore=t,this.persistence=n}return Pi(e,[{key:"st",value:function(){var e=ka(ya().mark((function e(){var t,n=this,r=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return $f.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return of("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return of("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Bf(t);Hf(r,n)>0&&(n=r)})),new qf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),uh=function(){function e(t,n){var r=this;Ni(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Pi(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();uh.at=-1;var sh=Pi((function e(t,n,r,i,a,o,u,s){Ni(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),ch=function(){function e(t,n){Ni(this,e),this.projectId=t,this.database=n||"(default)"}return Pi(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function lh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function dh(e){return null==e}function ph(e){return 0===e&&1/e==-1/0}function vh(e){return"number"==typeof e&&Number.isInteger(e)&&!ph(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var mh=function(e){function t(e){Ni(this,t),this.binaryString=e}return Pi(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ef(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();mh.EMPTY_BYTE_STRING=new mh("");var yh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gh(e){if(ff(!!e),"string"==typeof e){var t=0,n=yh.exec(e);if(ff(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:kh(e.seconds),nanos:kh(e.nanos)}}function kh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bh(e){return"string"==typeof e?mh.fromBase64String(e):mh.fromUint8Array(e)}function wh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xh(e){var t=e.mapValue.fields.__previous_value__;return wh(t)?xh(t):t}function _h(e){var t=gh(e.mapValue.fields.__local_write_time__.timestampValue);return new Af(t.seconds,t.nanos)}var Sh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ih={nullValue:"NULL_VALUE"};function Eh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wh(e)?4:Vh(e)?9007199254740991:10:lf()}function Th(e,t){if(e===t)return!0;var n=Eh(e);if(n!==Eh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _h(e).isEqual(_h(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=gh(e.timestampValue),r=gh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bh(e.bytesValue).isEqual(bh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return kh(e.geoPointValue.latitude)===kh(t.geoPointValue.latitude)&&kh(e.geoPointValue.longitude)===kh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return kh(e.integerValue)===kh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=kh(e.doubleValue),r=kh(t.doubleValue);return n===r?ph(n)===ph(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tf(e.arrayValue.values||[],t.arrayValue.values||[],Th);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lh(n)!==lh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Th(n[i],r[i])))return!1;return!0}(e,t);default:return lf()}}function Ch(e,t){return void 0!==(e.values||[]).find((function(e){return Th(e,t)}))}function Ah(e,t){if(e===t)return 0;var n=Eh(e),r=Eh(t);if(n!==r)return Ef(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ef(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=kh(e.integerValue||e.doubleValue),r=kh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Nh(e.timestampValue,t.timestampValue);case 4:return Nh(_h(e),_h(t));case 5:return Ef(e.stringValue,t.stringValue);case 6:return function(e,t){var n=bh(e),r=bh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ef(n[i],r[i]);if(0!==a)return a}return Ef(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ef(kh(e.latitude),kh(t.latitude));return 0!==n?n:Ef(kh(e.longitude),kh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ah(n[i],r[i]);if(a)return a}return Ef(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Sh.mapValue&&t===Sh.mapValue)return 0;if(e===Sh.mapValue)return 1;if(t===Sh.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ef(r[o],a[o]);if(0!==u)return u;var s=Ah(n[r[o]],i[a[o]]);if(0!==s)return s}return Ef(r.length,a.length)}(e.mapValue,t.mapValue);default:throw lf()}}function Nh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ef(e,t);var n=gh(e),r=gh(t),i=Ef(n.seconds,r.seconds);return 0!==i?i:Ef(n.nanos,r.nanos)}function Rh(e){return Ph(e)}function Ph(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=gh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?bh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Lf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Oi(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ph(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Oi(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ph(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):lf();var t,n}function Oh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Dh(e){return!!e&&"integerValue"in e}function Lh(e){return!!e&&"arrayValue"in e}function Mh(e){return!!e&&"nullValue"in e}function Fh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Uh(e){return!!e&&"mapValue"in e}function jh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return fh(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=jh(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=jh(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Vh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function zh(e){return"nullValue"in e?Ih:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Oh(ch.empty(),Lf.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:lf()}function Bh(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Oh(ch.empty(),Lf.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Sh:lf()}function qh(e,t){var n=Ah(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Hh(e,t){var n=Ah(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Wh=Pi((function e(t,n){Ni(this,e),this.position=t,this.inclusive=n}));function Kh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Lf.comparator(Lf.fromName(o.referenceValue),n.key):Ah(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Gh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Th(e.position[n],t.position[n]))return!1;return!0}var Qh=Pi((function e(){Ni(this,e)})),$h=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){var a;return Ni(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Pi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ah(t,this.value)):null!==t&&Eh(this.value)===Eh(t)&&this.matchesComparison(Ah(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lf()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ad(e,t,r):"array-contains"===t?new cd(e,r):"in"===t?new ld(e,r):"not-in"===t?new fd(e,r):"array-contains-any"===t?new hd(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new od(e,n):new ud(e,n)}}]),n}(Qh),Xh=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return Pi(n,[{key:"matches",value:function(e){return Yh(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Oi(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Qh);function Yh(e){return"and"===e.op}function Jh(e){return"or"===e.op}function Zh(e){return ed(e)&&Yh(e)}function ed(e){var t,n=Oi(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Xh)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function td(e){if(e instanceof $h)return e.field.canonicalString()+e.op.toString()+Rh(e.value);if(Zh(e))return e.filters.map((function(e){return td(e)})).join(",");var t=e.filters.map((function(e){return td(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function nd(e,t){return e instanceof $h?function(e,t){return t instanceof $h&&e.op===t.op&&e.field.isEqual(t.field)&&Th(e.value,t.value)}(e,t):e instanceof Xh?function(e,t){return t instanceof Xh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&nd(n,t.filters[r])}),!0)}(e,t):void lf()}function rd(e,t){var n=e.filters.concat(t);return Xh.create(n,e.op)}function id(e){return e instanceof $h?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Rh(e.value))}(e):e instanceof Xh?function(e){return e.op.toString()+" {"+e.getFilters().map(id).join(" ,")+"}"}(e):"Filter"}var ad=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){var a;return Ni(this,n),(a=t.call(this,e,r,i)).key=Lf.fromName(i.referenceValue),a}return Pi(n,[{key:"matches",value:function(e){var t=Lf.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}($h),od=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this,e,"in",r)).keys=sd("in",r),i}return Pi(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}($h),ud=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this,e,"not-in",r)).keys=sd("not-in",r),i}return Pi(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}($h);function sd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Lf.fromName(e.referenceValue)}))}var cd=function(e){Di(n,e);var t=Ui(n);function n(e,r){return Ni(this,n),t.call(this,e,"array-contains",r)}return Pi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Lh(t)&&Ch(t.arrayValue,this.value)}}]),n}($h),ld=function(e){Di(n,e);var t=Ui(n);function n(e,r){return Ni(this,n),t.call(this,e,"in",r)}return Pi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ch(this.value.arrayValue,t)}}]),n}($h),fd=function(e){Di(n,e);var t=Ui(n);function n(e,r){return Ni(this,n),t.call(this,e,"not-in",r)}return Pi(n,[{key:"matches",value:function(e){if(Ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ch(this.value.arrayValue,t)}}]),n}($h),hd=function(e){Di(n,e);var t=Ui(n);function n(e,r){return Ni(this,n),t.call(this,e,"array-contains-any",r)}return Pi(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ch(t.value.arrayValue,e)}))}}]),n}($h),dd=Pi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ni(this,e),this.field=t,this.dir=n}));function pd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var vd=function(){function e(t,n){Ni(this,e),this.comparator=t,this.root=n||yd.EMPTY}return Pi(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new md(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new md(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new md(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new md(this.root,e,this.comparator,!0)}}]),e}(),md=function(){function e(t,n,r,i){Ni(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Pi(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),yd=function(){function e(t,n,r,i,a){Ni(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Pi(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw lf();if(this.right.isRed())throw lf();var e=this.left.check();if(e!==this.right.check())throw lf();return e+(this.isRed()?0:1)}}]),e}();yd.EMPTY=null,yd.RED=!0,yd.BLACK=!1,yd.EMPTY=new(function(){function e(){Ni(this,e),this.size=0}return Pi(e,[{key:"key",get:function(){throw lf()}},{key:"value",get:function(){throw lf()}},{key:"color",get:function(){throw lf()}},{key:"left",get:function(){throw lf()}},{key:"right",get:function(){throw lf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new yd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var gd=function(){function e(t){Ni(this,e),this.comparator=t,this.data=new vd(this.comparator)}return Pi(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new kd(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new kd(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),kd=function(){function e(t){Ni(this,e),this.iter=t}return Pi(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function bd(e){return e.hasNext()?e.getNext():void 0}var wd=function(){function e(t){Ni(this,e),this.fields=t,t.sort(Df.comparator)}return Pi(e,[{key:"unionWith",value:function(t){var n,r=new gd(Df.comparator),i=Oi(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Oi(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Oi(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Tf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),xd=function(){function e(t){Ni(this,e),this.value=t}return Pi(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Uh(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jh(t)}},{key:"setAll",value:function(e){var t=this,n=Df.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=jh(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Th(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Uh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){fh(t,(function(t,n){return e[t]=n}));var r,i=Oi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(jh(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function _d(e){var t=[];return fh(e.fields,(function(e,n){var r=new Df([e]);if(Uh(n)){var i=_d(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Oi(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new wd(t)}var Sd=function(){function e(t,n,r,i,a,o,u){Ni(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Pi(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Nf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=xd.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=xd.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Nf.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Nf.min(),Nf.min(),Nf.min(),xd.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Nf.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Nf.min(),Nf.min(),xd.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Nf.min(),Nf.min(),xd.empty(),2)}}]),e}(),Id=Pi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ni(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function Ed(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Id(e,t,n,r,i,a,o)}function Td(e){var t=hf(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return td(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),dh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Rh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Rh(e)})).join(",")),t.ft=n}return t.ft}function Cd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!pd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!nd(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gh(e.startAt,t.startAt)&&Gh(e.endAt,t.endAt)}function Ad(e){return Lf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Nd(e,t){return e.filters.filter((function(e){return e instanceof $h&&e.field.isEqual(t)}))}function Rd(e,t,n){var r,i=Ih,a=!0,o=Oi(Nd(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ih,c=!0;switch(u.op){case"<":case"<=":s=zh(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Ih}qh({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];qh({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Pd(e,t,n){var r,i=Sh,a=!0,o=Oi(Nd(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Sh,c=!0;switch(u.op){case">=":case">":s=Bh(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Sh}Hh({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Hh({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Od=Pi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ni(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function Dd(e,t,n,r,i,a,o,u){return new Od(e,t,n,r,i,a,o,u)}function Ld(e){return new Od(e)}function Md(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Fd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ud(e){var t,n=Oi(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function jd(e){return null!==e.collectionGroup}function Vd(e){var t=hf(e);if(null===t.dt){t.dt=[];var n=Ud(t),r=Fd(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new dd(n)),t.dt.push(new dd(Df.keyField(),"asc"));else{var i,a=!1,o=Oi(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new dd(Df.keyField(),s))}}}return t.dt}function zd(e){var t=hf(e);if(!t._t)if("F"===t.limitType)t._t=Ed(t.path,t.collectionGroup,Vd(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Oi(Vd(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new dd(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Wh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Wh(t.startAt.position,t.startAt.inclusive):null;t._t=Ed(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Bd(e,t){t.getFirstInequalityField(),Ud(e);var n=e.filters.concat([t]);return new Od(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function qd(e,t,n){return new Od(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hd(e,t){return Cd(zd(e),zd(t))&&e.limitType===t.limitType}function Wd(e){return"".concat(Td(zd(e)),"|lt:").concat(e.limitType)}function Kd(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return id(e)})).join(", "),"]")),dh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Rh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Rh(e)})).join(",")),"Target(".concat(t,")")}(zd(e)),"; limitType=").concat(e.limitType,")")}function Gd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Lf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Oi(Vd(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Oi(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Kh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Vd(e),t))&&!(e.endAt&&!function(e,t,n){var r=Kh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Vd(e),t))}(e,t)}function Qd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $d(e){return function(t,n){var r,i=!1,a=Oi(Vd(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Xd(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Xd(e,t,n){var r=e.field.isKeyField()?Lf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ah(r,i):lf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return lf()}}function Yd(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(t)?"-0":t}}function Jd(e){return{integerValue:""+e}}function Zd(e,t){return vh(t)?Jd(t):Yd(e,t)}var ep=Pi((function e(){Ni(this,e),this._=void 0}));function tp(e,t,n){return e instanceof ip?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ap?op(e,t):e instanceof up?sp(e,t):function(e,t){var n=rp(e,t),r=lp(n)+lp(e.gt);return Dh(n)&&Dh(e.gt)?Jd(r):Yd(e.yt,r)}(e,t)}function np(e,t,n){return e instanceof ap?op(e,t):e instanceof up?sp(e,t):n}function rp(e,t){return e instanceof cp?Dh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ip=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.apply(this,arguments)}return Pi(n)}(ep),ap=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this)).elements=e,r}return Pi(n)}(ep);function op(e,t){var n,r=fp(t),i=Oi(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Th(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var up=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this)).elements=e,r}return Pi(n)}(ep);function sp(e,t){var n,r=fp(t),i=Oi(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Th(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var cp=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return Pi(n)}(ep);function lp(e){return kh(e.integerValue||e.doubleValue)}function fp(e){return Lh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var hp=Pi((function e(t,n){Ni(this,e),this.field=t,this.transform=n}));var dp=Pi((function e(t,n){Ni(this,e),this.version=t,this.transformResults=n})),pp=function(){function e(t,n){Ni(this,e),this.updateTime=t,this.exists=n}return Pi(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function vp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var mp=Pi((function e(){Ni(this,e)}));function yp(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ap(e.key,pp.none()):new xp(e.key,e.data,pp.none());var n,r=e.data,i=xd.empty(),a=new gd(Df.comparator),o=Oi(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new _p(e.key,i,new wd(a.toArray()),pp.none())}function gp(e,t,n){e instanceof xp?function(e,t,n){var r=e.value.clone(),i=Ip(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _p?function(e,t,n){if(vp(e.precondition,t)){var r=Ip(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Sp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kp(e,t,n,r){return e instanceof xp?function(e,t,n,r){if(!vp(e.precondition,t))return n;var i=e.value.clone(),a=Ep(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _p?function(e,t,n,r){if(!vp(e.precondition,t))return n;var i=Ep(e.fieldTransforms,r,t),a=t.data;return a.setAll(Sp(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return vp(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function bp(e,t){var n,r=null,i=Oi(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=rp(a.transform,o||null);null!=u&&(null===r&&(r=xd.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function wp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ap&&t instanceof ap||e instanceof up&&t instanceof up?Tf(e.elements,t.elements,Th):e instanceof cp&&t instanceof cp?Th(e.gt,t.gt):e instanceof ip&&t instanceof ip}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var xp=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ni(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Pi(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mp),_p=function(e){Di(n,e);var t=Ui(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ni(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Pi(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(mp);function Sp(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ip(e,t,n){var r=new Map;ff(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,np(o,u,n[i]))}return r}function Ep(e,t,n){var r,i=new Map,a=Oi(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,tp(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Tp,Cp,Ap=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Pi(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mp),Np=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Pi(n,[{key:"getFieldMask",value:function(){return null}}]),n}(mp),Rp=Pi((function e(t){Ni(this,e),this.count=t}));function Pp(e){switch(e){default:return lf();case df.CANCELLED:case df.UNKNOWN:case df.DEADLINE_EXCEEDED:case df.RESOURCE_EXHAUSTED:case df.INTERNAL:case df.UNAVAILABLE:case df.UNAUTHENTICATED:return!1;case df.INVALID_ARGUMENT:case df.NOT_FOUND:case df.ALREADY_EXISTS:case df.PERMISSION_DENIED:case df.FAILED_PRECONDITION:case df.ABORTED:case df.OUT_OF_RANGE:case df.UNIMPLEMENTED:case df.DATA_LOSS:return!0}}function Op(e){if(void 0===e)return uf("GRPC error has no .code"),df.UNKNOWN;switch(e){case Tp.OK:return df.OK;case Tp.CANCELLED:return df.CANCELLED;case Tp.UNKNOWN:return df.UNKNOWN;case Tp.DEADLINE_EXCEEDED:return df.DEADLINE_EXCEEDED;case Tp.RESOURCE_EXHAUSTED:return df.RESOURCE_EXHAUSTED;case Tp.INTERNAL:return df.INTERNAL;case Tp.UNAVAILABLE:return df.UNAVAILABLE;case Tp.UNAUTHENTICATED:return df.UNAUTHENTICATED;case Tp.INVALID_ARGUMENT:return df.INVALID_ARGUMENT;case Tp.NOT_FOUND:return df.NOT_FOUND;case Tp.ALREADY_EXISTS:return df.ALREADY_EXISTS;case Tp.PERMISSION_DENIED:return df.PERMISSION_DENIED;case Tp.FAILED_PRECONDITION:return df.FAILED_PRECONDITION;case Tp.ABORTED:return df.ABORTED;case Tp.OUT_OF_RANGE:return df.OUT_OF_RANGE;case Tp.UNIMPLEMENTED:return df.UNIMPLEMENTED;case Tp.DATA_LOSS:return df.DATA_LOSS;default:return lf()}}(Cp=Tp||(Tp={}))[Cp.OK=0]="OK",Cp[Cp.CANCELLED=1]="CANCELLED",Cp[Cp.UNKNOWN=2]="UNKNOWN",Cp[Cp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cp[Cp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cp[Cp.NOT_FOUND=5]="NOT_FOUND",Cp[Cp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cp[Cp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cp[Cp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cp[Cp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cp[Cp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cp[Cp.ABORTED=10]="ABORTED",Cp[Cp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cp[Cp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cp[Cp.INTERNAL=13]="INTERNAL",Cp[Cp.UNAVAILABLE=14]="UNAVAILABLE",Cp[Cp.DATA_LOSS=15]="DATA_LOSS";var Dp=function(){function e(t,n){Ni(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Pi(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Oi(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){fh(this.inner,(function(t,n){var r,i=Oi(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return hh(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Lp=new vd(Lf.comparator);function Mp(){return Lp}var Fp=new vd(Lf.comparator);function Up(){for(var e=Fp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function jp(e){var t=Fp;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Vp(){return Bp()}function zp(){return Bp()}function Bp(){return new Dp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var qp=new vd(Lf.comparator),Hp=new gd(Lf.comparator);function Wp(){for(var e=Hp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Kp=new gd(Ef);function Gp(){return Kp}var Qp=function(){function e(t,n,r,i,a){Ni(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Pi(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,$p.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Nf.min(),i,Gp(),Mp(),Wp())}}]),e}(),$p=function(){function e(t,n,r,i,a){Ni(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Pi(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Wp(),Wp(),Wp())}}]),e}(),Xp=Pi((function e(t,n,r,i){Ni(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Yp=Pi((function e(t,n){Ni(this,e),this.targetId=t,this.Et=n})),Jp=Pi((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mh.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ni(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Zp=function(){function e(){Ni(this,e),this.At=0,this.Rt=nv(),this.bt=mh.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return Pi(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=Wp(),t=Wp(),n=Wp();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:lf()}})),new $p(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=nv()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),ev=function(){function e(t){Ni(this,e),this.$t=t,this.Bt=new Map,this.Lt=Mp(),this.qt=tv(),this.Ut=new gd(Ef)}return Pi(e,[{key:"Kt",value:function(e){var t,n=Oi(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Oi(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:lf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Ad(i))if(0===n){var a=new Lf(i.path);this.Qt(t,a,Sd.newNoDocument(a,Nf.min()))}else ff(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Ad(a.target)){var o=new Lf(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Sd.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Wp();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Qp(e,n,this.Ut,this.Lt,r);return this.Lt=Mp(),this.qt=tv(),this.Ut=new gd(Ef),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new Zp,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new gd(Ef),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||of("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new Zp),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function tv(){return new vd(Lf.comparator)}function nv(){return new vd(Lf.comparator)}var rv={asc:"ASCENDING",desc:"DESCENDING"},iv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},av={and:"AND",or:"OR"},ov=Pi((function e(t,n){Ni(this,e),this.databaseId=t,this.wt=n}));function uv(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function sv(e,t){return e.wt?t.toBase64():t.toUint8Array()}function cv(e,t){return uv(e,t.toTimestamp())}function lv(e){return ff(!!e),Nf.fromTimestamp(function(e){var t=gh(e);return new Af(t.seconds,t.nanos)}(e))}function fv(e,t){return function(e){return new Pf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function hv(e){var t=Pf.fromString(e);return ff(Lv(t)),t}function dv(e,t){return fv(e.databaseId,t.path)}function pv(e,t){var n=hv(t);if(n.get(1)!==e.databaseId.projectId)throw new pf(df.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pf(df.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Lf(gv(n))}function vv(e,t){return fv(e.databaseId,t)}function mv(e){var t=hv(e);return 4===t.length?Pf.emptyPath():gv(t)}function yv(e){return new Pf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gv(e){return ff(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function kv(e,t,n){return{name:dv(e,t),fields:n.value.mapValue.fields}}function bv(e,t,n){var r=pv(e,t.name),i=lv(t.updateTime),a=t.createTime?lv(t.createTime):Nf.min(),o=new xd({mapValue:{fields:t.fields}}),u=Sd.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function wv(e,t){return"found"in t?function(e,t){ff(!!t.found),t.found.name,t.found.updateTime;var n=pv(e,t.found.name),r=lv(t.found.updateTime),i=t.found.createTime?lv(t.found.createTime):Nf.min(),a=new xd({mapValue:{fields:t.found.fields}});return Sd.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){ff(!!t.missing),ff(!!t.readTime);var n=pv(e,t.missing),r=lv(t.readTime);return Sd.newNoDocument(n,r)}(e,t):lf()}function xv(e,t){var n;if(t instanceof xp)n={update:kv(e,t.key,t.value)};else if(t instanceof Ap)n={delete:dv(e,t.key)};else if(t instanceof _p)n={update:kv(e,t.key,t.data),updateMask:Dv(t.fieldMask)};else{if(!(t instanceof Np))return lf();n={verify:dv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ip)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ap)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof up)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cp)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw lf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:cv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:lf()}(e,t.precondition)),n}function _v(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?pp.updateTime(lv(e.updateTime)):void 0!==e.exists?pp.exists(e.exists):pp.none()}(t.currentDocument):pp.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ff("REQUEST_TIME"===t.setToServerValue),n=new ip;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ap(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new up(i)}else"increment"in t?n=new cp(e,t.increment):lf();var a=Df.fromServerFormat(t.fieldPath);return new hp(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=pv(e,t.update.name),a=new xd({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new wd(t.map((function(e){return Df.fromServerFormat(e)})))}(t.updateMask);return new _p(i,a,o,n,r)}return new xp(i,a,n,r)}if(t.delete){var u=pv(e,t.delete);return new Ap(u,n)}if(t.verify){var s=pv(e,t.verify);return new Np(s,n)}return lf()}function Sv(e,t){return{documents:[vv(e,t.path)]}}function Iv(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=vv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=vv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Ov(Xh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Rv(e.field),direction:Cv(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||dh(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ev(e){var t=mv(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ff(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Tv(e);return t instanceof Xh&&Zh(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new dd(Pv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return dh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Wh(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Wh(n,t)}(n.endAt)),Dd(t,i,u,o,s,"F",c,l)}function Tv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Pv(e.unaryFilter.field);return $h.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Pv(e.unaryFilter.field);return $h.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Pv(e.unaryFilter.field);return $h.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Pv(e.unaryFilter.field);return $h.create(i,"!=",{nullValue:"NULL_VALUE"});default:return lf()}}(e):void 0!==e.fieldFilter?function(e){return $h.create(Pv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xh.create(e.compositeFilter.filters.map((function(e){return Tv(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return lf()}}(e.compositeFilter.op))}(e):lf()}function Cv(e){return rv[e]}function Av(e){return iv[e]}function Nv(e){return av[e]}function Rv(e){return{fieldPath:e.canonicalString()}}function Pv(e){return Df.fromServerFormat(e.fieldPath)}function Ov(e){return e instanceof $h?function(e){if("=="===e.op){if(Fh(e.value))return{unaryFilter:{field:Rv(e.field),op:"IS_NAN"}};if(Mh(e.value))return{unaryFilter:{field:Rv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fh(e.value))return{unaryFilter:{field:Rv(e.field),op:"IS_NOT_NAN"}};if(Mh(e.value))return{unaryFilter:{field:Rv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rv(e.field),op:Av(e.op),value:e.value}}}(e):e instanceof Xh?function(e){var t=e.getFilters().map((function(e){return Ov(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Nv(e.op),filters:t}}}(e):lf()}function Dv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Lv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Mv(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Uv(t)),t=Fv(e.get(n),t);return Uv(t)}function Fv(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Uv(e){return e+"\x01\x01"}function jv(e){var t=e.length;if(ff(t>=2),2===t)return ff("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Pf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&lf(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:lf()}a=o+2}return new Pf(r)}var Vv=["userId","batchId"];function zv(e,t){return[e,Mv(t)]}function Bv(e,t,n){return[e,Mv(t),n]}var qv={},Hv=["prefixPath","collectionGroup","readTime","documentId"],Wv=["prefixPath","collectionGroup","documentId"],Kv=["collectionGroup","readTime","prefixPath","documentId"],Gv=["canonicalId","targetId"],Qv=["targetId","path"],$v=["path","targetId"],Xv=["collectionId","parent"],Yv=["indexId","uid"],Jv=["uid","sequenceNumber"],Zv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],em=["indexId","uid","orderedDocumentKey"],tm=["userId","collectionPath","documentId"],nm=["userId","collectionPath","largestBatchId"],rm=["userId","collectionGroup","largestBatchId"],im=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),am=[].concat(C(im),["documentOverlays"]),om=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],um=om,sm=[].concat(um,["indexConfiguration","indexState","indexEntries"]),cm=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return Pi(n)}(Kf);function lm(e,t){var n=hf(e);return Yf.M(n.se,t)}var fm=function(){function e(t,n,r,i){Ni(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Pi(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&gp(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Oi(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=kp(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Oi(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=kp(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=zp();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=yp(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Nf.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Wp())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Tf(this.mutations,e.mutations,(function(e,t){return wp(e,t)}))&&Tf(this.baseMutations,e.baseMutations,(function(e,t){return wp(e,t)}))}}]),e}(),hm=function(){function e(t,n,r,i){Ni(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Pi(e,null,[{key:"from",value:function(t,n,r){ff(t.mutations.length===r.length);for(var i=qp,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),dm=function(){function e(t,n){Ni(this,e),this.largestBatchId=t,this.mutation=n}return Pi(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),pm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nf.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:mh.EMPTY_BYTE_STRING;Ni(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Pi(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),vm=Pi((function e(t){Ni(this,e),this.ie=t}));function mm(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ym(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:dv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:uv(e,t.version.toTimestamp()),createTime:uv(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gm(t.version)};else{if(!t.isUnknownDocument())return lf();r.unknownDocument={path:n.path.toArray(),version:gm(t.version)}}return r}function ym(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function gm(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function km(e){var t=new Af(e.seconds,e.nanoseconds);return Nf.fromTimestamp(t)}function bm(e,t){for(var n=(t.baseMutations||[]).map((function(t){return _v(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return _v(e.ie,t)})),u=Af.fromMillis(t.localWriteTimeMs);return new fm(t.batchId,u,n,o)}function wm(e){var t,n,r=km(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?km(e.lastLimboFreeSnapshotVersion):Nf.min();return void 0!==e.query.documents?(ff(1===(n=e.query).documents.length),t=zd(Ld(mv(n.documents[0])))):t=function(e){return zd(Ev(e))}(e.query),new pm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,mh.fromBase64String(e.resumeToken))}function xm(e,t){var n,r=gm(t.snapshotVersion),i=gm(t.lastLimboFreeSnapshotVersion);n=Ad(t.target)?Sv(e.ie,t.target):Iv(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Td(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function _m(e){var t=Ev({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qd(t,t.limit,"L"):t}function Sm(e,t){return new dm(t.largestBatchId,_v(e.ie,t.overlayMutation))}function Im(e,t){var n=t.path.lastSegment();return[e,Mv(t.path.popLast()),n]}function Em(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:gm(r.readTime),documentKey:Mv(r.documentKey.path),largestBatchId:r.largestBatchId}}var Tm=function(){function e(){Ni(this,e)}return Pi(e,[{key:"getBundleMetadata",value:function(e,t){return Cm(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:km(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Cm(e).put({bundleId:(n=t).id,createTime:gm(lv(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Am(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:_m(t.bundledQuery),readTime:km(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Am(e).put(function(e){return{name:e.name,readTime:gm(lv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Cm(e){return lm(e,"bundles")}function Am(e){return lm(e,"namedQueries")}var Nm=function(){function e(t,n){Ni(this,e),this.yt=t,this.userId=n}return Pi(e,[{key:"getOverlay",value:function(e,t){var n=this;return Rm(e).get(Im(this.userId,t)).next((function(e){return e?Sm(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Vp();return $f.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new dm(t,a);i.push(r.oe(e,o))})),$f.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Mv(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Rm(e).Y("collectionPathOverlayIndex",i))})),$f.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Vp(),a=Mv(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Rm(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Oi(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Sm(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Vp(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Rm(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Sm(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return Rm(e).put(function(e,t,n){var r=c(Im(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:xv(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Rm(e){return lm(e,"documentOverlays")}var Pm=function(){function e(){Ni(this,e)}return Pi(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(kh(e.integerValue));else if("doubleValue"in e){var n=kh(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),ph(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(bh(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?Vh(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):lf()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=Oi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),Lf.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function Om(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Dm(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Om(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Pm.Ie=new Pm;var Lm=function(){function e(){Ni(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Pi(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=Oi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=Oi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=Dm(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=Dm(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Mm=function(){function e(t){Ni(this,e),this.$e=t}return Pi(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),Fm=function(){function e(t){Ni(this,e),this.$e=t}return Pi(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),Um=function(){function e(){Ni(this,e),this.$e=new Lm,this.Be=new Mm(this.$e),this.Le=new Fm(this.$e)}return Pi(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),jm=function(){function e(t,n,r,i){Ni(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Pi(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Vm(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=zm(e.arrayValue,t.arrayValue))?n:0!==(n=zm(e.directionalValue,t.directionalValue))?n:Lf.comparator(e.documentKey,t.documentKey)}function zm(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Bm=function(){function e(t){Ni(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=Oi(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Pi(e,[{key:"je",value:function(e){ff(e.collectionGroup===this.collectionId);var t=Ff(e);if(void 0!==t&&!this.We(t))return!1;for(var n=Uf(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=Oi(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function qm(e){var t,n;if(ff(e instanceof $h||e instanceof Xh),e instanceof $h){if(e instanceof ld){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return $h.create(e.field,"==",t)})))||[];return Xh.create(r,"or")}return e}var i=e.filters.map((function(e){return qm(e)}));return Xh.create(i,e.op)}function Hm(e){if(0===e.getFilters().length)return[];var t=Qm(qm(e));return ff(Gm(t)),Wm(t)||Km(t)?[t]:t.getFilters()}function Wm(e){return e instanceof $h}function Km(e){return e instanceof Xh&&Zh(e)}function Gm(e){return Wm(e)||Km(e)||function(e){if(e instanceof Xh&&Jh(e)){var t,n=Oi(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Wm(r)&&!Km(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Qm(e){if(ff(e instanceof $h||e instanceof Xh),e instanceof $h)return e;if(1===e.filters.length)return Qm(e.filters[0]);var t=e.filters.map((function(e){return Qm(e)})),n=Xh.create(t,e.op);return Gm(n=Ym(n))?n:(ff(n instanceof Xh),ff(Yh(n)),ff(n.filters.length>1),n.filters.reduce((function(e,t){return $m(e,t)})))}function $m(e,t){var n;return ff(e instanceof $h||e instanceof Xh),ff(t instanceof $h||t instanceof Xh),n=e instanceof $h?t instanceof $h?function(e,t){return Xh.create([e,t],"and")}(e,t):Xm(e,t):t instanceof $h?Xm(t,e):function(e,t){if(ff(e.filters.length>0&&t.filters.length>0),Yh(e)&&Yh(t))return rd(e,t.getFilters());var n=Jh(e)?e:t,r=Jh(e)?t:e,i=n.filters.map((function(e){return $m(e,r)}));return Xh.create(i,"or")}(e,t),Ym(n)}function Xm(e,t){if(Yh(t))return rd(t,e.getFilters());var n=t.filters.map((function(t){return $m(e,t)}));return Xh.create(n,"or")}function Ym(e){if(ff(e instanceof $h||e instanceof Xh),e instanceof $h)return e;var t=e.getFilters();if(1===t.length)return Ym(t[0]);if(ed(e))return e;var n=t.map((function(e){return Ym(e)})),r=[];return n.forEach((function(t){t instanceof $h?r.push(t):t instanceof Xh&&(t.op===e.op?r.push.apply(r,C(t.filters)):r.push(t))})),1===r.length?r[0]:Xh.create(r,e.op)}var Jm=function(){function e(){Ni(this,e),this.Je=new Zm}return Pi(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),$f.resolve()}},{key:"getCollectionParents",value:function(e,t){return $f.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return $f.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return $f.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return $f.resolve(null)}},{key:"getIndexType",value:function(e,t){return $f.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return $f.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return $f.resolve(null)}},{key:"getMinOffset",value:function(e,t){return $f.resolve(qf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return $f.resolve(qf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return $f.resolve()}},{key:"updateIndexEntries",value:function(e,t){return $f.resolve()}}]),e}(),Zm=function(){function e(){Ni(this,e),this.index={}}return Pi(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new gd(Pf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new gd(Pf.comparator)).toArray()}}]),e}(),ey=new Uint8Array(0),ty=function(){function e(t,n){Ni(this,e),this.user=t,this.databaseId=n,this.Ye=new Zm,this.Xe=new Dp((function(e){return Td(e)}),(function(e,t){return Cd(e,t)})),this.uid=t.uid||""}return Pi(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:Mv(i)};return ny(e).put(a)}return $f.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Cf(t),""],!1,!0);return ny(e).W(r).next((function(e){var r,i=Oi(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(jv(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=iy(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ay(e);return a.next((function(e){o.put(Em(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=iy(e),r=ay(e),i=ry(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ry(e),i=!0,a=new Map;return $f.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Wp(),o=[];return $f.forEach(a,(function(i,a){var u;of("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Td(t)));var s=function(e,t){var n=Ff(t);if(void 0===n)return null;var r,i=Oi(Nd(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Oi(Uf(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Oi(Nd(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Oi(Uf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Rd(e,o.fieldPath,e.startAt):Pd(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Wh(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Oi(Uf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Pd(e,o.fieldPath,e.endAt):Rd(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Wh(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return $f.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Lf.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return $f.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Hm(Xh.create(e.filters,"and")).map((function(t){return Ed(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.rn(t[h/c]):ey,f=u.on(e,s,n[h%c],r),d=u.un(e,s,i[h%c],a),p=o.map((function(t){return u.on(e,s,t,!0)}));l.push.apply(l,C(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"on",value:function(e,t,n,r){var i=new jm(e,Lf.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new jm(e,Lf.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new Bm(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Oi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return $f.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new gd(Df.comparator),r=!1,i=Oi(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Oi(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=Oi(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new Um,i=Oi(Uf(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Pm.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new Um;return Pm.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new Um;return Pm.Ie.ue(Oh(this.databaseId,t),n.qe(function(e){var t=Uf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Um);var i,a=0,o=Oi(Uf(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Oi(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&Lh(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);Pm.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=C(e),a=[],o=Oi(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Oi(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Um;f.seed(l.Fe()),Pm.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof $h&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=iy(e),i=ay(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return $f.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Vf(t.sequenceNumber,new qf(km(t.readTime),new Lf(jv(t.documentKey)),t.largestBatchId)):Vf.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new jf(Df.fromServerFormat(n),r)}));return new Mf(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ef(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=iy(e),a=ay(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return $f.forEach(t,(function(t){return a.put(Em(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return $f.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?$f.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),$f.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?$f.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return ry(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return ry(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=ry(e),i=new gd(Vm);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new jm(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new gd(Vm),r=this.cn(t,e);if(null==r)return n;var i=Ff(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Lh(a)){var o,u=Oi(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new jm(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new jm(t.indexId,e.key,ey,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;of("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=bd(a),s=bd(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=bd(o)):l?(i(u),u=bd(a)):(u=bd(a),s=bd(o))}}(r,i,Vm,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),$f.waitFor(o)}},{key:"dn",value:function(e){var t=1;return ay(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Vm(e,t)})).filter((function(e,t,n){return!t||0!==Vm(e,n[t-1])}));var r=[];r.push(e);var i,a=Oi(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Vm(o,e),s=Vm(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ey,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ey,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return Vm(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(oy)}},{key:"getMinOffset",value:function(e,t){var n=this;return $f.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||lf()}))})).next(oy)}}]),e}();function ny(e){return lm(e,"collectionParents")}function ry(e){return lm(e,"indexEntries")}function iy(e){return lm(e,"indexConfiguration")}function ay(e){return lm(e,"indexState")}function oy(e){ff(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Hf(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new qf(t.readTime,t.documentKey,n)}var uy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sy=function(){function e(t,n,r){Ni(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Pi(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function cy(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ff(1===u)})));var c,l=[],f=Oi(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Bv(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return $f.waitFor(a).next((function(){return l}))}function ly(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw lf();t=e.noDocument}return JSON.stringify(t).length}sy.DEFAULT_COLLECTION_PERCENTILE=10,sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sy.DEFAULT=new sy(41943040,sy.DEFAULT_COLLECTION_PERCENTILE,sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sy.DISABLED=new sy(-1,0,0);var fy=function(){function e(t,n,r,i){Ni(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Pi(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dy(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=py(e),o=dy(e);return o.add({}).next((function(u){ff("number"==typeof u);var s,c=new fm(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return xv(e.ie,t)})),i=n.mutations.map((function(t){return xv(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new gd((function(e,t){return Ef(e.canonicalString(),t.canonicalString())})),d=Oi(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Bv(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,qv))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),$f.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return dy(e).get(t).next((function(e){return e?(ff(e.userId===n.userId),bm(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?$f.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return dy(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ff(t.batchId>=r),a=bm(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return dy(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dy(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return bm(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=zv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return py(e).Z({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=jv(l);if(s===n.userId&&t.path.isEqual(h))return dy(e).get(f).next((function(e){if(!e)throw lf();ff(e.userId===n.userId),a.push(bm(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new gd(Ef),i=[];return t.forEach((function(t){var a=zv(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=py(e).Z({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=jv(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),$f.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=zv(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new gd(Ef);return py(e).Z({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=jv(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(dy(e).get(t).next((function(e){if(null===e)throw lf();ff(e.userId===n.userId),r.push(bm(n.yt,e))})))})),$f.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return cy(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),$f.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return $f.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return py(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=jv(e[1]);i.push(a)}else r.done()})).next((function(){ff(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return hy(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return vy(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return ff(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function hy(e,t,n){var r=zv(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return py(e).Z({range:a,X:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function dy(e){return lm(e,"mutations")}function py(e){return lm(e,"documentMutations")}function vy(e){return lm(e,"mutationQueues")}var my=function(){function e(t){Ni(this,e),this.bn=t}return Pi(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),yy=function(){function e(t,n){Ni(this,e),this.referenceDelegate=t,this.yt=n}return Pi(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new my(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Nf.fromTimestamp(new Af(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return gy(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return ff(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return gy(e).Z((function(o,u){var s=wm(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return $f.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return gy(e).Z((function(e,n){var r=wm(n);t(r)}))}},{key:"Vn",value:function(e){return ky(e).get("targetGlobalKey").next((function(e){return ff(null!==e),e}))}},{key:"Sn",value:function(e,t){return ky(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return gy(e).put(xm(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Td(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return gy(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=wm(n);Cd(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=by(e);return t.forEach((function(t){var o=Mv(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),$f.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=by(e);return $f.forEach(t,(function(t){var a=Mv(t.path);return $f.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=by(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=by(e),i=Wp();return r.Z({range:n,X:!0},(function(e,t,n){var r=jv(e[1]),a=new Lf(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Mv(t.path),r=IDBKeyRange.bound([n],[Cf(n)],!1,!0),i=0;return by(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return gy(e).get(t).next((function(e){return e?wm(e):null}))}}]),e}();function gy(e){return lm(e,"targets")}function ky(e){return lm(e,"targetGlobal")}function by(e){return lm(e,"targetDocuments")}function wy(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Ef(r,o);return 0===s?Ef(i,u):s}var xy=function(){function e(t){Ni(this,e),this.xn=t,this.buffer=new gd(wy),this.Nn=0}return Pi(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();wy(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),_y=function(){function e(t,n,r){Ni(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return Pi(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;of("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!eh(e.t0)){e.next=12;break}of("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Gf(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Sy=function(){function e(t,n){Ni(this,e),this.$n=t,this.params=n}return Pi(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return $f.resolve(uh.at);var r=new xy(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(of("LruGarbageCollector","Garbage collection skipped; disabled"),$f.resolve(uy)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(of("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),uy):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(of("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),af()<=Ia.DEBUG&&of("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),$f.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Iy=function(){function e(t,n){Ni(this,e),this.db=t,this.garbageCollector=function(e,t){return new Sy(e,t)}(this,n)}return Pi(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ey(e,n)}},{key:"removeReference",value:function(e,t,n){return Ey(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ey(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return vy(e).tt((function(r){return hy(e,r,t).next((function(e){return e&&(n=!0),$f.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Nf.min()),by(e).delete([0,Mv(o.path)])}))}));i.push(s)}})).next((function(){return $f.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ey(e,t)}},{key:"Kn",value:function(e,t){var n,r=by(e),i=uh.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==uh.at&&t(new Lf(jv(n)),i),i=s,n=u):i=uh.at})).next((function(){i!==uh.at&&t(new Lf(jv(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ey(e,t){return by(e).put(function(e,t){return{targetId:0,path:Mv(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ty=function(){function e(){Ni(this,e),this.changes=new Dp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Pi(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Sd.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?$f.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Cy=function(){function e(t){Ni(this,e),this.yt=t}return Pi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Py(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Py(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ym(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Sd.newInvalidDocument(t);return Py(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Oy(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Sd.newInvalidDocument(t)};return Py(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Oy(t))},(function(e,i){r={document:n.jn(t,i),size:ly(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Mp();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Mp(),i=new vd(Lf.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,ly(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return $f.resolve();var r=new gd(Ly);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Oy(r.first()),Oy(r.last())),a=r.getIterator(),o=a.getNext();return Py(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Lf.fromSegments([].concat(C(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Ly(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Oy(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),ym(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Py(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Mp(),i=Oi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Lf.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Mp(),o=Dy(t,n),u=Dy(t,qf.max());return Py(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Lf.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Ny(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Ry(e).get("remoteDocumentGlobalKey").next((function(e){return ff(!!e),e}))}},{key:"Qn",value:function(e,t){return Ry(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=bv(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Lf.fromSegments(t.noDocument.path),i=km(t.noDocument.readTime);n=Sd.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return lf();var a=Lf.fromSegments(t.unknownDocument.path),o=km(t.unknownDocument.version);n=Sd.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Af(e[0],e[1]);return Nf.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(Nf.min()))return n}return Sd.newInvalidDocument(e)}}]),e}();function Ay(e){return new Cy(e)}var Ny=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Dp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Pi(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new gd((function(e,t){return Ef(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=mm(t.Yn.yt,o);i=i.add(a.path.popLast());var c=ly(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=mm(t.Yn.yt,o.convertToNoDocument(Nf.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),$f.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ty);function Ry(e){return lm(e,"remoteDocumentGlobal")}function Py(e){return lm(e,"remoteDocumentsV14")}function Oy(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Dy(e,t){var n=t.documentKey.path.toArray();return[e,ym(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ly(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ef(n[a],r[a]))return i;return(i=Ef(n.length,r.length))||((i=Ef(n[n.length-2],r[r.length-2]))||Ef(n[n.length-1],r[r.length-1]))}var My=Pi((function e(t,n){Ni(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Fy=function(){function e(t,n,r,i){Ni(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Pi(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&kp(r.mutation,e,wd.empty(),Af.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Wp()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wp(),i=Vp();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Up();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Vp();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Wp())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Mp(),a=Bp(),o=Bp();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof _p)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),kp(o.mutation,t,o.mutation.getFieldMask(),Af.now())):a.set(t.key,wd.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new My(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Bp(),i=new vd((function(e,t){return e-t})),a=Wp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Oi(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||wd.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Wp()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=zp();c.forEach((function(e){if(!a.has(e)){var n=yp(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return $f.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Lf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):$f.resolve(Vp()),u=-1,s=a;return o.next((function(t){return $f.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?$f.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Wp())})).next((function(e){return{batchId:u,changes:jp(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Lf(t)).next((function(e){var t=Up();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Up();return this.indexManager.getCollectionParents(e,i).next((function(o){return $f.forEach(o,(function(o){var u=function(e,t){return new Od(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Sd.newInvalidDocument(n)))}));var n=Up();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&kp(a.mutation,i,wd.empty(),Af.now()),Gd(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),Uy=function(){function e(t){Ni(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return Pi(e,[{key:"getBundleMetadata",value:function(e,t){return $f.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:lv(n.createTime)}),$f.resolve()}},{key:"getNamedQuery",value:function(e,t){return $f.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:_m(e.bundledQuery),readTime:lv(e.readTime)}}(t)),$f.resolve()}}]),e}(),jy=function(){function e(){Ni(this,e),this.overlays=new vd(Lf.comparator),this.es=new Map}return Pi(e,[{key:"getOverlay",value:function(e,t){return $f.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Vp();return $f.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),$f.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),$f.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Vp(),i=t.length+1,a=new Lf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return $f.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new vd((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Vp(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Vp(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return $f.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new dm(t,n));var a=this.es.get(t);void 0===a&&(a=Wp(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Vy=function(){function e(){Ni(this,e),this.ns=new gd(zy.ss),this.rs=new gd(zy.os)}return Pi(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new zy(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new zy(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Lf(new Pf([])),r=new zy(n,e),i=new zy(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Lf(new Pf([])),n=new zy(t,e),r=new zy(t,e+1),i=Wp();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new zy(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),zy=function(){function e(t,n){Ni(this,e),this.key=t,this._s=n}return Pi(e,null,[{key:"ss",value:function(e,t){return Lf.comparator(e.key,t.key)||Ef(e._s,t._s)}},{key:"os",value:function(e,t){return Ef(e._s,t._s)||Lf.comparator(e.key,t.key)}}]),e}(),By=function(){function e(t,n){Ni(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new gd(zy.ss)}return Pi(e,[{key:"checkEmpty",value:function(e){return $f.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new fm(i,t,n,r);this.mutationQueue.push(a);var o,u=Oi(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new zy(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return $f.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return $f.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return $f.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return $f.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return $f.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new zy(t,0),i=new zy(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),$f.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new gd(Ef);return t.forEach((function(e){var t=new zy(e,0),i=new zy(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),$f.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Lf.isDocumentKey(i)||(i=i.child(""));var a=new zy(new Lf(i),0),o=new gd(Ef);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),$f.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ff(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return $f.forEach(t.mutations,(function(i){var a=new zy(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new zy(t,0),r=this.gs.firstAfterOrEqual(n);return $f.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,$f.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),qy=function(){function e(t){Ni(this,e),this.Es=t,this.docs=new vd(Lf.comparator),this.size=0}return Pi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return $f.resolve(n?n.document.mutableCopy():Sd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Mp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Sd.newInvalidDocument(e))})),$f.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Mp(),i=new Lf(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Hf(Bf(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return $f.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){lf()}},{key:"As",value:function(e,t){return $f.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Hy(this)}},{key:"getSize",value:function(e){return $f.resolve(this.size)}}]),e}(),Hy=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this)).Yn=e,r}return Pi(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),$f.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Ty),Wy=function(){function e(t){Ni(this,e),this.persistence=t,this.Rs=new Dp((function(e){return Td(e)}),Cd),this.lastRemoteSnapshotVersion=Nf.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Vy,this.targetCount=0,this.vs=my.Pn()}return Pi(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),$f.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return $f.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return $f.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),$f.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),$f.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new my(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,$f.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),$f.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,$f.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),$f.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return $f.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return $f.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),$f.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),$f.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),$f.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return $f.resolve(n)}},{key:"containsKey",value:function(e,t){return $f.resolve(this.Ps.containsKey(t))}}]),e}(),Ky=function(){function e(t,n){var r=this;Ni(this,e),this.Vs={},this.overlays={},this.Ss=new uh(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Wy(this),this.indexManager=new Jm,this.remoteDocumentCache=new qy((function(e){return r.referenceDelegate.xs(e)})),this.yt=new vm(n),this.Ns=new Uy(this.yt)}return Pi(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new jy,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new By(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;of("MemoryPersistence","Starting transaction:",e);var i=new Gy(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return $f.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Gy=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Pi(n)}(Kf),Qy=function(){function e(t){Ni(this,e),this.persistence=t,this.Fs=new Vy,this.$s=null}return Pi(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw lf()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),$f.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),$f.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),$f.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $f.forEach(this.Ls,(function(r){var i=Lf.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,Nf.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return $f.or([function(){return $f.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),$y=function(){function e(t){Ni(this,e),this.yt=t}return Pi(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Xf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vv,{unique:!0}),e.createObjectStore("documentMutations")}(e),Xy(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=$f.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Xy(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vv,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return $f.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:tm});t.createIndex("collectionPathOverlayIndex",nm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",rm,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Hv});t.createIndex("documentKeyIndex",Wv),t.createIndex("collectionGroupIndex",Kv)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Yv}).createIndex("sequenceNumberIndex",Jv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Zv}).createIndex("documentKeyIndex",em,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=ly(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return $f.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return $f.forEach(r,(function(r){ff(r.userId===n.userId);var i=bm(t.yt,r);return cy(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Pf(n),o=function(e){return[0,Mv(e)]}(a);r.push(t.get(o).next((function(n){return n?$f.resolve():function(n){return t.put({targetId:0,path:Mv(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return $f.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Xv});var n=t.store("collectionParents"),r=new Zm,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Mv(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Pf(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],jv(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=wm(r),a=xm(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Lf(Pf.fromString(i.document.name).popFirst(5)):i.noDocument?Lf.fromSegments(i.noDocument.path):i.unknownDocument?Lf.fromSegments(i.unknownDocument.path):lf()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return $f.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Ay(this.yt),a=new Ky(Qy.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Wp();bm(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),$f.forEach(r,(function(e,r){var o=new tf(r),u=Nm.re(n.yt,o),s=a.getIndexManager(o),c=fy.re(o,n.yt,s,a.referenceDelegate);return new Fy(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new cm(t,uh.at),e).next()}))}))}}]),e}();function Xy(e){e.createObjectStore("targetDocuments",{keyPath:Qv}).createIndex("documentTargetsIndex",$v,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Gv,{unique:!0}),e.createObjectStore("targetGlobal")}var Yy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Jy=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Ni(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new pf(df.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Iy(this,i),this.ii=n+"main",this.yt=new vm(s),this.ri=new Yf(this.ii,this.Xs,new $y(this.yt)),this.Cs=new yy(this.referenceDelegate,this.yt),this.remoteDocumentCache=Ay(this.yt),this.Ns=new Tm,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&uf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Pi(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new pf(df.FAILED_PRECONDITION,Yy);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new uh(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=ka(ya().mark((function n(r){return ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=ka(ya().mark((function t(n){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return eg(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(eh(t))return of("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return of("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Zy(e).get("owner").next((function(e){return $f.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return eg(e).delete(this.clientId)}},{key:"yi",value:function(){var e=ka(ya().mark((function e(){var t,n,r,i,a=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=lm(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return $f.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Oi(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?$f.resolve(!0):Zy(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new pf(df.FAILED_PRECONDITION,Yy);return!1}}return!(!t.networkEnabled||!t.inForeground)||eg(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&of("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ka(ya().mark((function e(){var t=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new cm(e,uh.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return eg(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return fy.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ty(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Nm.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;of("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?sm:14===i?um:13===i?om:12===i?am:11===i?im:void lf();return this.ri.runTransaction(e,o,u,(function(i){return a=new cm(i,r.Ss?r.Ss.next():uh.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw uf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new pf(df.FAILED_PRECONDITION,Wf);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Zy(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new pf(df.FAILED_PRECONDITION,Yy)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zy(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Zy(e);return n.get("owner").next((function(e){return t.mi(e)?(of("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):$f.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(uf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Ji()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return of("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return uf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(lu){uf("Failed to set zombie client id.",lu)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(lu){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Yf.C()}}]),e}();function Zy(e){return lm(e,"owner")}function eg(e){return lm(e,"clientMetadata")}function tg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ng=function(){function e(t,n,r,i){Ni(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Pi(e,null,[{key:"Ci",value:function(t,n){var r,i=Wp(),a=Wp(),o=Oi(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),rg=function(){function e(){Ni(this,e),this.xi=!1}return Pi(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Md(t))return $f.resolve(null);var r=zd(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=qd(t,null,"F"),r=zd(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Wp.apply(void 0,C(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,qd(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Md(t)||r.isEqual(Nf.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(af()<=Ia.DEBUG&&of("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kd(t)),i.Bi(e,o,t,zf(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new gd($d(e));return t.forEach((function(t,r){Gd(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return af()<=Ia.DEBUG&&of("QueryEngine","Using full collection scan to execute query:",Kd(t)),this.Ni.getDocumentsMatchingQuery(e,t,qf.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ig=function(){function e(t,n,r,i){Ni(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new vd(Ef),this.Ui=new Dp((function(e){return Td(e)}),Cd),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Pi(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fy(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function ag(e,t,n,r){return new ig(e,t,n,r)}function og(e,t){return ug.apply(this,arguments)}function ug(){return ug=ka(ya().mark((function e(t,n){var r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Wp(),s=Oi(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Oi(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Oi(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Oi(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ug.apply(this,arguments)}function sg(e,t){var n=hf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=$f.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ff(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Wp(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function cg(e){var t=hf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function lg(e,t){var n=hf(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(mh.EMPTY_BYTE_STRING,Nf.min()).withLastLimboFreeSnapshotVersion(Nf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Mp(),s=Wp();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(fg(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Nf.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return $f.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function fg(e,t,n){var r=Wp(),i=Wp();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Mp();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Nf.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):of("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function hg(e,t){var n=hf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function dg(e,t){var n=hf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,$f.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new pm(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function pg(e,t,n){return vg.apply(this,arguments)}function vg(){return vg=ka(ya().mark((function e(t,n,r){var i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=hf(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),eh(e.t1)){e.next=12;break}throw e.t1;case 12:of("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),vg.apply(this,arguments)}function mg(e,t,n){var r=hf(e),i=Nf.min(),a=Wp();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=hf(e),i=r.Ui.get(n);return void 0!==i?$f.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,zd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Nf.min(),n?a:Wp())})).next((function(e){return kg(r,Qd(t),e),{documents:e,Hi:a}}))}))}function yg(e,t){var n=hf(e),r=hf(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function gg(e,t){var n=hf(e),r=n.Ki.get(t)||Nf.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,zf(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return kg(n,t,e),e}))}function kg(e,t,n){var r=e.Ki.get(t)||Nf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function bg(e,t,n,r){return wg.apply(this,arguments)}function wg(){return wg=ka(ya().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=hf(t),o=Wp(),u=Mp(),s=Oi(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,dg(a,function(e){return zd(Ld(Pf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return fg(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),wg.apply(this,arguments)}function xg(e,t){return _g.apply(this,arguments)}function _g(){return _g=ka(ya().mark((function e(t,n){var r,i,a,o=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Wp(),e.next=3,dg(t,zd(_m(n.bundledQuery)));case 3:return i=e.sent,a=hf(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=lv(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(mh.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),_g.apply(this,arguments)}function Sg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ig(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Eg(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Tg=function(){function e(t,n,r,i){Ni(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Pi(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new pf(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(uf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Cg=function(){function e(t,n,r){Ni(this,e),this.targetId=t,this.state=n,this.error=r}return Pi(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new pf(i.error.code,i.error.message))),a?new e(t,i.state,r):(uf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ag=function(){function e(t,n){Ni(this,e),this.clientId=t,this.activeTargetIds=n}return Pi(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Gp(),o=0;i&&o<r.activeTargetIds.length;++o)i=vh(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(uf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ng=function(){function e(t,n){Ni(this,e),this.clientId=t,this.onlineState=n}return Pi(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(uf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Rg=function(){function e(){Ni(this,e),this.activeTargetIds=Gp()}return Pi(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Pg=function(){function e(t,n,r,i,a){Ni(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new vd(Ef),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Sg(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Rg),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Pi(e,[{key:"start",value:function(){var e=ka(ya().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Oi(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Sg(this.persistenceKey,i)))&&(o=Ag.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Oi(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Eg(this.persistenceKey,e));if(n){var r=Cg.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Eg(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return of("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){of("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){of("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(of("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void uf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(ka(ya().mark((function e(){var r,i,a,o,u,s,c;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=uh.at;if(null!=e)try{var n=JSON.parse(e);ff("number"==typeof n),t=n}catch(e){uf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==uh.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Tg(this.currentUser,e,t,n),i=Ig(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Ig(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Eg(this.persistenceKey,e),i=new Cg(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Ag.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Tg.Zi(new tf(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Cg.Zi(r,t)}},{key:"yr",value:function(e){return Ng.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:of("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Gp();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Og=function(){function e(){Ni(this,e),this.Lr=new Rg,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Pi(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Rg,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Dg=function(){function e(){Ni(this,e)}return Pi(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Lg=function(){function e(){var t=this;Ni(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Pi(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){of("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Oi(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){of("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Oi(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Mg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Fg=function(){function e(t){Ni(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Pi(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Ug=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Pi(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Zl;o.setWithCredentials(!0),o.listenOnce(Ql.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Gl.NO_ERROR:var t=o.getResponseJson();of("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Gl.TIMEOUT:of("Connection",'RPC "'+e+'" timed out'),a(new pf(df.DEADLINE_EXCEEDED,"Request time out"));break;case Gl.HTTP_ERROR:var n=o.getStatus();if(of("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(df).indexOf(t)>=0?t:df.UNKNOWN}(u.status);a(new pf(s,u.message))}else a(new pf(df.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new pf(df.UNAVAILABLE,"Connection failed."));break;default:lf()}}finally{of("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Wl(),a=Kl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Yl({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");of("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Fg({Hr:function(e){l?of("Connection","Not sending because WebChannel is closed:",e):(c||(of("Connection","Opening WebChannel transport."),s.open(),c=!0),of("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Jl.EventType.OPEN,(function(){l||of("Connection","WebChannel transport opened.")})),h(s,Jl.EventType.CLOSE,(function(){l||(l=!0,of("Connection","WebChannel transport closed"),f.io())})),h(s,Jl.EventType.ERROR,(function(e){l||(l=!0,sf("Connection","WebChannel transport errored:",e),f.io(new pf(df.UNAVAILABLE,"The operation could not be completed")))})),h(s,Jl.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ff(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){of("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Tp[e];if(void 0!==t)return Op(t)}(a),u=i.message;void 0===o&&(o=df.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new pf(o,u)),s.close()}else of("Connection","WebChannel received:",n),f.ro(n)}})),h(a,$l.STAT_EVENT,(function(e){e.stat===Xl.PROXY?of("Connection","Detected buffering proxy"):e.stat===Xl.NOPROXY&&of("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Ni(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Pi(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);of("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return of("RestConnection","Received: ",e),e}),(function(t){throw sf("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+nf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Mg[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function jg(){return"undefined"!=typeof window?window:null}function Vg(){return"undefined"!=typeof document?document:null}function zg(e){return new ov(e,!0)}var Bg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ni(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Pi(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&of("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),qg=function(){function e(t,n,r,i,a,o,u,s){Ni(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Bg(t,n)}return Pi(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===df.RESOURCE_EXHAUSTED?(uf(n.toString()),uf("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===df.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new pf(df.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(ka(ya().mark((function t(){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return of("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(of("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Hg=function(e){Di(n,e);var t=Ui(n);function n(e,r,i,a,o,u){var s;return Ni(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return Pi(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:lf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(ff(void 0===t||"string"==typeof t),mh.fromBase64String(t||"")):(ff(void 0===t||t instanceof Uint8Array),mh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?df.UNKNOWN:Op(e.code);return new pf(t,e.message||"")}(o);n=new Jp(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=pv(e,s.document.name),l=lv(s.document.updateTime),f=s.document.createTime?lv(s.document.createTime):Nf.min(),h=new xd({mapValue:{fields:s.document.fields}}),d=Sd.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Xp(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=pv(e,m.document),g=m.readTime?lv(m.readTime):Nf.min(),k=Sd.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Xp([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=pv(e,w.document),_=w.removedTargetIds||[];n=new Xp([],_,x,null)}else{if(!("filter"in t))return lf();t.filter;var S=t.filter;S.targetId;var I=S.count||0,E=new Rp(I),T=S.targetId;n=new Yp(T,E)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Nf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Nf.min():t.readTime?lv(t.readTime):Nf.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=yv(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Ad(r)?{documents:Sv(e,r)}:{query:Iv(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=sv(e,t.resumeToken):t.snapshotVersion.compareTo(Nf.min())>0&&(n.readTime=uv(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lf()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=yv(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(qg),Wg=function(e){Di(n,e);var t=Ui(n);function n(e,r,i,a,o,u){var s;return Ni(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return Pi(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,$o(Li(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(ff(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(ff(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?lv(e.updateTime):lv(t);return n.isEqual(Nf.min())&&(n=lv(t)),new dp(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=lv(e.commitTime);return this.listener.Zo(n,t)}return ff(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=yv(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return xv(t.yt,e)}))};this.Bo(n)}}]),n}(qg),Kg=function(e){Di(n,e);var t=Ui(n);function n(e,r,i,a){var o;return Ni(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return Pi(n,[{key:"su",value:function(){if(this.nu)throw new pf(df.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.connection.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===df.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new pf(df.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.connection._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===df.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new pf(df.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Pi((function e(){Ni(this,e)}))}());var Gg=function(){function e(t,n){Ni(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Pi(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(uf(t),this.ou=!1):of("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Qg=Pi((function e(t,n,r,i,a){var o=this;Ni(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ak(o),!e.t0){e.next=5;break}return of("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=hf(t))._u.add(4),e.next=4,Yg(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,$g(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Gg(r,i)}));function $g(e){return Xg.apply(this,arguments)}function Xg(){return Xg=ka(ya().mark((function e(t){var n,r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ak(t)){e.next=18;break}n=Oi(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Xg.apply(this,arguments)}function Yg(e){return Jg.apply(this,arguments)}function Jg(){return Jg=ka(ya().mark((function e(t){var n,r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Oi(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Jg.apply(this,arguments)}function Zg(e,t){var n=hf(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),ik(n)?rk(n):Dk(n).ko()&&tk(n,t))}function ek(e,t){var n=hf(e),r=Dk(n);n.du.delete(t),r.ko()&&nk(n,t),0===n.du.size&&(r.ko()?r.Fo():ak(n)&&n.gu.set("Unknown"))}function tk(e,t){e.yu.Ot(t.targetId),Dk(e).zo(t)}function nk(e,t){e.yu.Ot(t),Dk(e).Ho(t)}function rk(e){e.yu=new ev({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),Dk(e).start(),e.gu.uu()}function ik(e){return ak(e)&&!Dk(e).No()&&e.du.size>0}function ak(e){return 0===hf(e)._u.size}function ok(e){e.yu=void 0}function uk(e){return sk.apply(this,arguments)}function sk(){return sk=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){tk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),sk.apply(this,arguments)}function ck(e,t){return lk.apply(this,arguments)}function lk(){return lk=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ok(t),ik(t)?(t.gu.hu(n),rk(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),lk.apply(this,arguments)}function fk(e,t,n){return hk.apply(this,arguments)}function hk(){return hk=ka(ya().mark((function e(t,n,r){var i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Jp&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ka(ya().mark((function e(t,n){var r,i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Oi(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),of("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,dk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Xp?t.yu.Kt(n):n instanceof Yp?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Nf.min())){e.next=29;break}return e.prev=14,e.next=17,cg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(mh.EMPTY_BYTE_STRING,n.snapshotVersion)),nk(e,t);var r=new pm(n.target,t,1,n.sequenceNumber);tk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),of("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,dk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),hk.apply(this,arguments)}function dk(e,t,n){return pk.apply(this,arguments)}function pk(){return pk=ka(ya().mark((function e(t,n,r){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(eh(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Yg(t);case 5:t.gu.set("Offline"),r||(r=function(){return cg(t.localStore)}),t.asyncQueue.enqueueRetryable(ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return of("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,$g(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e,t){return t().catch((function(n){return dk(e,n,t)}))}function mk(e){return yk.apply(this,arguments)}function yk(){return yk=ka(ya().mark((function e(t){var n,r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hf(t),r=Lk(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!gk(n)){e.next=19;break}return e.prev=3,e.next=6,hg(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,kk(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,dk(n,e.t0);case 17:e.next=2;break;case 19:bk(n)&&wk(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),yk.apply(this,arguments)}function gk(e){return ak(e)&&e.fu.length<10}function kk(e,t){e.fu.push(t);var n=Lk(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function bk(e){return ak(e)&&!Lk(e).No()&&e.fu.length>0}function wk(e){Lk(e).start()}function xk(e){return _k.apply(this,arguments)}function _k(){return _k=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lk(t).eu();case 1:case"end":return e.stop()}}),e)}))),_k.apply(this,arguments)}function Sk(e){return Ik.apply(this,arguments)}function Ik(){return Ik=ka(ya().mark((function e(t){var n,r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lk(t),r=Oi(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Ik.apply(this,arguments)}function Ek(e,t,n){return Tk.apply(this,arguments)}function Tk(){return Tk=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=hm.from(i,n,r),e.next=3,vk(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,mk(t);case 5:case"end":return e.stop()}}),e)}))),Tk.apply(this,arguments)}function Ck(e,t){return Ak.apply(this,arguments)}function Ak(){return Ak=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Lk(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ka(ya().mark((function e(t,n){var r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pp(i=n.code)||i===df.ABORTED){e.next=7;break}return r=t.fu.shift(),Lk(t).Mo(),e.next=5,vk(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,mk(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:bk(t)&&wk(t);case 5:case"end":return e.stop()}}),e)}))),Ak.apply(this,arguments)}function Nk(e,t){return Rk.apply(this,arguments)}function Rk(){return Rk=ka(ya().mark((function e(t,n){var r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=hf(t)).asyncQueue.verifyOperationInProgress(),of("RemoteStore","RemoteStore received new credentials"),i=ak(r),r._u.add(3),e.next=6,Yg(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,$g(r);case 12:case"end":return e.stop()}}),e)}))),Rk.apply(this,arguments)}function Pk(e,t){return Ok.apply(this,arguments)}function Ok(){return Ok=ka(ya().mark((function e(t,n){var r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hf(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,$g(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Yg(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}function Dk(e){return e.pu||(e.pu=function(e,t,n){var r=hf(e);return r.su(),new Hg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:uk.bind(null,e),Zr:ck.bind(null,e),Wo:fk.bind(null,e)}),e.wu.push(function(){var t=ka(ya().mark((function t(n){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),ik(e)?rk(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:ok(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Lk(e){return e.Iu||(e.Iu=function(e,t,n){var r=hf(e);return r.su(),new Wg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:xk.bind(null,e),Zr:Ck.bind(null,e),tu:Sk.bind(null,e),Zo:Ek.bind(null,e)}),e.wu.push(function(){var t=ka(ya().mark((function t(n){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,mk(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(of("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Mk=function(){function e(t,n,r,i,a){Ni(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new vf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Pi(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pf(df.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Fk(e,t){if(uf("AsyncQueue","".concat(t,": ").concat(e)),eh(e))return new pf(df.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Uk=function(){function e(t){Ni(this,e),this.comparator=t?function(e,n){return t(e,n)||Lf.comparator(e.key,n.key)}:function(e,t){return Lf.comparator(e.key,t.key)},this.keyedMap=Up(),this.sortedSet=new vd(this.comparator)}return Pi(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),jk=function(){function e(){Ni(this,e),this.Tu=new vd(Lf.comparator)}return Pi(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):lf():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Vk=function(){function e(t,n,r,i,a,o,u,s,c){Ni(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Pi(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Uk.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),zk=Pi((function e(){Ni(this,e),this.Au=void 0,this.listeners=[]})),Bk=Pi((function e(){Ni(this,e),this.queries=new Dp((function(e){return Wd(e)}),Hd),this.onlineState="Unknown",this.Ru=new Set}));function qk(e,t){return Hk.apply(this,arguments)}function Hk(){return Hk=ka(ya().mark((function e(t,n){var r,i,a,o,u;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new zk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Fk(e.t0,"Initialization of query '".concat(Kd(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&$k(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Hk.apply(this,arguments)}function Wk(e,t){return Kk.apply(this,arguments)}function Kk(){return Kk=ka(ya().mark((function e(t,n){var r,i,a,o,u;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Kk.apply(this,arguments)}function Gk(e,t){var n,r=hf(e),i=!1,a=Oi(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Oi(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&$k(r)}function Qk(e,t,n){var r=hf(e),i=r.queries.get(t);if(i){var a,o=Oi(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function $k(e){e.Ru.forEach((function(e){e.next()}))}var Xk=function(){function e(t,n,r){Ni(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Pi(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Oi(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Vk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Vk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),Yk=function(){function e(t,n){Ni(this,e),this.ku=t,this.byteLength=n}return Pi(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),Jk=function(){function e(t){Ni(this,e),this.yt=t}return Pi(e,[{key:"Ji",value:function(e){return pv(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?bv(this.yt,e.document,!1):Sd.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return lv(e)}}]),e}(),Zk=function(){function e(t,n,r){Ni(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=eb(t)}return Pi(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Pf.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new Jk(this.yt),i=Oi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Oi(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Wp()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ka(ya().mark((function e(){var t,n,r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bg(this.localStore,new Jk(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Oi(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,xg(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function eb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var tb=Pi((function e(t){Ni(this,e),this.key=t})),nb=Pi((function e(t){Ni(this,e),this.key=t})),rb=function(){function e(t,n){Ni(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Wp(),this.mutatedKeys=Wp(),this.Gu=$d(t),this.Qu=new Uk(this.Gu)}return Pi(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new jk,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Gd(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lf()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new Vk(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new jk,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Wp(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new nb(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new tb(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=Wp();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return Vk.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),ib=Pi((function e(t,n,r){Ni(this,e),this.query=t,this.targetId=n,this.view=r})),ab=Pi((function e(t){Ni(this,e),this.key=t,this.nc=!1})),ob=function(){function e(t,n,r,i,a,o){Ni(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Dp((function(e){return Wd(e)}),Hd),this.rc=new Map,this.oc=new Set,this.uc=new vd(Lf.comparator),this.cc=new Map,this.ac=new Vy,this.hc={},this.lc=new Map,this.fc=my.vn(),this.onlineState="Unknown",this.dc=void 0}return Pi(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function ub(e,t){return sb.apply(this,arguments)}function sb(){return sb=ka(ya().mark((function e(t,n){var r,i,a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ew(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,dg(r.localStore,zd(n));case 8:return u=e.sent,r.isPrimaryClient&&Zg(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,cb(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),sb.apply(this,arguments)}function cb(e,t,n,r,i){return lb.apply(this,arguments)}function lb(){return lb=ka(ya().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=ka(ya().mark((function e(t,n,r,i){var a,o,u;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,mg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Nb(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,mg(t.localStore,n,!0);case 3:return o=e.sent,u=new rb(n,o.Hi),s=u.Wu(o.documents),c=$p.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Nb(t,r,l.Xu),f=new ib(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),lb.apply(this,arguments)}function fb(e,t){return hb.apply(this,arguments)}function hb(){return hb=ka(ya().mark((function e(t,n){var r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hf(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Hd(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,pg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ek(r.remoteStore,i.targetId),Cb(r,i.targetId)})).catch(Gf);case 9:e.next=14;break;case 11:return Cb(r,i.targetId),e.next=14,pg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),hb.apply(this,arguments)}function db(e,t,n){return pb.apply(this,arguments)}function pb(){return pb=ka(ya().mark((function e(t,n,r){var i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tw(t),e.prev=1,e.next=4,function(e,t){var n,r,i=hf(e),a=Af.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Wp());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Mp(),s=Wp();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Oi(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=bp(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new _p(c.key,l,_d(l.value.mapValue),pp.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:jp(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new vd(Ef)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ob(i,a.changes);case 9:return e.next=11,mk(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Fk(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),pb.apply(this,arguments)}function vb(e,t){return mb.apply(this,arguments)}function mb(){return mb=ka(ya().mark((function e(t,n){var r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hf(t),e.prev=1,e.next=4,lg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(ff(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?ff(n.nc):e.removedDocuments.size>0&&(ff(n.nc),n.nc=!1))})),e.next=8,Ob(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Gf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),mb.apply(this,arguments)}function yb(e,t,n){var r=hf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=hf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Oi(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&$k(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function gb(e,t,n){return kb.apply(this,arguments)}function kb(){return kb=ka(ya().mark((function e(t,n,r){var i,a,o,u,s,c;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=hf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new vd(Lf.comparator)).insert(o,Sd.newNoDocument(o,Nf.min())),s=Wp().add(o),c=new Qp(Nf.min(),new Map,new gd(Ef),u,s),e.next=9,vb(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),Pb(i),e.next=16;break;case 14:return e.next=16,pg(i.localStore,n,!1).then((function(){return Cb(i,n,r)})).catch(Gf);case 16:case"end":return e.stop()}}),e)}))),kb.apply(this,arguments)}function bb(e,t){return wb.apply(this,arguments)}function wb(){return wb=ka(ya().mark((function e(t,n){var r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hf(t),i=n.batch.batchId,e.prev=1,e.next=4,sg(r.localStore,n);case 4:return a=e.sent,Tb(r,i,null),Eb(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ob(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),wb.apply(this,arguments)}function xb(e,t,n){return _b.apply(this,arguments)}function _b(){return _b=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hf(t),e.prev=1,e.next=4,function(e,t){var n=hf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ff(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Tb(i,n,r),Eb(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ob(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),_b.apply(this,arguments)}function Sb(e,t){return Ib.apply(this,arguments)}function Ib(){return Ib=ka(ya().mark((function e(t,n){var r,i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ak((r=hf(t)).remoteStore)||of("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=hf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Fk(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Ib.apply(this,arguments)}function Eb(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function Tb(e,t,n){var r=hf(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Cb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Oi(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||Ab(e,t)}))}function Ab(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(ek(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Pb(e))}function Nb(e,t,n){var r,i=Oi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof tb?(e.ac.addReference(a.key,t),Rb(e,a)):a instanceof nb?(of("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||Ab(e,a.key)):lf()}}catch(o){i.e(o)}finally{i.f()}}function Rb(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(of("SyncEngine","New document in limbo: "+n),e.oc.add(r),Pb(e))}function Pb(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Lf(Pf.fromString(t)),r=e.fc.next();e.cc.set(r,new ab(n)),e.uc=e.uc.insert(n,r),Zg(e.remoteStore,new pm(zd(Ld(n.path)),r,2,uh.at))}}function Ob(e,t,n){return Db.apply(this,arguments)}function Db(){return Db=ka(ya().mark((function e(t,n,r){var i,a,o,u;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=hf(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=ng.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=ka(ya().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return $f.forEach(n,(function(t){return $f.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return $f.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),eh(e.t0)){e.next=10;break}throw e.t0;case 10:of("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Oi(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function Lb(e,t){return Mb.apply(this,arguments)}function Mb(){return Mb=ka(ya().mark((function e(t,n){var r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=hf(t)).currentUser.isEqual(n)){e.next=11;break}return of("SyncEngine","User change. New user:",n.toKey()),e.next=5,og(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new pf(df.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ob(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Mb.apply(this,arguments)}function Fb(e,t){var n=hf(e),r=n.cc.get(t);if(r&&r.nc)return Wp().add(r.key);var i=Wp(),a=n.rc.get(t);if(!a)return i;var o,u=Oi(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Ub(e,t){return jb.apply(this,arguments)}function jb(){return jb=ka(ya().mark((function e(t,n){var r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hf(t),e.next=3,mg(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&Nb(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Vb(e,t){return zb.apply(this,arguments)}function zb(){return zb=ka(ya().mark((function e(t,n){var r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hf(t),e.abrupt("return",gg(r.localStore,n).then((function(e){return Ob(r,e)})));case 2:case"end":return e.stop()}}),e)}))),zb.apply(this,arguments)}function Bb(e,t,n,r){return qb.apply(this,arguments)}function qb(){return qb=ka(ya().mark((function e(t,n,r,i){var a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=hf(t),e.next=3,function(e,t){var n=hf(e),r=hf(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):$f.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,mk(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Tb(a,n,i||null),Eb(a,n),function(e,t){hf(hf(e).mutationQueue).An(t)}(a.localStore,n)):lf();case 11:return e.next=13,Ob(a,o);case 13:e.next=16;break;case 15:of("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function Hb(e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=ka(ya().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ew(r=hf(t)),tw(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Kb(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,Pk(r.remoteStore,!0);case 9:o=Oi(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Zg(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Cb(r,t),pg(r.localStore,t,!0)})),ek(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Kb(r,c);case 21:return function(e){var t=hf(e);t.cc.forEach((function(e,n){ek(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new vd(Lf.comparator)}(r),r.dc=!1,e.next=25,Pk(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Kb(e,t,n){return Gb.apply(this,arguments)}function Gb(){return Gb=ka(ya().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=hf(t),a=[],o=[],u=Oi(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,dg(i.localStore,zd(f[0]));case 11:l=e.sent,h=Oi(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,Ub(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,yg(i.localStore,c);case 36:return y=e.sent,e.next=39,dg(i.localStore,y);case 39:return l=e.sent,e.next=42,cb(i,Qb(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Gb.apply(this,arguments)}function Qb(e){return Dd(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $b(e){var t=hf(e);return hf(hf(t.localStore).persistence).vi()}function Xb(e,t,n,r){return Yb.apply(this,arguments)}function Yb(){return Yb=ka(ya().mark((function e(t,n,r,i){var a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=hf(t)).dc){e.next=3;break}return e.abrupt("return",void of("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,gg(a.localStore,Qd(o[0]));case 10:return u=e.sent,s=Qp.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,mh.EMPTY_BYTE_STRING),e.next=14,Ob(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,pg(a.localStore,n,!0);case 17:return Cb(a,n,i),e.abrupt("break",20);case 19:lf();case 20:case"end":return e.stop()}}),e)}))),Yb.apply(this,arguments)}function Jb(e,t,n){return Zb.apply(this,arguments)}function Zb(){return Zb=ka(ya().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ew(t)).dc){e.next=45;break}a=Oi(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return of("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,yg(i.localStore,u);case 12:return s=e.sent,e.next=15,dg(i.localStore,s);case 15:return c=e.sent,e.next=18,cb(i,Qb(s),c.targetId,!1,c.resumeToken);case 18:Zg(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Oi(r),e.prev=30,h=ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,pg(i.localStore,t,!1).then((function(){ek(i.remoteStore,t),Cb(i,t)})).catch(Gf);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Zb.apply(this,arguments)}function ew(e){var t=hf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gb.bind(null,t),t.sc.Wo=Gk.bind(null,t.eventManager),t.sc.wc=Qk.bind(null,t.eventManager),t}function tw(e){var t=hf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xb.bind(null,t),t}function nw(e,t,n){var r=hf(e);(function(){var e=ka(ya().mark((function e(t,n,r){var i,a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=hf(e),r=lv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(eb(i)),a=new Zk(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Ob(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=hf(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(sf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var rw=function(){function e(){Ni(this,e),this.synchronizeTabs=!1}return Pi(e,[{key:"initialize",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=zg(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return ag(this.persistence,new rg,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new Ky(Qy.Bs,this.yt)}},{key:"gc",value:function(e){return new Og}},{key:"terminate",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),iw=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){var a;return Ni(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Pi(n,[{key:"initialize",value:function(){var e=ka(ya().mark((function e(t){var r=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(Li(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,tw(this.Ac.syncEngine);case 6:return e.next=8,mk(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return ag(this.persistence,new rg,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new _y(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new oh(t,this.persistence);return new ah(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=tg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sy.withCacheSize(this.cacheSizeBytes):sy.DEFAULT;return new Jy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,jg(),Vg(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new Og}}]),n}(rw),aw=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Pi(n,[{key:"initialize",value:function(){var e=ka(ya().mark((function e(t){var r,i=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(Li(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Pg,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:Bb.bind(null,r),$r:Xb.bind(null,r),Br:Jb.bind(null,r),vi:$b.bind(null,r),Mr:Vb.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hb(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=jg();if(!Pg.C(t))throw new pf(df.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=tg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(iw),ow=function(){function e(){Ni(this,e)}return Pi(e,[{key:"initialize",value:function(){var e=ka(ya().mark((function e(t,n){var r=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return yb(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Lb.bind(null,this.syncEngine),e.next=12,Pk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Bk}},{key:"createDatastore",value:function(e){var t,n=zg(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ug(t));return function(e,t,n,r){return new Kg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return yb(o.syncEngine,e,0)},a=Lg.C()?new Lg:new Dg,new Qg(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ob(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hf(t),of("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Yg(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function uw(e,t,n){if(!n)throw new pf(df.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function sw(e,t,n,r){if(!0===t&&!0===r)throw new pf(df.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function cw(e){if(!Lf.isDocumentKey(e))throw new pf(df.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function lw(e){if(Lf.isDocumentKey(e))throw new pf(df.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function fw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":lf()}function hw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pf(df.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=fw(e);throw new pf(df.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function dw(e,t){if(t<=0)throw new pf(df.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var pw=new Map,vw=function(){function e(t){var n;if(Ni(this,e),void 0===t.host){if(void 0!==t.ssl)throw new pf(df.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pf(df.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,sw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Pi(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),mw=function(){function e(t,n,r,i){Ni(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vw({}),this._settingsFrozen=!1}return Pi(e,[{key:"app",get:function(){if(!this._app)throw new pf(df.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new pf(df.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yf;switch(e.type){case"gapi":var t=e.client;return new wf(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new pf(df.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=pw.get(e);t&&(of("ComponentProvider","Removing Datastore"),pw.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function yw(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=hw(e,mw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&sf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=tf.MOCK_USER;else{o=Xi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new pf(df.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tf(s)}e._authCredentials=new gf(new mf(o,u))}}var gw=function(){function e(t,n,r){Ni(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Pi(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new bw(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),kw=function(){function e(t,n,r){Ni(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Pi(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),bw=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){var a;return Ni(this,n),(a=t.call(this,e,r,Ld(i)))._path=i,a.type="collection",a}return Pi(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new gw(this.firestore,null,new Lf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(kw);function ww(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ma(e),uw("collection","path",t),e instanceof mw){var a=Pf.fromString.apply(Pf,[t].concat(r));return lw(a),new bw(e,null,a)}if(!(e instanceof gw||e instanceof bw))throw new pf(df.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Pf.fromString.apply(Pf,[t].concat(r)));return lw(o),new bw(e.firestore,null,o)}function xw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ma(e),1===arguments.length&&(t=If.R()),uw("doc","path",t),e instanceof mw){var a=Pf.fromString.apply(Pf,[t].concat(r));return cw(a),new gw(e,null,new Lf(a))}if(!(e instanceof gw||e instanceof bw))throw new pf(df.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Pf.fromString.apply(Pf,[t].concat(r)));return cw(o),new gw(e.firestore,e instanceof bw?e.converter:null,new Lf(o))}function _w(e,t){return e=ma(e),t=ma(t),(e instanceof gw||e instanceof bw)&&(t instanceof gw||t instanceof bw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Sw(e,t){return e=ma(e),t=ma(t),e instanceof kw&&t instanceof kw&&e.firestore===t.firestore&&Hd(e._query,t._query)&&e.converter===t.converter}function Iw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ka(ya().mark((function r(){var i;return ya().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Ew=function(){function e(t){Ni(this,e),this.observer=t,this.muted=!1}return Pi(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):uf("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Tw=function(){function e(t,n){var r=this;Ni(this,e),this.Pc=t,this.yt=n,this.metadata=new vf,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return Pi(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=ka(ya().mark((function e(){var t,n,r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new Yk(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=ka(ya().mark((function e(){var t,n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=ka(ya().mark((function e(){var t,n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Cw=function(){function e(t){Ni(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Pi(e,[{key:"lookup",value:function(){var e=ka(ya().mark((function e(t){var n,r=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new pf(df.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ka(ya().mark((function e(t,n){var r,i,a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hf(t),i=yv(r.yt)+"/documents",a={documents:n.map((function(e){return dv(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=wv(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ff(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ap(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ka(ya().mark((function e(){var t,n=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Lf.fromPath(t);n.mutations.push(new Np(r,n.precondition(r)))})),e.next=7,function(){var e=ka(ya().mark((function e(t,n){var r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hf(t),i=yv(r.yt)+"/documents",a={writes:n.map((function(e){return xv(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lf();t=Nf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new pf(df.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nf.min())?pp.exists(!1):pp.updateTime(t):pp.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nf.min()))throw new pf(df.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pp.updateTime(t)}return pp.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Aw=function(){function e(t,n,r,i,a){Ni(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new Bg(this.asyncQueue,"transaction_retry")}return Pi(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(ka(ya().mark((function t(){var n,r;return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Cw(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!dh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Pp(t)}return!1}}]),e}(),Nw=function(){function e(t,n,r,i){var a=this;Ni(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tf.UNAUTHENTICATED,this.clientId=If.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return of("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return of("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Pi(e,[{key:"getConfiguration",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new pf(df.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new vf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ka(ya().mark((function n(){var r;return ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Fk(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Rw(e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=ka(ya().mark((function e(t,n){var r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),of("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,og(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Pw.apply(this,arguments)}function Ow(e,t){return Dw.apply(this,arguments)}function Dw(){return Dw=ka(ya().mark((function e(t,n){var r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Lw(t);case 3:return r=e.sent,of("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Nk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Nk(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Dw.apply(this,arguments)}function Lw(e){return Mw.apply(this,arguments)}function Mw(){return Mw=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return of("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Rw(t,new rw);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Mw.apply(this,arguments)}function Fw(e){return Uw.apply(this,arguments)}function Uw(){return Uw=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return of("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Ow(t,new ow);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function jw(e){return Lw(e).then((function(e){return e.persistence}))}function Vw(e){return Lw(e).then((function(e){return e.localStore}))}function zw(e){return Fw(e).then((function(e){return e.remoteStore}))}function Bw(e){return Fw(e).then((function(e){return e.syncEngine}))}function qw(e){return Fw(e).then((function(e){return e.datastore}))}function Hw(e){return Ww.apply(this,arguments)}function Ww(){return Ww=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ub.bind(null,n.syncEngine),r.onUnlisten=fb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Kw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vf;return e.asyncQueue.enqueueAndForget(ka(ya().mark((function i(){return ya().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ew({next:function(a){t.enqueueAndForget((function(){return Wk(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new pf(df.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new pf(df.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Xk(Ld(n.path),a,{includeMetadataChanges:!0,Nu:!0});return qk(e,o)},i.next=3,Hw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Gw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vf;return e.asyncQueue.enqueueAndForget(ka(ya().mark((function i(){return ya().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ew({next:function(n){t.enqueueAndForget((function(){return Wk(e,o)})),n.fromCache&&"server"===r.source?i.reject(new pf(df.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Xk(n,a,{includeMetadataChanges:!0,Nu:!0});return qk(e,o)},i.next=3,Hw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Qw=function(){function e(){var t=this;Ni(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Bg(this,"async_queue_retry"),this.Wc=function(){var e=Vg();e&&of("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Vg();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return Pi(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=Vg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new vf;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=ka(ya().mark((function e(){var t=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),eh(e.t0)){e.next=12;break}throw e.t0;case 12:of("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw uf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=Mk.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&lf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Oi(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Oi(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function $w(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Oi(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Xw=function(){function e(){Ni(this,e),this._progressObserver={},this._taskCompletionResolver=new vf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Pi(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Yw=function(e){Di(n,e);var t=Ui(n);function n(e,r,i,a){var o;return Ni(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Qw,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Pi(n,[{key:"_terminate",value:function(){return this._firestoreClient||Zw(this),this._firestoreClient.terminate()}}]),n}(mw);function Jw(e){return e._firestoreClient||Zw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zw(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new sh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Nw(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ex(e,t,n){var r=new vf;return e.asyncQueue.enqueue(ka(ya().mark((function i(){var a;return ya().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Rw(e,n);case 3:return i.next=5,Ow(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===df.FAILED_PRECONDITION||e.code===df.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:sf("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function tx(e){return function(e){return e.asyncQueue.enqueue(ka(ya().mark((function t(){var n,r;return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jw(e);case 2:return n=t.sent,t.next=5,zw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=hf(e);return t._u.delete(0),$g(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Jw(e=hw(e,Yw)))}function nx(e){return function(e){return e.asyncQueue.enqueue(ka(ya().mark((function t(){var n,r;return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jw(e);case 2:return n=t.sent,t.next=5,zw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=hf(t))._u.add(0),e.next=4,Yg(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Jw(e=hw(e,Yw)))}function rx(e,t){var n=Jw(e=hw(e,Yw)),r=new Xw;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Tw(e,t)}(function(e,t){if(e instanceof Uint8Array)return Iw(e,t);if(e instanceof ArrayBuffer)return Iw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,zg(t));e.asyncQueue.enqueueAndForget(ka(ya().mark((function t(){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=nw,t.next=3,Bw(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ix(e,t){return function(e,t){return e.asyncQueue.enqueue(ka(ya().mark((function n(){return ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=hf(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,Vw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Jw(e=hw(e,Yw)),t).then((function(t){return t?new kw(e,null,t.query):null}))}function ax(e){if(e._initialized||e._terminated)throw new pf(df.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ox=function(){function e(t){Ni(this,e),this._byteString=t}return Pi(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(mh.fromBase64String(t))}catch(t){throw new pf(df.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(mh.fromUint8Array(t))}}]),e}(),ux=function(){function e(){Ni(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new pf(df.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Df(n)}return Pi(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var sx=Pi((function e(t){Ni(this,e),this._methodName=t})),cx=function(){function e(t,n){if(Ni(this,e),!isFinite(t)||t<-90||t>90)throw new pf(df.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pf(df.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Pi(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ef(this._lat,e._lat)||Ef(this._long,e._long)}}]),e}(),lx=/^__.*__$/,fx=function(){function e(t,n,r){Ni(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pi(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new _p(e,this.data,this.fieldMask,t,this.fieldTransforms):new xp(e,this.data,t,this.fieldTransforms)}}]),e}(),hx=function(){function e(t,n,r){Ni(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pi(e,[{key:"toMutation",value:function(e,t){return new _p(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lf()}}var px=function(){function e(t,n,r,i,a,o){Ni(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Pi(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return Dx(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(dx(this.sa)&&lx.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),vx=function(){function e(t,n,r){Ni(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||zg(t)}return Pi(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new px({sa:e,methodName:t,fa:n,path:Df.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function mx(e){var t=e._freezeSettings(),n=zg(e._databaseId);return new vx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yx(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);Nx("Data must be an object, but it was:",o,r);var u,s,c=Cx(r,o);if(a.merge)u=new wd(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Oi(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Rx(t,d,n);if(!o.contains(p))throw new pf(df.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Lx(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new wd(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new fx(new xd(c),u,s)}var gx=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.apply(this,arguments)}return Pi(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sx);function kx(e,t,n){return new px({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var bx=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.apply(this,arguments)}return Pi(n,[{key:"_toFieldTransform",value:function(e){return new hp(e.path,new ip)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sx),wx=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this,e))._a=r,i}return Pi(n,[{key:"_toFieldTransform",value:function(e){var t=kx(this,e,!0),n=this._a.map((function(e){return Tx(e,t)})),r=new ap(n);return new hp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sx),xx=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this,e))._a=r,i}return Pi(n,[{key:"_toFieldTransform",value:function(e){var t=kx(this,e,!0),n=this._a.map((function(e){return Tx(e,t)})),r=new up(n);return new hp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sx),_x=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this,e)).wa=r,i}return Pi(n,[{key:"_toFieldTransform",value:function(e){var t=new cp(e.yt,Zd(e.yt,this.wa));return new hp(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sx);function Sx(e,t,n,r){var i=e.da(1,t,n);Nx("Data must be an object, but it was:",i,r);var a=[],o=xd.empty();fh(r,(function(e,r){var u=Ox(t,e,n);r=ma(r);var s=i.ca(u);if(r instanceof gx)a.push(u);else{var c=Tx(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new wd(a);return new hx(o,u,i.fieldTransforms)}function Ix(e,t,n,r,i,a){var o=e.da(1,t,n),u=[Rx(t,r,n)],s=[i];if(a.length%2!=0)throw new pf(df.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Rx(t,a[c])),s.push(a[c+1]);for(var l=[],f=xd.empty(),h=u.length-1;h>=0;--h)if(!Lx(l,u[h])){var d=u[h],p=s[h];p=ma(p);var v=o.ca(d);if(p instanceof gx)l.push(d);else{var m=Tx(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new wd(l);return new hx(f,y,o.fieldTransforms)}function Ex(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Tx(n,e.da(r?4:3,t))}function Tx(e,t){if(Ax(e=ma(e)))return Nx("Unsupported field value:",t,e),Cx(e,t);if(e instanceof sx)return function(e,t){if(!dx(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Oi(e);try{for(a.s();!(n=a.n()).done;){var o=Tx(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ma(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Zd(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Af.fromDate(e);return{timestampValue:uv(t.yt,n)}}if(e instanceof Af){var r=new Af(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:uv(t.yt,r)}}if(e instanceof cx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ox)return{bytesValue:sv(t.yt,e._byteString)};if(e instanceof gw){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:fv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(fw(e)))}(e,t)}function Cx(e,t){var n={};return hh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fh(e,(function(e,r){var i=Tx(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ax(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Af||e instanceof cx||e instanceof ox||e instanceof gw||e instanceof sx)}function Nx(e,t,n){if(!Ax(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=fw(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function Rx(e,t,n){if((t=ma(t))instanceof ux)return t._internalPath;if("string"==typeof t)return Ox(e,t);throw Dx("Field path arguments must be of type string or ",e,!1,void 0,n)}var Px=new RegExp("[~\\*/\\[\\]]");function Ox(e,t,n){if(t.search(Px)>=0)throw Dx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ji(ux,C(t.split(".")))._internalPath}catch(r){throw Dx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Dx(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new pf(df.INVALID_ARGUMENT,u+e+s)}function Lx(e,t){return e.some((function(e){return e.isEqual(t)}))}var Mx=function(){function e(t,n,r,i,a){Ni(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Pi(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new gw(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Ux("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Fx=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.apply(this,arguments)}return Pi(n,[{key:"data",value:function(){return $o(Li(n.prototype),"data",this).call(this)}}]),n}(Mx);function Ux(e,t){return"string"==typeof t?Ox(e,t):t instanceof ux?t._internalPath:t._delegate._internalPath}function jx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new pf(df.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vx=Pi((function e(){Ni(this,e)})),zx=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.apply(this,arguments)}return Pi(n)}(Vx);function Bx(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Vx&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Hx})).length,n=e.filter((function(e){return e instanceof qx})).length;if(t>1||t>0&&n>0)throw new pf(df.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Oi(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var qx=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){var a;return Ni(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Pi(n,[{key:"_apply",value:function(e){var t=this._parse(e);return n_(e._query,t),new kw(e.firestore,e.converter,Bd(e._query,t))}},{key:"_parse",value:function(e){var t=mx(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new pf(df.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){t_(o,a);var s,c=[],l=Oi(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(e_(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=e_(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||t_(o,a),u=Ex(n,"where",o,"in"===a||"not-in"===a);return $h.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zx);var Hx=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Pi(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Xh.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Oi(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;n_(r,a),r=Bd(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new kw(e.firestore,e.converter,Bd(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Vx);var Wx=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Pi(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new pf(df.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new pf(df.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new dd(t,n);return function(e,t){if(null===Fd(e)){var n=Ud(e);null!==n&&r_(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new kw(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Od(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(zx);var Kx=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){var a;return Ni(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Pi(n,[{key:"_apply",value:function(e){return new kw(e.firestore,e.converter,qd(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zx);var Gx=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){var a;return Ni(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Pi(n,[{key:"_apply",value:function(e){var t=Zx(e,this.type,this._docOrFields,this._inclusive);return new kw(e.firestore,e.converter,function(e,t){return new Od(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zx);function Qx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gx._create("startAt",t,!0)}function $x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gx._create("startAfter",t,!1)}var Xx=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){var a;return Ni(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Pi(n,[{key:"_apply",value:function(e){var t=Zx(e,this.type,this._docOrFields,this._inclusive);return new kw(e.firestore,e.converter,function(e,t){return new Od(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zx);function Yx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Xx._create("endBefore",t,!1)}function Jx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Xx._create("endAt",t,!0)}function Zx(e,t,n,r){if(n[0]=ma(n[0]),n[0]instanceof Mx)return function(e,t,n,r,i){if(!r)throw new pf(df.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Oi(Vd(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Oh(t,r.key));else{var c=r.data.field(s.field);if(wh(c))throw new pf(df.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new pf(df.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Wh(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=mx(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new pf(df.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new pf(df.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!jd(e)&&-1!==c.indexOf("/"))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Pf.fromString(c));if(!Lf.isDocumentKey(l))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Lf(l);u.push(Oh(t,f))}else{var h=Ex(n,r,c);u.push(h)}}return new Wh(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function e_(e,t,n){if("string"==typeof(n=ma(n))){if(""===n)throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jd(t)&&-1!==n.indexOf("/"))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Pf.fromString(n));if(!Lf.isDocumentKey(r))throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Oh(e,new Lf(r))}if(n instanceof gw)return Oh(e,n._key);throw new pf(df.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(fw(n),"."))}function t_(e,t){if(!Array.isArray(e)||0===e.length)throw new pf(df.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new pf(df.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function n_(e,t){if(t.isInequality()){var n=Ud(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new pf(df.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Fd(e);null!==i&&r_(e,r,i)}var a=function(e,t){var n,r=Oi(e);try{for(r.s();!(n=r.n()).done;){var i,a=Oi(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new pf(df.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new pf(df.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function r_(e,t,n){if(!n.isEqual(t))throw new pf(df.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var i_=function(){function e(){Ni(this,e)}return Pi(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Eh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lf()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return fh(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new cx(kh(e.latitude),kh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=xh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_h(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=gh(e);return new Af(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Pf.fromString(e);ff(Lv(n));var r=new ch(n.get(1),n.get(3)),i=new Lf(n.popFirst(5));return r.isEqual(t)||uf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function a_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var o_=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this)).firestore=e,r}return Pi(n,[{key:"convertBytes",value:function(e){return new ox(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new gw(this.firestore,null,t)}}]),n}(i_),u_=function(){function e(t,n){Ni(this,e),this.hasPendingWrites=t,this.fromCache=n}return Pi(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),s_=function(e){Di(n,e);var t=Ui(n);function n(e,r,i,a,o,u){var s;return Ni(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Pi(n,[{key:"exists",value:function(){return $o(Li(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new c_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Ux("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Mx),c_=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.apply(this,arguments)}return Pi(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $o(Li(n.prototype),"data",this).call(this,e)}}]),n}(s_),l_=function(){function e(t,n,r,i){Ni(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new u_(i.hasPendingWrites,i.fromCache),this.query=r}return Pi(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new c_(n._firestore,n._userDataWriter,r.key,r,new u_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pf(df.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new c_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new u_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new c_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new u_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:f_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function f_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lf()}}function h_(e,t){return e instanceof s_&&t instanceof s_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof l_&&t instanceof l_&&e._firestore===t._firestore&&Sw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var d_=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this)).firestore=e,r}return Pi(n,[{key:"convertBytes",value:function(e){return new ox(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new gw(this.firestore,null,t)}}]),n}(i_);function p_(e){e=hw(e,gw);var t=hw(e.firestore,Yw),n=Jw(t),r=new d_(t);return function(e,t){var n=new vf;return e.asyncQueue.enqueueAndForget(ka(ya().mark((function r(){return ya().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=hf(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new pf(df.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Fk(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Vw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new s_(t,r,e._key,n,new u_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function v_(e){e=hw(e,kw);var t=hw(e.firestore,Yw),n=Jw(t),r=new d_(t);return function(e,t){var n=new vf;return e.asyncQueue.enqueueAndForget(ka(ya().mark((function r(){return ya().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ka(ya().mark((function e(t,n,r){var i,a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mg(t,n,!0);case 3:i=e.sent,a=new rb(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Fk(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Vw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new l_(t,r,e,n)}))}function m_(e,t,n){e=hw(e,gw);var r=hw(e.firestore,Yw),i=a_(e.converter,t,n);return b_(r,[yx(mx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,pp.none())])}function y_(e,t,n){e=hw(e,gw);for(var r=hw(e.firestore,Yw),i=mx(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return b_(r,[("string"==typeof(t=ma(t))||t instanceof ux?Ix(i,"updateDoc",e._key,t,n,o):Sx(i,"updateDoc",e._key,t)).toMutation(e._key,pp.exists(!0))])}function g_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ma(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||$w(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if($w(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof gw)l=hw(e.firestore,Yw),f=Ld(e._key.path),c={next:function(t){n[s]&&n[s](w_(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=hw(e,kw);l=hw(p.firestore,Yw),f=p._query;var v=new d_(l);c={next:function(e){n[s]&&n[s](new l_(l,v,p,e))},error:n[s+1],complete:n[s+2]},jx(e._query)}return function(e,t,n,r){var i=new Ew(r),a=new Xk(t,i,n);return e.asyncQueue.enqueueAndForget(ka(ya().mark((function t(){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qk,t.next=3,Hw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(ka(ya().mark((function t(){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wk,t.next=3,Hw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Jw(l),f,h,c)}function k_(e,t){return function(e,t){var n=new Ew(t);return e.asyncQueue.enqueueAndForget(ka(ya().mark((function t(){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){hf(e).Ru.add(t),t.next()},t.next=3,Hw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(ka(ya().mark((function t(){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){hf(e).Ru.delete(t)},t.next=3,Hw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Jw(e=hw(e,Yw)),$w(t)?t:{next:t})}function b_(e,t){return function(e,t){var n=new vf;return e.asyncQueue.enqueueAndForget(ka(ya().mark((function r(){return ya().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=db,r.next=3,Bw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Jw(e),t)}function w_(e,t,n){var r=n.docs.get(t._key),i=new d_(e);return new s_(e,i,t._key,r,new u_(n.hasPendingWrites,n.fromCache),t.converter)}var x_={maxAttempts:5},__=function(){function e(t,n){Ni(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mx(t)}return Pi(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=S_(e,this._firestore),i=a_(r.converter,t,n),a=yx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,pp.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=S_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ma(t))||t instanceof ux?Ix(this._dataReader,"WriteBatch.update",i._key,t,n,o):Sx(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,pp.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=S_(e,this._firestore);return this._mutations=this._mutations.concat(new Ap(t._key,pp.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new pf(df.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function S_(e,t){if((e=ma(e)).firestore!==t)throw new pf(df.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var I_=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this,e,r))._firestore=e,i}return Pi(n,[{key:"get",value:function(e){var t=this,r=S_(e,this._firestore),i=new d_(this._firestore);return $o(Li(n.prototype),"get",this).call(this,e).then((function(e){return new s_(t._firestore,i,r._key,e._document,new u_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ni(this,e),this._firestore=t,this._transaction=n,this._dataReader=mx(t)}return Pi(e,[{key:"get",value:function(e){var t=this,n=S_(e,this._firestore),r=new o_(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return lf();var i=e[0];if(i.isFoundDocument())return new Mx(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Mx(t._firestore,r,n._key,null,n.converter);throw lf()}))}},{key:"set",value:function(e,t,n){var r=S_(e,this._firestore),i=a_(r.converter,t,n),a=yx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=S_(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ma(t))||t instanceof ux?Ix(this._dataReader,"Transaction.update",i._key,t,n,o):Sx(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=S_(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function E_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wx("arrayUnion",t)}function T_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xx("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){nf=e}(yo),co(new ba("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Yw(new kf(e.getProvider("auth-internal")),new _f(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pf(df.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ch(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),_o(ef,"3.8.1",e),_o(ef,"3.8.1","esm2017")}();function C_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new pf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function A_(){if("undefined"===typeof Uint8Array)throw new pf("unimplemented","Uint8Arrays are not available in this environment.")}function N_(){if("undefined"==typeof atob)throw new pf("unimplemented","Blobs are unavailable in Firestore in this environment.")}var R_=function(){function e(t){Ni(this,e),this._delegate=t}return Pi(e,[{key:"toBase64",value:function(){return N_(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return A_(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return N_(),new e(ox.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return A_(),new e(ox.fromUint8Array(t))}}]),e}();function P_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Oi(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var O_=function(){function e(){Ni(this,e)}return Pi(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ax(e=hw(e,Yw));var n=Jw(e),r=e._freezeSettings(),i=new ow;return ex(n,i,new iw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ax(e=hw(e,Yw));var t=Jw(e),n=e._freezeSettings(),r=new ow;return ex(t,r,new aw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new pf(df.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new vf;return e._queue.enqueueAndForgetEvenWhileRestricted(ka(ya().mark((function n(){return ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yf.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Yf.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(tg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),D_=function(){function e(t,n,r){var i=this;Ni(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ch||(this._appCompat=t)}return Pi(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||sf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yw(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return tx(this._delegate)}},{key:"disableNetwork",value:function(){return nx(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&sw("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new vf;return e.asyncQueue.enqueueAndForget(ka(ya().mark((function n(){return ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Sb,n.next=3,Bw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Jw(e=hw(e,Yw)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return k_(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new pf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Q_(this,ww(this._delegate,e))}catch(t){throw V_(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new j_(this,xw(this._delegate,e))}catch(t){throw V_(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new W_(this,function(e,t){if(e=hw(e,mw),uw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new pf(df.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new kw(e,null,function(e){return new Od(Pf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw V_(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=hw(e,Yw);var r=Object.assign(Object.assign({},x_),n);return function(e){if(e.maxAttempts<1)throw new pf(df.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new vf;return e.asyncQueue.enqueueAndForget(ka(ya().mark((function i(){var a;return ya().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,qw(e);case 2:a=i.sent,new Aw(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Jw(e),(function(n){return t(new I_(e,n))}),r)}(this._delegate,(function(n){return e(new M_(t,n))}))}},{key:"batch",value:function(){var e=this;return Jw(this._delegate),new F_(new __(this._delegate,(function(t){return b_(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return rx(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ix(this._delegate,e).then((function(e){return e?new W_(t,e):null}))}}]),e}(),L_=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this)).firestore=e,r}return Pi(n,[{key:"convertBytes",value:function(e){return new R_(new ox(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return j_.forKey(t,this.firestore,null)}}]),n}(i_);var M_=function(){function e(t,n){Ni(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new L_(t)}return Pi(e,[{key:"get",value:function(e){var t=this,n=$_(e);return this._delegate.get(n).then((function(e){return new q_(t._firestore,new s_(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=$_(e);return n?(C_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=$_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$_(e);return this._delegate.delete(t),this}}]),e}(),F_=function(){function e(t){Ni(this,e),this._delegate=t}return Pi(e,[{key:"set",value:function(e,t,n){var r=$_(e);return n?(C_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=$_(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=$_(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),U_=function(){function e(t,n,r){Ni(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Pi(e,[{key:"fromFirestore",value:function(e,t){var n=new c_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new H_(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new L_(t),n),i.set(n,a)),a}}]),e}();U_.INSTANCES=new WeakMap;var j_=function(){function e(t,n){Ni(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new L_(t)}return Pi(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Q_(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Q_(this.firestore,ww(this._delegate,e))}catch(t){throw V_(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ma(e))instanceof gw&&_w(this._delegate,e)}},{key:"set",value:function(e,t){t=C_("DocumentReference.set",t);try{return t?m_(this._delegate,e,t):m_(this._delegate,e)}catch(n){throw V_(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?y_(this._delegate,e):y_.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw V_(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return b_(hw(e.firestore,Yw),[new Ap(e._key,pp.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=z_(n),a=B_(n,(function(t){return new q_(e.firestore,new s_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return g_(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?p_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=hw(e,gw);var t=hw(e.firestore,Yw);return Kw(Jw(t),e._key,{source:"server"}).then((function(n){return w_(t,e,n)}))}(this._delegate):function(e){e=hw(e,gw);var t=hw(e.firestore,Yw);return Kw(Jw(t),e._key).then((function(n){return w_(t,e,n)}))}(this._delegate),t.then((function(e){return new q_(n.firestore,new s_(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(U_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new pf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new gw(n._delegate,r,new Lf(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new gw(n._delegate,r,t))}}]),e}();function V_(e,t,n){return e.message=e.message.replace(t,n),e}function z_(e){var t,n=Oi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!P_(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function B_(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=P_(e[0])?e[0]:P_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var q_=function(){function e(t,n){Ni(this,e),this._firestore=t,this._delegate=n}return Pi(e,[{key:"ref",get:function(){return new j_(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return h_(this._delegate,e._delegate)}}]),e}(),H_=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.apply(this,arguments)}return Pi(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||lf()}(void 0!==t),t}}]),n}(q_),W_=function(){function e(t,n){Ni(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new L_(t)}return Pi(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Bx(this._delegate,function(e,t,n){var r=t,i=Ux("where",e);return qx._create(i,r,n)}(t,n,r)))}catch(i){throw V_(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Bx(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Ux("orderBy",e);return Wx._create(r,n)}(t,n)))}catch(r){throw V_(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Bx(this._delegate,function(e){return dw("limit",e),Kx._create("limit",e,"F")}(t)))}catch(n){throw V_(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Bx(this._delegate,function(e){return dw("limitToLast",e),Kx._create("limitToLast",e,"L")}(t)))}catch(n){throw V_(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Bx(this._delegate,Qx.apply(void 0,arguments)))}catch(t){throw V_(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Bx(this._delegate,$x.apply(void 0,arguments)))}catch(t){throw V_(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Bx(this._delegate,Yx.apply(void 0,arguments)))}catch(t){throw V_(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Bx(this._delegate,Jx.apply(void 0,arguments)))}catch(t){throw V_(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Sw(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?v_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=hw(e,kw);var t=hw(e.firestore,Yw),n=Jw(t),r=new d_(t);return Gw(n,e._query,{source:"server"}).then((function(n){return new l_(t,r,e,n)}))}(this._delegate):function(e){e=hw(e,kw);var t=hw(e.firestore,Yw),n=Jw(t),r=new d_(t);return jx(e._query),Gw(n,e._query).then((function(n){return new l_(t,r,e,n)}))}(this._delegate),t.then((function(e){return new G_(n.firestore,new l_(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=z_(n),a=B_(n,(function(t){return new G_(e.firestore,new l_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return g_(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(U_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),K_=function(){function e(t,n){Ni(this,e),this._firestore=t,this._delegate=n}return Pi(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new H_(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),G_=function(){function e(t,n){Ni(this,e),this._firestore=t,this._delegate=n}return Pi(e,[{key:"query",get:function(){return new W_(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new H_(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new K_(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new H_(n._firestore,r))}))}},{key:"isEqual",value:function(e){return h_(this._delegate,e._delegate)}}]),e}(),Q_=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Pi(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new j_(this.firestore,e):null}},{key:"doc",value:function(e){try{return new j_(this.firestore,void 0===e?xw(this._delegate):xw(this._delegate,e))}catch(t){throw V_(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=hw(e.firestore,Yw),r=xw(e),i=a_(e.converter,t);return b_(n,[yx(mx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,pp.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new j_(t.firestore,e)}))}},{key:"isEqual",value:function(e){return _w(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(U_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(W_);function $_(e){return hw(e,gw)}var X_,Y_=function(){function e(){Ni(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ji(ux,n)}return Pi(e,[{key:"isEqual",value:function(e){return(e=ma(e))instanceof ux&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Df.keyField().canonicalString())}}]),e}(),J_=function(){function e(t){Ni(this,e),this._delegate=t}return Pi(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new bx("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new gx("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=E_.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=T_.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new _x("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Z_={Firestore:D_,GeoPoint:cx,Timestamp:Af,Blob:R_,Transaction:M_,WriteBatch:F_,DocumentReference:j_,DocumentSnapshot:q_,Query:W_,QueryDocumentSnapshot:H_,QuerySnapshot:G_,CollectionReference:Q_,FieldPath:Y_,FieldValue:J_,setLogLevel:function(e){!function(e){rf.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function eS(e){return a(e)||T(e)||u(e)||s()}(function(e,t){e.INTERNAL.registerComponent(new ba("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Z_)))})(X_=Go,(function(e,t){return new D_(e,t,new O_)})),X_.registerVersion("@firebase/firestore-compat","0.3.1");function tS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var nS;Object.create;var rS="facebook.com",iS="github.com",aS="google.com",oS="password",uS="twitter.com",sS="EMAIL_SIGNIN",cS="PASSWORD_RESET",lS="RECOVER_EMAIL",fS="REVERT_SECOND_FACTOR_ADDITION",hS="VERIFY_AND_CHANGE_EMAIL",dS="VERIFY_EMAIL";function pS(){return h({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var vS=function(){var e;return h(e={},"admin-restricted-operation","This operation is restricted to administrators only."),h(e,"argument-error",""),h(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),h(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),h(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),h(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),h(e,"cordova-not-ready","Cordova framework is not ready."),h(e,"cors-unsupported","This browser is not supported."),h(e,"credential-already-in-use","This credential is already associated with a different user account."),h(e,"custom-token-mismatch","The custom token corresponds to a different audience."),h(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),h(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),h(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),h(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),h(e,"email-already-in-use","The email address is already in use by another account."),h(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),h(e,"expired-action-code","The action code has expired."),h(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),h(e,"internal-error","An internal AuthError has occurred."),h(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),h(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),h(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),h(e,"invalid-auth-event","An internal AuthError has occurred."),h(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),h(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),h(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),h(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),h(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),h(e,"invalid-email","The email address is badly formatted."),h(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),h(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),h(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),h(e,"invalid-credential","The supplied auth credential is malformed or has expired."),h(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),h(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),h(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),h(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),h(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),h(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),h(e,"wrong-password","The password is invalid or the user does not have a password."),h(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),h(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),h(e,"invalid-provider-id","The specified provider ID is invalid."),h(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),h(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),h(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),h(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),h(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),h(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),h(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),h(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),h(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),h(e,"missing-continue-uri","A continue URL must be provided in the request."),h(e,"missing-iframe-start","An internal AuthError has occurred."),h(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),h(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),h(e,"missing-multi-factor-info","No second factor identifier is provided."),h(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),h(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),h(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),h(e,"app-deleted","This instance of FirebaseApp has been deleted."),h(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),h(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),h(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),h(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),h(e,"no-auth-event","An internal AuthError has occurred."),h(e,"no-such-provider","User was not linked to an account with the given provider."),h(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),h(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),h(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),h(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),h(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),h(e,"provider-already-linked","User can only be linked to one identity for the given provider."),h(e,"quota-exceeded","The project's quota for this operation has been exceeded."),h(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),h(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),h(e,"rejected-credential","The request contains malformed or mismatching credentials."),h(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),h(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),h(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),h(e,"timeout","The operation has timed out."),h(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),h(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),h(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),h(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),h(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),h(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),h(e,"unverified-email","The operation requires a verified email."),h(e,"user-cancelled","The user did not grant your application the permissions it requested."),h(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),h(e,"user-disabled","The user account has been disabled by an administrator."),h(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),h(e,"user-signed-out",""),h(e,"weak-password","The password must be 6 characters long or more."),h(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),h(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},mS=pS,yS=new ia("auth","Firebase",pS()),gS=new Pa("@firebase/auth");function kS(e){if(gS.logLevel<=Ia.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gS.error.apply(gS,["Auth (".concat(yo,"): ").concat(e)].concat(n))}}function bS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw SS.apply(void 0,[e].concat(n))}function wS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return SS.apply(void 0,[e].concat(n))}function xS(e,t,n){var r=Object.assign(Object.assign({},mS()),h({},t,n));return new ia("auth","Firebase",r).create(t,{appName:e.name})}function _S(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&bS(e,"argument-error"),xS(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function SS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=C(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(C(o)))}return yS.create.apply(yS,[e].concat(n))}function IS(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw SS.apply(void 0,[t].concat(r))}}function ES(e){var t="INTERNAL ASSERTION FAILED: "+e;throw kS(t),new Error(t)}function TS(e,t){e||ES(t)}var CS=new Map;function AS(e){TS(e instanceof Function,"Expected a class definition");var t=CS.get(e);return t?(TS(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,CS.set(e,t),t)}function NS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function RS(){return"http:"===PS()||"https:"===PS()}function PS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var OS=function(){function e(t,n){Ni(this,e),this.shortDelay=t,this.longDelay=n,TS(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yi())||ea()}return Pi(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(RS()||Zi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function DS(e,t){TS(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var LS=function(){function e(){Ni(this,e)}return Pi(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ES("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ES("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ES("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),MS=(h(nS={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),h(nS,"MISSING_CUSTOM_TOKEN","internal-error"),h(nS,"INVALID_IDENTIFIER","invalid-email"),h(nS,"MISSING_CONTINUE_URI","internal-error"),h(nS,"INVALID_PASSWORD","wrong-password"),h(nS,"MISSING_PASSWORD","internal-error"),h(nS,"EMAIL_EXISTS","email-already-in-use"),h(nS,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),h(nS,"INVALID_IDP_RESPONSE","invalid-credential"),h(nS,"INVALID_PENDING_TOKEN","invalid-credential"),h(nS,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),h(nS,"MISSING_REQ_TYPE","internal-error"),h(nS,"EMAIL_NOT_FOUND","user-not-found"),h(nS,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),h(nS,"EXPIRED_OOB_CODE","expired-action-code"),h(nS,"INVALID_OOB_CODE","invalid-action-code"),h(nS,"MISSING_OOB_CODE","internal-error"),h(nS,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),h(nS,"INVALID_ID_TOKEN","invalid-user-token"),h(nS,"TOKEN_EXPIRED","user-token-expired"),h(nS,"USER_NOT_FOUND","user-token-expired"),h(nS,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),h(nS,"INVALID_CODE","invalid-verification-code"),h(nS,"INVALID_SESSION_INFO","invalid-verification-id"),h(nS,"INVALID_TEMPORARY_PROOF","invalid-credential"),h(nS,"MISSING_SESSION_INFO","missing-verification-id"),h(nS,"SESSION_EXPIRED","code-expired"),h(nS,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),h(nS,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),h(nS,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),h(nS,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),h(nS,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),h(nS,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),h(nS,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),h(nS,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),h(nS,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),h(nS,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),h(nS,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),nS),FS=new OS(3e4,6e4);function US(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function jS(e,t,n,r){return VS.apply(this,arguments)}function VS(){return VS=ka(ya().mark((function e(t,n,r,i){var a,o=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",zS(t,a,ka(ya().mark((function e(){var a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=la(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",LS.fetch()(WS(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function zS(e,t,n){return BS.apply(this,arguments)}function BS(){return BS=ka(ya().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},MS),n),e.prev=2,a=new KS(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw GS(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw GS(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw GS(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw GS(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw xS(t,p,d);case 34:bS(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ra)){e.next=41;break}throw e.t0;case 41:bS(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),BS.apply(this,arguments)}function qS(e,t,n,r){return HS.apply(this,arguments)}function HS(){return HS=ka(ya().mark((function e(t,n,r,i){var a,o,u=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,jS(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&bS(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function WS(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?DS(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var KS=function(){function e(t){var n=this;Ni(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(wS(n.auth,"network-request-failed"))}),FS.get())}))}return Pi(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function GS(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=wS(e,t,r);return i.customData._tokenResponse=n,i}function QS(e,t){return $S.apply(this,arguments)}function $S(){return $S=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jS(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function XS(e,t){return YS.apply(this,arguments)}function YS(){return YS=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function JS(e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jS(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function eI(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function tI(){return tI=ka(ya().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ma(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,IS((a=rI(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:eI(nI(a.auth_time)),issuedAtTime:eI(nI(a.iat)),expirationTime:eI(nI(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e){return 1e3*Number(e)}function rI(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return kS("JWT malformed, contained fewer than 3 sections"),null;try{var a=Hi(r);return a?JSON.parse(a):(kS("Failed to decode base64 JWT payload"),null)}catch(o){return kS("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function iI(e,t){return aI.apply(this,arguments)}function aI(){return aI=ka(ya().mark((function e(t,n){var r=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ra&&oI(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),aI.apply(this,arguments)}function oI(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var uI=function(){function e(t){Ni(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Pi(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ka(ya().mark((function t(){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),sI=function(){function e(t,n){Ni(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Pi(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=eI(this.lastLoginAt),this.creationTime=eI(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function cI(e){return lI.apply(this,arguments)}function lI(){return lI=ka(ya().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,iI(t,JS(r,{idToken:i}));case 6:IS(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?dI(o.providerUserInfo):[],s=hI(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new sI(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(){return(fI=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ma(t),e.next=3,cI(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hI(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(C(n),C(t))}function dI(e){return e.map((function(e){var t=e.providerId,n=tS(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function pI(e,t){return vI.apply(this,arguments)}function vI(){return vI=ka(ya().mark((function e(t,n){var r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zS(t,{},ka(ya().mark((function e(){var r,i,a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=la({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=WS(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",LS.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}var mI=function(){function e(){Ni(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Pi(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){IS(e.idToken,"internal-error"),IS("undefined"!==typeof e.idToken,"internal-error"),IS("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=rI(e);return IS(t,"internal-error"),IS("undefined"!==typeof t.exp,"internal-error"),IS("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ka(ya().mark((function e(t){var n,r=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],IS(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ka(ya().mark((function e(t,n){var r,i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pI(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ES("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(IS("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(IS("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(IS("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function yI(e,t){IS("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var gI=function(){function e(t){Ni(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=tS(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?C(a.providerData):[],this.metadata=new sI(a.createdAt||void 0,a.lastLoginAt||void 0)}return Pi(e,[{key:"getIdToken",value:function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iI(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(IS(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return tI.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return fI.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(IS(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){IS(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ka(ya().mark((function e(t){var n,r,i=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,cI(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,iI(this,QS(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;IS(k&&_,t,"internal-error");var S=mI.fromJSON(this.name,_);IS("string"===typeof k,t,"internal-error"),yI(f,t.name),yI(h,t.name),IS("boolean"===typeof b,t,"internal-error"),IS("boolean"===typeof w,t,"internal-error"),yI(d,t.name),yI(p,t.name),yI(v,t.name),yI(m,t.name),yI(y,t.name),yI(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=ka(ya().mark((function t(n,r){var i,a,o,u=arguments;return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new mI).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,cI(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),kI=function(){function e(){Ni(this,e),this.type="NONE",this.storage={}}return Pi(e,[{key:"_isAvailable",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();kI.type="NONE";var bI=kI;function wI(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var xI=function(){function e(t,n,r){Ni(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=wI(this.userKey,a.apiKey,o),this.fullPersistenceKey=wI("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Pi(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?gI._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ka(ya().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(AS(bI),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||AS(bI),u=wI(i,n.config.apiKey,n.name),s=null,c=Oi(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=gI._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function _I(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AI(t))return"Blackberry";if(NI(t))return"Webos";if(II(t))return"Safari";if((t.includes("chrome/")||EI(t))&&!t.includes("edge/"))return"Chrome";if(CI(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function SI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return/firefox\//i.test(e)}function II(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function EI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return/crios\//i.test(e)}function TI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return/iemobile/i.test(e)}function CI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return/android/i.test(e)}function AI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return/blackberry/i.test(e)}function NI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return/webos/i.test(e)}function RI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function PI(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return RI(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function OI(){return ta()&&10===document.documentMode}function DI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return RI(e)||CI(e)||NI(e)||AI(e)||/windows phone/i.test(e)||TI(e)}function LI(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_I(Yi());break;case"Worker":t="".concat(_I(Yi()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(yo,"/").concat(r)}var MI=function(){function e(t){Ni(this,e),this.auth=t,this.queue=[]}return Pi(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ka(ya().mark((function e(t){var n,r,i,a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Oi(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Oi(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),FI=function(){function e(t,n,r){Ni(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jI(this),this.idTokenSubscription=new jI(this),this.beforeStateQueue=new MI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Pi(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=AS(t)),this._initializationPromise=this.queue(ka(ya().mark((function r(){var i,a;return ya().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,xI.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ka(ya().mark((function e(t){var n,r,i,a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return IS(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cI(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ma(t):null)&&IS(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ka(ya().mark((function e(t){var n,r=this,i=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&IS(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ka(ya().mark((function n(){return ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(AS(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ia("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ka(ya().mark((function e(t,n){var r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return IS(n=t&&AS(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,xI.create(this,[AS(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ka(ya().mark((function e(t){var n=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return IS(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return IS(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LI(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ka(ya().mark((function e(){var t,n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function UI(e){return ma(e)}var jI=function(){function e(t){var n=this;Ni(this,e),this.auth=t,this.observer=null,this.addObserver=da((function(e){return n.observer=e}))}return Pi(e,[{key:"next",get:function(){return IS(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function VI(e,t,n){var r=UI(e);IS(r._canInitEmulator,r,"emulator-config-failed"),IS(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=zI(t),o=function(e){var t=zI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:BI(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:BI(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zI(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function BI(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var qI=function(){function e(t,n){Ni(this,e),this.providerId=t,this.signInMethod=n}return Pi(e,[{key:"toJSON",value:function(){return ES("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ES("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ES("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ES("not implemented")}}]),e}();function HI(e,t){return WI.apply(this,arguments)}function WI(){return WI=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jS(t,"POST","/v1/accounts:resetPassword",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function KI(e,t){return GI.apply(this,arguments)}function GI(){return GI=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function QI(e,t){return $I.apply(this,arguments)}function $I(){return $I=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jS(t,"POST","/v1/accounts:update",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function XI(e,t){return YI.apply(this,arguments)}function YI(){return YI=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qS(t,"POST","/v1/accounts:signInWithPassword",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function JI(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jS(t,"POST","/v1/accounts:sendOobCode",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JI(t,n));case 1:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t){return rE.apply(this,arguments)}function rE(){return rE=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JI(t,n));case 1:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t){return aE.apply(this,arguments)}function aE(){return aE=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JI(t,n));case 1:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){return uE.apply(this,arguments)}function uE(){return uE=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JI(t,n));case 1:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function sE(e,t){return cE.apply(this,arguments)}function cE(){return cE=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qS(t,"POST","/v1/accounts:signInWithEmailLink",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qS(t,"POST","/v1/accounts:signInWithEmailLink",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}var hE=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ni(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Pi(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",XI(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",sE(t,{email:this._email,oobCode:this._password}));case 5:bS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",KI(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",lE(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:bS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(qI);function dE(e,t){return pE.apply(this,arguments)}function pE(){return pE=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qS(t,"POST","/v1/accounts:signInWithIdp",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}var vE=function(e){Di(n,e);var t=Ui(n);function n(){var e;return Ni(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Pi(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return dE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,dE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,dE(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=la(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bS("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=tS(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(qI);function mE(e,t){return yE.apply(this,arguments)}function yE(){return yE=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jS(t,"POST","/v1/accounts:sendVerificationCode",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(){return gE=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qS(t,"POST","/v1/accounts:signInWithPhoneNumber",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(){return kE=ka(ya().mark((function e(t,n){var r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qS(t,"POST","/v1/accounts:signInWithPhoneNumber",US(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw GS(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}var bE=h({},"USER_NOT_FOUND","user-not-found");function wE(){return wE=ka(ya().mark((function e(t,n){var r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",qS(t,"POST","/v1/accounts:signInWithPhoneNumber",US(t,r),bE));case 2:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}var xE=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Pi(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return gE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return kE.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return wE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(qI);var _E=function(){function e(t){var n,r,i,a,o,u;Ni(this,e);var s=fa(ha(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);IS(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Pi(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=fa(ha(e)).link,n=t?fa(ha(t)).deep_link_id:null,r=fa(ha(e)).deep_link_id;return(r?fa(ha(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(pw){return null}}}]),e}();var SE=function(){function e(){Ni(this,e),this.providerId=e.PROVIDER_ID}return Pi(e,null,[{key:"credential",value:function(e,t){return hE._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=_E.parseLink(t);return IS(n,"argument-error"),hE._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();SE.PROVIDER_ID="password",SE.EMAIL_PASSWORD_SIGN_IN_METHOD="password",SE.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var IE=function(){function e(t){Ni(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Pi(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),EE=function(e){Di(n,e);var t=Ui(n);function n(){var e;return Ni(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Pi(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return C(this.scopes)}}]),n}(IE),TE=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.apply(this,arguments)}return Pi(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return IS(e.idToken||e.accessToken,"argument-error"),vE._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return IS("providerId"in t&&"signInMethod"in t,"argument-error"),vE._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(EE),CE=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.call(this,"facebook.com")}return Pi(n,null,[{key:"credential",value:function(e){return vE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(pw){return null}}}]),n}(EE);CE.FACEBOOK_SIGN_IN_METHOD="facebook.com",CE.PROVIDER_ID="facebook.com";var AE=function(e){Di(n,e);var t=Ui(n);function n(){var e;return Ni(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Pi(n,null,[{key:"credential",value:function(e,t){return vE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(pw){return null}}}]),n}(EE);AE.GOOGLE_SIGN_IN_METHOD="google.com",AE.PROVIDER_ID="google.com";var NE=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.call(this,"github.com")}return Pi(n,null,[{key:"credential",value:function(e){return vE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(pw){return null}}}]),n}(EE);NE.GITHUB_SIGN_IN_METHOD="github.com",NE.PROVIDER_ID="github.com";var RE=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i;return Ni(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Pi(n,[{key:"_getIdTokenResponse",value:function(e){return dE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,dE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,dE(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(qI),PE=function(e){Di(n,e);var t=Ui(n);function n(e){return Ni(this,n),IS(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Pi(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=RE.fromJSON(e);return IS(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return RE._create(r,n)}catch(i){return null}}}]),n}(IE),OE=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.call(this,"twitter.com")}return Pi(n,null,[{key:"credential",value:function(e,t){return vE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(pw){return null}}}]),n}(EE);function DE(e,t){return LE.apply(this,arguments)}function LE(){return LE=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qS(t,"POST","/v1/accounts:signUp",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}OE.TWITTER_SIGN_IN_METHOD="twitter.com",OE.PROVIDER_ID="twitter.com";var ME=function(){function e(t){Ni(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Pi(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ka(ya().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,gI._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=FE(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ka(ya().mark((function t(n,r,i){var a;return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=FE(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function FE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function UE(){return UE=ka(ya().mark((function e(t){var n,r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UI(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ME({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,DE(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ME._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}var jE=function(e){Di(n,e);var t=Ui(n);function n(e,r,i,a){var o,u;return Ni(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Rr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Pi(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ra);function VE(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw jE._fromErrorAndOperation(e,n,t,r);throw n}))}function zE(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function BE(e,t){return qE.apply(this,arguments)}function qE(){return qE=ka(ya().mark((function e(t,n){var r,i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ma(t),e.next=3,KE(!0,r,n);case 3:return e.t0=XS,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=zE(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function HE(e,t){return WE.apply(this,arguments)}function WE(){return WE=ka(ya().mark((function e(t,n){var r,i,a=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=iI,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ME._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function KE(e,t,n){return GE.apply(this,arguments)}function GE(){return GE=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cI(n);case 2:i=zE(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",IS(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function QE(e,t){return $E.apply(this,arguments)}function $E(){return $E=ka(ya().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,iI(t,VE(i,a,n,t),r);case 6:return IS((o=e.sent).idToken,i,"internal-error"),IS(u=rI(o.idToken),i,"internal-error"),s=u.sub,IS(t.uid===s,i,"user-mismatch"),e.abrupt("return",ME._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&bS(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),$E.apply(this,arguments)}function XE(e,t){return YE.apply(this,arguments)}function YE(){return YE=ka(ya().mark((function e(t,n){var r,i,a,o,u=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,VE(t,i,n);case 4:return a=e.sent,e.next=7,ME._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function JE(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XE(UI(t),n));case 1:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return(tT=ka(ya().mark((function e(t,n){var r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ma(t),e.next=3,KE(!1,r,n.providerId);case 3:return e.abrupt("return",HE(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nT(e,t){return rT.apply(this,arguments)}function rT(){return(rT=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QE(ma(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return aT=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qS(t,"POST","/v1/accounts:signInWithCustomToken",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(){return oT=ka(ya().mark((function e(t,n){var r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UI(t),e.next=3,iT(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ME._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),oT.apply(this,arguments)}var uT=function(){function e(t,n){Ni(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Pi(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?sT._fromServerResponse(e,t):bS(e,"internal-error")}}]),e}(),sT=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Pi(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(uT);function cT(e,t,n){var r;IS((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),IS("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(IS(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(IS(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function lT(){return lT=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ma(t),a={requestType:"PASSWORD_RESET",email:n},r&&cT(i,a,r),e.next=5,nE(i,a);case 5:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}function fT(){return fT=ka(ya().mark((function e(t,n,r){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI(ma(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function hT(){return hT=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QI(ma(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),hT.apply(this,arguments)}function dT(e,t){return pT.apply(this,arguments)}function pT(){return pT=ka(ya().mark((function e(t,n){var r,i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ma(t),e.next=3,HI(r,{oobCode:n});case 3:i=e.sent,IS(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return IS(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:IS(i.mfaInfo,r,"internal-error");case 13:IS(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=uT._fromServerResponse(UI(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),pT.apply(this,arguments)}function vT(){return vT=ka(ya().mark((function e(t,n){var r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dT(ma(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function mT(e,t,n){return yT.apply(this,arguments)}function yT(){return yT=ka(ya().mark((function e(t,n,r){var i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UI(t),e.next=3,DE(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ME._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function gT(){return gT=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ma(t),a={requestType:"EMAIL_SIGNIN",email:n},IS(r.handleCodeInApp,i,"argument-error"),r&&cT(i,a,r),e.next=6,iE(i,a);case 6:case"end":return e.stop()}}),e)}))),gT.apply(this,arguments)}function kT(){return kT=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ma(t),IS((a=SE.credentialWithLink(n,r||NS()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",JE(i,a));case 4:case"end":return e.stop()}}),e)}))),kT.apply(this,arguments)}function bT(e,t){return wT.apply(this,arguments)}function wT(){return wT=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jS(t,"POST","/v1/accounts:createAuthUri",US(t,n)));case 1:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function xT(){return xT=ka(ya().mark((function e(t,n){var r,i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RS()?NS():"http://localhost",i={identifier:n,continueUri:r},e.next=4,bT(ma(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function _T(){return(_T=ka(ya().mark((function e(t,n){var r,i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ma(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&cT(r.auth,a,n),e.next=8,eE(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ST(){return(ST=ka(ya().mark((function e(t,n,r){var i,a,o,u;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ma(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&cT(i.auth,o,r),e.next=8,oE(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IT(e,t){return ET.apply(this,arguments)}function ET(){return ET=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function TT(){return(TT=ka(ya().mark((function e(t,n){var r,i,a,o,u,s,c;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ma(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,iI(a,IT(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CT(e,t,n){return AT.apply(this,arguments)}function AT(){return AT=ka(ya().mark((function e(t,n,r){var i,a,o,u;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,iI(t,KI(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}var NT=Pi((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ni(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),RT=function(e){Di(n,e);var t=Ui(n);function n(e,r,i,a){var o;return Ni(this,n),(o=t.call(this,e,r,i)).username=a,o}return Pi(n)}(NT),PT=function(e){Di(n,e);var t=Ui(n);function n(e,r){return Ni(this,n),t.call(this,e,"facebook.com",r)}return Pi(n)}(NT),OT=function(e){Di(n,e);var t=Ui(n);function n(e,r){return Ni(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Pi(n)}(RT),DT=function(e){Di(n,e);var t=Ui(n);function n(e,r){return Ni(this,n),t.call(this,e,"google.com",r)}return Pi(n)}(NT),LT=function(e){Di(n,e);var t=Ui(n);function n(e,r,i){return Ni(this,n),t.call(this,e,"twitter.com",r,i)}return Pi(n)}(RT);function MT(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=rI(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new NT(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new PT(a,i);case"github.com":return new OT(a,i);case"google.com":return new DT(a,i);case"twitter.com":return new LT(a,i,e.screenName||null);case"custom":case"anonymous":return new NT(a,null);default:return new NT(a,r,i)}}(n)}var FT=function(){function e(t,n,r){Ni(this,e),this.type=t,this.credential=n,this.auth=r}return Pi(e,[{key:"toJSON",value:function(){return{multiFactorSession:h({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),UT=function(){function e(t,n,r){Ni(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Pi(e,[{key:"resolveSignIn",value:function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=UI(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return uT._fromServerResponse(r,e)}));IS(i.mfaPendingCredential,r,"internal-error");var o=FT._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ka(ya().mark((function e(t){var a,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ME._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return IS(n.user,r,"internal-error"),e.abrupt("return",ME._forOperation(n.user,n.operationType,u));case 17:bS(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function jT(e,t){return jS(e,"POST","/v2/accounts/mfaEnrollment:start",US(e,t))}function VT(e,t){return jS(e,"POST","/v2/accounts/mfaEnrollment:withdraw",US(e,t))}var zT=function(){function e(t){var n=this;Ni(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return uT._fromServerResponse(t.auth,e)})))}))}return Pi(e,[{key:"getSession",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=FT,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ka(ya().mark((function e(t,n){var r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,iI(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ka(ya().mark((function e(t){var n,r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,iI(this.user,VT(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),BT=new WeakMap;var qT="__sak",HT=function(){function e(t,n){Ni(this,e),this.storageRetriever=t,this.type=n}return Pi(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(qT,"1"),this.storage.removeItem(qT),Promise.resolve(!0)):Promise.resolve(!1)}catch(pw){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var WT=function(e){Di(n,e);var t=Ui(n);function n(){var e;return Ni(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Yi();return II(e)||RI(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=DI(),e._shouldAllowMigration=!0,e}return Pi(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);OI()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ka(ya().mark((function e(t,r){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(Li(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ka(ya().mark((function e(t){var r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(Li(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(Li(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(HT);WT.type="LOCAL";var KT=WT,GT=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Pi(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(HT);GT.type="SESSION";var QT=GT;function $T(e){return Promise.all(e.map(function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var XT=function(){function e(t){Ni(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Pi(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ka(ya().mark((function e(t){var n,r,i,a,o,u,s,c;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,$T(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function YT(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}XT.receivers=[];var JT=function(){function e(t){Ni(this,e),this.target=t,this.handlers=new Set}return Pi(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ka(ya().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=YT("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ZT(){return window}function eC(){return"undefined"!==typeof ZT().WorkerGlobalScope&&"function"===typeof ZT().importScripts}function tC(){return nC.apply(this,arguments)}function nC(){return(nC=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function rC(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var iC="firebaseLocalStorageDb",aC="firebaseLocalStorage",oC="fbase_key",uC=function(){function e(t){Ni(this,e),this.request=t}return Pi(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function sC(e,t){return e.transaction([aC],t?"readwrite":"readonly").objectStore(aC)}function cC(){var e=indexedDB.deleteDatabase(iC);return new uC(e).toPromise()}function lC(){var e=indexedDB.open(iC,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(aC,{keyPath:oC})}catch(r){n(r)}})),e.addEventListener("success",ka(ya().mark((function n(){var r;return ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(aC)){n.next=12;break}return r.close(),n.next=5,cC();case 5:return n.t0=t,n.next=8,lC();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function fC(e,t,n){return hC.apply(this,arguments)}function hC(){return hC=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sC(t,!0).put((h(i={},oC,n),h(i,"value",r),i)),e.abrupt("return",new uC(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t){return pC.apply(this,arguments)}function pC(){return pC=ka(ya().mark((function e(t,n){var r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sC(t,!1).get(n),e.next=3,new uC(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(e,t){var n=sC(e,!0).delete(t);return new uC(n).toPromise()}var mC=function(){function e(){Ni(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Pi(e,[{key:"_openDb",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,lC();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eC()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ka(ya().mark((function e(){var t=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=XT._getInstance(eC()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ka(ya().mark((function e(n,r){var i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ka(ya().mark((function e(){var t,n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tC();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new JT(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&rC()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,lC();case 5:return t=e.sent,e.next=8,fC(t,qT,"1");case 8:return e.next=10,vC(t,qT);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ka(ya().mark((function e(t,n){var r=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return fC(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return dC(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ka(ya().mark((function e(t){var n=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return vC(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ka(ya().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=sC(e,!1).getAll();return new uC(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Oi(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ka(ya().mark((function t(){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();mC.type="LOCAL";var yC=mC;function gC(e,t){return jS(e,"POST","/v2/accounts/mfaSignIn:start",US(e,t))}function kC(e){return bC.apply(this,arguments)}function bC(){return bC=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jS(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function wC(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=wS("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function xC(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var _C=1e12,SC=function(){function e(t){Ni(this,e),this.auth=t,this.counter=_C,this._widgets=new Map}return Pi(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new IC(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||_C;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||_C;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||_C,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),IC=function(){function e(t,n,r){var i=this;Ni(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;IS(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Pi(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var EC=xC("rcb"),TC=new OS(3e4,6e4),CC="https://www.google.com/recaptcha/api.js?",AC=function(){function e(){var t;Ni(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ZT().grecaptcha)||void 0===t?void 0:t.render)}return Pi(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return IS(NC(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ZT().grecaptcha):new Promise((function(r,i){var a=ZT().setTimeout((function(){i(wS(e,"network-request-failed"))}),TC.get());ZT()[EC]=function(){ZT().clearTimeout(a),delete ZT()[EC];var o=ZT().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(wS(e,"internal-error"))},wC("".concat(CC,"?").concat(la({onload:EC,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(wS(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ZT().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function NC(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var RC=function(){function e(){Ni(this,e)}return Pi(e,[{key:"load",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new SC(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),PC="recaptcha",OC={theme:"light",type:"image"},DC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},OC),r=arguments.length>2?arguments[2]:void 0;Ni(this,e),this.parameters=n,this.type=PC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=UI(r),this.isInvisible="invisible"===this.parameters.size,IS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;IS(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new RC:new AC,this.validateStartingState()}return Pi(e,[{key:"verify",value:function(){var e=ka(ya().mark((function e(){var t,n,r,i=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){IS(!this.parameters.sitekey,this.auth,"argument-error"),IS(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),IS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ZT()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){IS(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ka(ya().mark((function e(){var t,n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IS(RS()&&!eC(),this.auth,"internal-error"),e.next=3,LC();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,kC(this.auth);case 8:IS(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return IS(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function LC(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var MC=function(){function e(t,n){Ni(this,e),this.verificationId=t,this.onConfirmation=n}return Pi(e,[{key:"confirm",value:function(e){var t=xE._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function FC(){return FC=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UI(t),e.next=3,zC(i,n,ma(r));case 3:return a=e.sent,e.abrupt("return",new MC(a,(function(e){return JE(i,e)})));case 5:case"end":return e.stop()}}),e)}))),FC.apply(this,arguments)}function UC(e,t,n){return jC.apply(this,arguments)}function jC(){return(jC=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ma(t),e.next=3,KE(!1,i,"phone");case 3:return e.next=5,zC(i.auth,n,ma(r));case 5:return a=e.sent,e.abrupt("return",new MC(a,(function(e){return eT(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VC(){return(VC=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ma(t),e.next=3,zC(i.auth,n,ma(r));case 3:return a=e.sent,e.abrupt("return",new MC(a,(function(e){return nT(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zC(e,t,n){return BC.apply(this,arguments)}function BC(){return BC=ka(ya().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,IS("string"===typeof a,t,"argument-error"),IS(r.type===PC,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return IS("enroll"===u.type,t,"internal-error"),e.next=13,jT(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return IS("signin"===u.type,t,"internal-error"),IS(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,gC(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,mE(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),BC.apply(this,arguments)}function qC(){return(qC=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HE(ma(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HC=function(){function e(t){Ni(this,e),this.providerId=e.PROVIDER_ID,this.auth=UI(t)}return Pi(e,[{key:"verifyPhoneNumber",value:function(e,t){return zC(this.auth,e,ma(t))}}],[{key:"credential",value:function(e,t){return xE._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?xE._fromTokenResponse(n,r):null}}]),e}();function WC(e,t){return t?AS(t):(IS(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}HC.PROVIDER_ID="phone",HC.PHONE_SIGN_IN_METHOD="phone";var KC=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Pi(n,[{key:"_getIdTokenResponse",value:function(e){return dE(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return dE(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return dE(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(qI);function GC(e){return XE(e.auth,new KC(e),e.bypassAuthState)}function QC(e){var t=e.auth,n=e.user;return IS(n,t,"internal-error"),QE(n,new KC(e),e.bypassAuthState)}function $C(e){return XC.apply(this,arguments)}function XC(){return XC=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,IS(r=t.user,n,"internal-error"),e.abrupt("return",HE(r,new KC(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),XC.apply(this,arguments)}var YC=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ni(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Pi(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ka(ya().mark((function t(n,r){return ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ka(ya().mark((function e(t){var n,r,i,a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GC;case"linkViaPopup":case"linkViaRedirect":return $C;case"reauthViaPopup":case"reauthViaRedirect":return QC;default:bS(this.auth,"internal-error")}}},{key:"resolve",value:function(e){TS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){TS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),JC=new OS(2e3,1e4);function ZC(e,t,n){return eA.apply(this,arguments)}function eA(){return eA=ka(ya().mark((function e(t,n,r){var i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UI(t),_S(t,n,IE),a=WC(i,r),o=new iA(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(){return tA=ka(ya().mark((function e(t,n,r){var i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _S((i=ma(t)).auth,n,IE),a=WC(i.auth,r),o=new iA(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),tA.apply(this,arguments)}function nA(e,t,n){return rA.apply(this,arguments)}function rA(){return rA=ka(ya().mark((function e(t,n,r){var i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _S((i=ma(t)).auth,n,IE),a=WC(i.auth,r),o=new iA(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),rA.apply(this,arguments)}var iA=function(e){Di(n,e);var t=Ui(n);function n(e,r,i,a,o){var u;return Ni(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Rr(u),u}return Pi(n,[{key:"executeNotNull",value:function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return IS(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ka(ya().mark((function e(){var t,n=this;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TS(1===this.filter.length,"Popup operations only handle one event"),t=YT(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(wS(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(wS(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(wS(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,JC.get())}()}}]),n}(YC);iA.currentPopupAction=null;var aA=new Map,oA=function(e){Di(n,e);var t=Ui(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ni(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Pi(n,[{key:"execute",value:function(){var e=ka(ya().mark((function e(){var t,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=aA.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,uA(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,$o(Li(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:aA.set(this.auth._key(),t);case 21:return this.bypassAuthState||aA.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ka(ya().mark((function e(t){var r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",$o(Li(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",$o(Li(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(YC);function uA(e,t){return sA.apply(this,arguments)}function sA(){return sA=ka(ya().mark((function e(t,n){var r,i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dA(n),i=hA(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),sA.apply(this,arguments)}function cA(e,t){return lA.apply(this,arguments)}function lA(){return lA=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hA(t)._set(dA(n),"true"));case 1:case"end":return e.stop()}}),e)}))),lA.apply(this,arguments)}function fA(e,t){aA.set(e._key(),t)}function hA(e){return AS(e._redirectPersistence)}function dA(e){return wI("pendingRedirect",e.config.apiKey,e.name)}function pA(e,t,n){return function(e,t,n){return vA.apply(this,arguments)}(e,t,n)}function vA(){return vA=ka(ya().mark((function e(t,n,r){var i,a;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UI(t),_S(t,n,IE),e.next=4,i._initializationPromise;case 4:return a=WC(i,r),e.next=7,cA(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t,n){return function(e,t,n){return yA.apply(this,arguments)}(e,t,n)}function yA(){return yA=ka(ya().mark((function e(t,n,r){var i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _S((i=ma(t)).auth,n,IE),e.next=4,i.auth._initializationPromise;case 4:return a=WC(i.auth,r),e.next=7,cA(a,i.auth);case 7:return e.next=9,SA(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t,n){return function(e,t,n){return kA.apply(this,arguments)}(e,t,n)}function kA(){return kA=ka(ya().mark((function e(t,n,r){var i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _S((i=ma(t)).auth,n,IE),e.next=4,i.auth._initializationPromise;case 4:return a=WC(i.auth,r),e.next=7,KE(!1,i,n.providerId);case 7:return e.next=9,cA(a,i.auth);case 9:return e.next=11,SA(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)}))),kA.apply(this,arguments)}function bA(e,t){return wA.apply(this,arguments)}function wA(){return wA=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UI(t)._initializationPromise;case 2:return e.abrupt("return",xA(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function xA(e,t){return _A.apply(this,arguments)}function _A(){return _A=ka(ya().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=UI(t),a=WC(i,n),o=new oA(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),_A.apply(this,arguments)}function SA(e){return IA.apply(this,arguments)}function IA(){return(IA=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=YT("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var EA=function(){function e(t){Ni(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Pi(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CA(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!CA(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(wS(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(TA(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(TA(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function TA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function CA(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function AA(e){return NA.apply(this,arguments)}function NA(){return NA=ka(ya().mark((function e(t){var n,r=arguments;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",jS(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}var RA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PA=/^https?/;function OA(){return OA=ka(ya().mark((function e(t){var n,r,i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,AA(t);case 4:n=e.sent,r=n.authorizedDomains,i=Oi(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!DA(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:bS(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),OA.apply(this,arguments)}function DA(e){var t=NS(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!PA.test(r))return!1;if(RA.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var LA=new OS(3e4,6e4);function MA(){var e=ZT().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=C(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var FA=null;function UA(e){return FA=FA||function(e){return new Promise((function(t,n){var r,i,a;function o(){MA(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){MA(),n(wS(e,"network-request-failed"))},timeout:LA.get()})}if(null===(i=null===(r=ZT().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ZT().gapi)||void 0===a?void 0:a.load)){var u=xC("iframefcb");return ZT()[u]=function(){gapi.load?o():n(wS(e,"network-request-failed"))},wC("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw FA=null,e}))}(e),FA}var jA=new OS(5e3,15e3),VA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BA(e){var t=e.config;IS(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?DS(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:yo},i=zA.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(la(r).slice(1))}function qA(e){return HA.apply(this,arguments)}function HA(){return HA=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UA(t);case 2:return n=e.sent,IS(r=ZT().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:BA(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VA,dontclear:!0},(function(e){return new Promise(function(){var n=ka(ya().mark((function n(r,i){var a,o,u;return ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ZT().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=wS(t,"network-request-failed"),o=ZT().setTimeout((function(){i(a)}),jA.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),HA.apply(this,arguments)}var WA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KA="_blank",GA="http://localhost",QA=function(){function e(t){Ni(this,e),this.window=t,this.associatedEvent=null}return Pi(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function $A(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},WA),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Yi().toLowerCase();n&&(u=EI(l)?KA:n),SI(l)&&(t=t||GA,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(PI(l)&&"_self"!==u)return XA(t||"",u),new QA(null);var h=window.open(t||"",u,f);IS(h,e,"popup-blocked");try{h.focus()}catch(d){}return new QA(h)}function XA(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var YA="__/auth/handler",JA="emulator/auth/handler";function ZA(e,t,n,r,i,a){IS(e.config.authDomain,e,"auth-domain-config-required"),IS(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:yo,eventId:i};if(t instanceof IE){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof EE){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(YA);return DS(t,JA)}(e),"?").concat(la(p).slice(1))}var eN="webStorageSupport",tN=function(){function e(){Ni(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QT,this._completeRedirectFn=xA,this._overrideRedirectResult=fA}return Pi(e,[{key:"_openPopup",value:function(){var e=ka(ya().mark((function e(t,n,r,i){var a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TS(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ZA(t,n,r,NS(),i),e.abrupt("return",$A(t,o,YT()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ka(ya().mark((function e(t,n,r,i){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ZA(t,n,r,NS(),i),ZT().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(TS(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qA(t);case 2:return n=e.sent,r=new EA(t),n.register("authEvent",(function(e){return IS(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(eN,{type:eN},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[eN];void 0!==i&&t(!!i),bS(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return OA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return DI()||II()||RI()}}]),e}(),nN=tN,rN=function(){function e(t){Ni(this,e),this.factorId=t}return Pi(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ES("unexpected MultiFactorSessionType")}}}]),e}(),iN=function(e){Di(n,e);var t=Ui(n);function n(e){var r;return Ni(this,n),(r=t.call(this,"phone")).credential=e,r}return Pi(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return jS(e,"POST","/v2/accounts/mfaEnrollment:finalize",US(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return jS(e,"POST","/v2/accounts/mfaSignIn:finalize",US(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(rN),aN=function(){function e(){Ni(this,e)}return Pi(e,null,[{key:"assertion",value:function(e){return iN._fromCredential(e)}}]),e}();aN.FACTOR_ID="phone";var oN="@firebase/auth",uN="0.21.1",sN=function(){function e(t){Ni(this,e),this.auth=t,this.internalListeners=new Map}return Pi(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){IS(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var cN;!function(e){var t;null===(t=Gi())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function lN(){return window}cN="Browser",co(new ba("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){IS(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),IS(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:cN,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LI(cN)},i=new FI(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(AS);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),co(new ba("auth-internal",(function(e){return function(e){return new sN(e)}(UI(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),_o(oN,uN,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(cN)),_o(oN,uN,"esm2017");function fN(e,t,n){return hN.apply(this,arguments)}function hN(){return hN=ka(ya().mark((function e(t,n,r){var i,a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=lN(),o=a.BuildInfo,TS(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,gN(n.sessionId);case 4:return u=e.sent,s={},RI()?s.ibi=o.packageName:CI()?s.apn=o.packageName:bS(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",ZA(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),hN.apply(this,arguments)}function dN(){return dN=ka(ya().mark((function e(t){var n,r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lN(),r=n.BuildInfo,i={},RI()?i.iosBundleId=r.packageName:CI()?i.androidPackageName=r.packageName:bS(t,"operation-not-supported-in-this-environment"),e.next=5,AA(t,i);case 5:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function pN(e){var t=lN().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function vN(e,t,n){return mN.apply(this,arguments)}function mN(){return mN=ka(ya().mark((function e(t,n,r){var i,a,o;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lN(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(wS(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),CI()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),mN.apply(this,arguments)}function yN(e){var t,n,r,i,a,o,u,s,c,l,f=lN();IS("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),IS("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),IS("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),IS("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),IS("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function gN(e){return kN.apply(this,arguments)}function kN(){return(kN=ka(ya().mark((function e(t){var n,r,i;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bN(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bN(e){if(TS(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var wN=function(e){Di(n,e);var t=Ui(n);function n(){var e;return Ni(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Pi(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),$o(Li(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(EA);function xN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:TN(),postBody:null,tenantId:e.tenantId,error:wS(e,"no-auth-event")}}function _N(e,t){return CN()._set(AN(e),t)}function SN(e){return IN.apply(this,arguments)}function IN(){return IN=ka(ya().mark((function e(t){var n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CN()._get(AN(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,CN()._remove(AN(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),IN.apply(this,arguments)}function EN(e,t){var n,r,i=function(e){var t=NN(e),n=t.link?decodeURIComponent(t.link):void 0,r=NN(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return NN(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=NN(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?wS(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function TN(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function CN(){return AS(KT)}function AN(e){return wI("authEvent",e.config.apiKey,e.name)}function NN(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=eS(e.split("?"));t[0];return fa(t.slice(1).join("?"))}var RN=function(){function e(){Ni(this,e),this._redirectPersistence=QT,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xA,this._overrideRedirectResult=fA}return Pi(e,[{key:"_initialize",value:function(){var e=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new wN(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){bS(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ka(ya().mark((function e(t,n,r,i){var a,o,u,s;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yN(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),aA.clear(),e.next=10,this._originValidation(t);case 10:return o=xN(t,r,i),e.next=13,_N(t,o);case 13:return e.next=15,fN(t,o,n);case 15:return u=e.sent,e.next=18,pN(u);case 18:return s=e.sent,e.abrupt("return",vN(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return dN.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=lN(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ka(ya().mark((function n(){return ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,SN(e);case 2:t.onEvent(ON());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ka(ya().mark((function n(r){var i,a;return ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,SN(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=EN(i,r.url)),t.onEvent(a||ON());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");lN().handleOpenURL=function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),PN=RN;function ON(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:wS("no-auth-event")}}function DN(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function LN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return!("file:"!==DN()&&"ionic:"!==DN()&&"capacitor:"!==DN()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function MN(){return ta()&&11===(null===document||void 0===document?void 0:document.documentMode)}function FN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return/Edge\/\d+/.test(e)}function UN(){try{var e=self.localStorage,t=YT();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yi();return MN()||FN(e)}()||na()}catch(n){return jN()&&na()}return!1}function jN(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function VN(){return("http:"===DN()||"https:"===DN()||Zi()||LN())&&!(ea()||Ji())&&UN()&&!jN()}function zN(){return LN()&&"undefined"!==typeof document}function BN(){return qN.apply(this,arguments)}function qN(){return(qN=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zN()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HN={LOCAL:"local",NONE:"none",SESSION:"session"},WN=IS,KN="persistence";function GN(e,t){WN(Object.values(HN).includes(t),e,"invalid-persistence-type"),ea()?WN(t!==HN.SESSION,e,"unsupported-persistence-type"):Ji()?WN(t===HN.NONE,e,"unsupported-persistence-type"):jN()?WN(t===HN.NONE||t===HN.LOCAL&&na(),e,"unsupported-persistence-type"):WN(t===HN.NONE||UN(),e,"unsupported-persistence-type")}function QN(e){return $N.apply(this,arguments)}function $N(){return $N=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=XN(),r=wI(KN,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),$N.apply(this,arguments)}function XN(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var YN=IS,JN=function(){function e(){Ni(this,e),this.browserResolver=AS(nN),this.cordovaResolver=AS(PN),this.underlyingResolver=null,this._redirectPersistence=QT,this._completeRedirectFn=xA,this._overrideRedirectResult=fA}return Pi(e,[{key:"_initialize",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ka(ya().mark((function e(t,n,r,i){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ka(ya().mark((function e(t,n,r,i){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return zN()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return YN(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,BN();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ZN(e){return e.unwrap()}function eR(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new aR(e,function(e,t){var n,r=ma(e),i=t;return IS(t.customData.operationType,r,"argument-error"),IS(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),UT._fromError(r,i)}(e,t));else if(r){var i=tR(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function tR(e){var t=(e instanceof ra?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ra)&&"temporaryProof"in t&&"phoneNumber"in t)return HC.credentialFromResult(e);var n,r=t.providerId;if(!r||r===oS)return null;switch(r){case aS:n=AE;break;case rS:n=CE;break;case iS:n=NE;break;case uS:n=OE;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?RE._create(r,u):vE._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new TE(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ra?n.credentialFromError(e):n.credentialFromResult(e)}function nR(e,t){return t.catch((function(t){throw t instanceof ra&&eR(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,tR(t)),additionalUserInfo:MT(e),user:oR.getOrCreate(r)}}))}function rR(e,t){return iR.apply(this,arguments)}function iR(){return iR=ka(ya().mark((function e(t,n){var r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return nR(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),iR.apply(this,arguments)}var aR=function(){function e(t,n){Ni(this,e),this.resolver=n,this.auth=t.wrapped()}return Pi(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return nR(ZN(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),oR=function(){function e(t){Ni(this,e),this._delegate=t,this.multiFactor=function(e){var t=ma(e);return BT.has(t)||BT.set(t,zT._fromUser(t)),BT.get(t)}(t)}return Pi(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nR(this.auth,eT(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rR(this.auth,UC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nR(this.auth,nA(this._delegate,t,JN)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QN(UI(this.auth));case 2:return e.abrupt("return",gA(this._delegate,t,JN));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nR(this.auth,nT(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return rR(this.auth,function(e,t,n){return VC.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return nR(this.auth,function(e,t,n){return tA.apply(this,arguments)}(this._delegate,e,JN))}},{key:"reauthenticateWithRedirect",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QN(UI(this.auth));case 2:return e.abrupt("return",mA(this._delegate,t,JN));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return _T.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BE(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return CT(ma(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return CT(ma(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return qC.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return TT.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ST.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();oR.USER_MAP=new WeakMap;var uR=IS,sR=function(){function e(t,n){if(Ni(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;uR(r,"invalid-api-key",{appName:t.name}),uR(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?JN:void 0;this._delegate=n.initialize({options:{persistence:lR(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(vS),this.linkUnderlyingAuth()}return Pi(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?oR.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){VI(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return hT.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return dT(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return fT.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ka(ya().mark((function e(t,n){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nR(this._delegate,mT(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return xT.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=_E.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uR(VN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,bA(this._delegate,JN);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",nR(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){UI(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=cR(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=cR(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return gT.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return lT.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ka(ya().mark((function e(t){var n,r;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:GN(this._delegate,t),e.t0=t,e.next=e.t0===HN.SESSION?4:e.t0===HN.LOCAL?6:e.t0===HN.NONE?11:13;break;case 4:return n=QT,e.abrupt("break",14);case 6:return e.next=8,AS(yC)._isAvailable();case 8:return r=e.sent,n=r?yC:KT,e.abrupt("break",14);case 11:return n=bI,e.abrupt("break",14);case 13:return e.abrupt("return",bS("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return nR(this._delegate,function(e){return UE.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return nR(this._delegate,JE(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return nR(this._delegate,function(e,t){return oT.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return nR(this._delegate,function(e,t,n){return JE(ma(e),SE.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return nR(this._delegate,function(e,t,n){return kT.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return rR(this._delegate,function(e,t,n){return FC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uR(VN(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",nR(this._delegate,ZC(this._delegate,t,JN)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uR(VN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,QN(this._delegate);case 3:return e.abrupt("return",pA(this._delegate,t,JN));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return vT.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function cR(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&oR.getOrCreate(e))},error:t,complete:n}}function lR(e,t){var n=function(e,t){var n=XN();if(!n)return[];var r=wI(KN,e,t);switch(n.getItem(r)){case HN.NONE:return[bI];case HN.LOCAL:return[yC,QT];case HN.SESSION:return[QT];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(yC)||n.push(yC),"undefined"!==typeof window)for(var r=0,i=[KT,QT];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(bI)||n.push(bI),n}sR.Persistence=HN;var fR=function(){function e(){Ni(this,e),this.providerId="phone",this._delegate=new HC(ZN(Go.auth()))}return Pi(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return HC.credential(e,t)}}]),e}();fR.PHONE_SIGN_IN_METHOD=HC.PHONE_SIGN_IN_METHOD,fR.PROVIDER_ID=HC.PROVIDER_ID;var hR=IS,dR=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Go.app();Ni(this,e),hR(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new DC(t,n,i.auth()),this.type=this._delegate.type}return Pi(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new ba("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new sR(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:sS,PASSWORD_RESET:cS,RECOVER_EMAIL:lS,REVERT_SECOND_FACTOR_ADDITION:fS,VERIFY_AND_CHANGE_EMAIL:hS,VERIFY_EMAIL:dS}},EmailAuthProvider:SE,FacebookAuthProvider:CE,GithubAuthProvider:NE,GoogleAuthProvider:AE,OAuthProvider:TE,SAMLAuthProvider:PE,PhoneAuthProvider:fR,PhoneMultiFactorGenerator:aN,RecaptchaVerifier:dR,TwitterAuthProvider:OE,Auth:sR,AuthCredential:qI,Error:ra}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.3.1")}(Go);var pR,vR=Go.initializeApp({apiKey:"AIzaSyCD9pELbrvM8cmSmcjRnYPZS0sQX8Xyw_g",authDomain:"messenger-mern-251bc.firebaseapp.com",projectId:"messenger-mern-251bc",storageBucket:"messenger-mern-251bc.appspot.com",messagingSenderId:"206129568801",appId:"1:206129568801:web:dbae4ecabc30cc12e65760"}),mR=Go.auth(),yR=vR.firestore(),gR=new AE,kR=(0,t.createContext)(),bR=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,Br.jsx)(kR.Provider,{value:(0,t.useReducer)(n,r),children:i})},wR=function(){return(0,t.useContext)(kR)},xR="SET_USER",_R=function(e,t){return t.type===xR?{user:t.user}:e},SR=function(){var e=c(wR(),2),t=e[0],n=e[1];console.log(t);return(0,Br.jsx)("div",{className:"login",children:(0,Br.jsxs)("div",{className:"login__container",children:[(0,Br.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Facebook_Messenger_logo_2020.svg/2048px-Facebook_Messenger_logo_2020.svg.png",alt:"Messenger Logo"}),(0,Br.jsx)("div",{className:"login__text",children:(0,Br.jsx)("h1",{children:"Sign in to Messenger"})}),(0,Br.jsx)(Ai,{onClick:function(){ZC(mR,gR).then((function(e){n({type:xR,user:e.user})})).catch((function(e){alert(e.message)}))},children:"Sign in with Google"})]})})};function IR(){return IR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IR.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(pR||(pR={}));var ER,TR="popstate";function CR(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function AR(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function NR(e,t){return{usr:e.state,key:e.key,idx:t}}function RR(e,t,n,r){return void 0===n&&(n=null),IR({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?OR(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function PR(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function OR(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function DR(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=pR.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){var e=pR.Pop,t=d();if(null!=t){var n=t-h;l=e,h=t,f&&f({action:l,location:m.location,delta:n})}else AR(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:PR(e);return CR(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(IR({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(TR,p),f=e,function(){o.removeEventListener(TR,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=pR.Push;var r=RR(m.location,e,t);n&&n(r,e);var i=NR(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=pR.Replace;var r=RR(m.location,e,t);n&&n(r,e);var i=NR(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}function LR(e,t,n){void 0===n&&(n="/");var r=HR(("string"===typeof t?OR(t):t).pathname||"/",n);if(null==r)return null;var i=MR(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=zR(i[o],qR(r));return a}function MR(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(CR(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=$R([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(CR(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),MR(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:VR(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Oi(FR(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function FR(e){var t=e.split("/");if(0===t.length)return[];var n=eS(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=FR(i.join("/")),s=[];return s.push.apply(s,C(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,C(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(ER||(ER={}));var UR=/^:\w+$/,jR=function(e){return"*"===e};function VR(e,t){var n=e.split("/"),r=n.length;return n.some(jR)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!jR(e)})).reduce((function(e,t){return e+(UR.test(t)?3:""===t?1:10)}),r)}function zR(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=BR({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:$R([i,l.pathname]),pathnameBase:XR($R([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=$R([i,l.pathnameBase]))}return a}function BR(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);WR("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return WR(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function qR(e){try{return decodeURI(e)}catch(t){return WR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function HR(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function WR(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function KR(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function GR(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function QR(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=OR(e):(CR(!(i=IR({},e)).pathname||!i.pathname.includes("?"),KR("?","pathname","search",i)),CR(!i.pathname||!i.pathname.includes("#"),KR("#","pathname","hash",i)),CR(!i.search||!i.search.includes("#"),KR("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?OR(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:YR(a),hash:JR(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var $R=function(e){return e.join("/").replace(/\/\/+/g,"/")},XR=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},YR=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},JR=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ZR=function(e){Di(n,e);var t=Ui(n);function n(){return Ni(this,n),t.apply(this,arguments)}return Pi(n)}(Vi(Error));var eP=Pi((function e(t,n,r,i){Ni(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function tP(e){return e instanceof eP}var nP=["post","put","patch","delete"],rP=(new Set(nP),["get"].concat(nP));new Set(rP),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iP.apply(this,arguments)}var aP="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},oP=t.useState,uP=t.useEffect,sP=t.useLayoutEffect,cP=t.useDebugValue;function lP(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!aP(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var fP=t.createContext(null);var hP=t.createContext(null);var dP=t.createContext(null);var pP=t.createContext(null);var vP=t.createContext(null);var mP=t.createContext({outlet:null,matches:[]});var yP=t.createContext(null);function gP(){return null!=t.useContext(vP)}function kP(){return gP()||CR(!1),t.useContext(vP).location}function bP(){gP()||CR(!1);var e=t.useContext(pP),n=e.basename,r=e.navigator,i=t.useContext(mP).matches,a=kP().pathname,o=JSON.stringify(GR(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=QR(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:$R([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function wP(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(mP).matches,a=kP().pathname,o=JSON.stringify(GR(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return QR(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function xP(){var e=function(){var e,n=t.useContext(yP),r=CP(SP.UseRouteError),i=AP(SP.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=tP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var _P,SP,IP=function(e){Di(r,e);var n=Ui(r);function r(e){var t;return Ni(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return Pi(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(mP.Provider,{value:this.props.routeContext},t.createElement(yP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function EP(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(fP);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(mP.Provider,{value:n},i)}function TP(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||CR(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(xP,null):null,l=n.concat(i.slice(0,u+1)),f=function(){return t.createElement(EP,{match:o,routeContext:{outlet:e,matches:l}},s?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?t.createElement(IP,{location:r.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function CP(e){var n=t.useContext(hP);return n||CR(!1),n}function AP(e){var n=function(e){var n=t.useContext(mP);return n||CR(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||CR(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(_P||(_P={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(SP||(SP={}));var NP;function RP(e){CR(!1)}function PP(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?pR.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;gP()&&CR(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=OR(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,_=p.key,S=void 0===_?"default":_,I=t.useMemo((function(){var e=HR(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:S}}),[h,m,g,b,x,S]);return null==I?null:t.createElement(pP.Provider,{value:d},t.createElement(vP.Provider,{children:a,value:{location:I,navigationType:s}}))}function OP(e){var n=e.children,r=e.location,i=t.useContext(fP);return function(e,n){gP()||CR(!1);var r,i=t.useContext(pP).navigator,a=t.useContext(hP),o=t.useContext(mP).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,kP());if(n){var f,h="string"===typeof n?OR(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||CR(!1),r=h}else r=l;var d=r.pathname||"/",p=LR(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=TP(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:$R([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:$R([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(vP.Provider,{value:{location:iP({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:pR.Pop}},v):v}(i&&!n?i.router.routes:LP(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(NP||(NP={}));var DP=new Promise((function(){}));t.Component;function LP(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==RP&&CR(!1),e.props.index&&e.props.children&&CR(!1);var a=[].concat(C(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=LP(e.props.children,a)),r.push(o)}else r.push.apply(r,LP(e.props.children,n))})),r}function MP(){return MP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MP.apply(this,arguments)}function FP(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var UP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function jP(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),DR((function(e,t){var n=e.location;return RR("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:PR(t)}),null,n)));var u=o.current,s=c(t.useState({action:u.action,location:u.location}),2),l=s[0],f=s[1];return t.useLayoutEffect((function(){return u.listen(f)}),[u]),t.createElement(PP,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:u})}var VP=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=FP(e,UP),h=function(e,n){var r=(void 0===n?{}:n).relative;gP()||CR(!1);var i=t.useContext(pP),a=i.basename,o=i.navigator,u=wP(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:$R([a,c])),o.createHref({pathname:f,search:l,hash:s})}(c,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=bP(),l=kP(),f=wP(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:PR(l)===PR(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(c,{replace:o,state:u,target:s,preventScrollReset:l,relative:i});return t.createElement("a",MP({},f,{href:h,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:s}))}));var zP,BP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(zP||(zP={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(BP||(BP={}));function qP(e){return Gr("MuiSvgIcon",e)}Qr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var HP=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],WP=sr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(ki(n.color))],t["fontSize".concat(ki(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),KP=t.forwardRef((function(e,t){var n=mr({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,l=void 0===c?"medium":c,f=n.htmlColor,h=n.inheritViewBox,v=void 0!==h&&h,y=n.titleAccess,k=n.viewBox,b=void 0===k?"0 0 24 24":k,w=d(n,HP),x=p({},n,{color:o,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:v,viewBox:b}),_={};v||(_.viewBox=b);var S=function(e){var t=e.color,n=e.fontSize,r=e.classes;return g({root:["root","inherit"!==t&&"color".concat(ki(t)),"fontSize".concat(ki(n))]},qP,r)}(x);return(0,Br.jsxs)(WP,p({as:s,className:m(S.root,i),focusable:"false",color:f,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},_,w,{ownerState:x,children:[r,y?(0,Br.jsx)("title",{children:y}):null]}))}));KP.muiName="SvgIcon";var GP=KP;function QP(e,n){function r(t,r){return(0,Br.jsx)(GP,p({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))}return r.muiName=GP.muiName,t.memo(t.forwardRef(r))}var $P=QP((0,Br.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function XP(e){return Gr("MuiAvatar",e)}Qr("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var YP=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],JP=sr("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return p({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&p({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),ZP=sr("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),eO=sr($P,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var tO=t.forwardRef((function(e,n){var r=mr({props:e,name:"MuiAvatar"}),i=r.alt,a=r.children,o=r.className,u=r.component,s=void 0===u?"div":u,l=r.imgProps,f=r.sizes,h=r.src,v=r.srcSet,y=r.variant,k=void 0===y?"circular":y,b=d(r,YP),w=null,x=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=c(t.useState(!1),2),u=o[0],s=o[1];return t.useEffect((function(){if(i||a){s(!1);var e=!0,t=new Image;return t.onload=function(){e&&s("loaded")},t.onerror=function(){e&&s("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),u}(p({},l,{src:h,srcSet:v})),_=h||v,S=_&&"error"!==x,I=p({},r,{colorDefault:!S,component:s,variant:k}),E=function(e){var t=e.classes;return g({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},XP,t)}(I);return w=S?(0,Br.jsx)(ZP,p({alt:i,src:h,srcSet:v,sizes:f,ownerState:I,className:E.img},l)):null!=a?a:_&&i?i[0]:(0,Br.jsx)(eO,{className:E.fallback}),(0,Br.jsx)(JP,p({as:s,ownerState:I,className:m(E.root,o),ref:n},b,{children:w}))})),nO=tO;function rO(e){return Gr("MuiIconButton",e)}var iO=Qr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),aO=["edge","children","className","color","disabled","disableFocusRipple","size"],oO=sr(gi,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(ki(n.color))],n.edge&&t["edge".concat(ki(n.edge))],t["size".concat(ki(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return p({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):S(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t,n=e.theme,r=e.ownerState,i=null==(t=(n.vars||n).palette)?void 0:t[r.color];return p({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&p({color:null==i?void 0:i.main},!r.disableRipple&&{"&:hover":p({},i&&{backgroundColor:n.vars?"rgba(".concat(i.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):S(i.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===r.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:n.typography.pxToRem(28)},h({},"&.".concat(iO.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}))})),uO=t.forwardRef((function(e,t){var n=mr({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,u=n.color,s=void 0===u?"default":u,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,h=void 0!==f&&f,v=n.size,y=void 0===v?"medium":v,k=d(n,aO),b=p({},n,{edge:i,color:s,disabled:l,disableFocusRipple:h,size:y}),w=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size;return g({root:["root",n&&"disabled","default"!==r&&"color".concat(ki(r)),i&&"edge".concat(ki(i)),"size".concat(ki(a))]},rO,t)}(b);return(0,Br.jsx)(oO,p({className:m(w.root,o),centerRipple:!0,focusRipple:!h,disabled:l,ref:t,ownerState:b},k,{children:a}))})),sO=uO,cO=QP((0,Br.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined"),lO=QP((0,Br.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile"),fO=QP((0,Br.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),hO=QP((0,Br.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),dO=QP((0,Br.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}),"InsertEmoticon"),pO=n(281),vO=n.n(pO),mO=function(){var e,n,r=c((0,t.useState)(""),2),i=r[0],a=r[1],o=c((0,t.useState)(""),2),u=o[0],s=o[1],l=c(wR(),1)[0].user,f=function(){var e=t.useContext(mP).matches,n=e[e.length-1];return n?n.params:{}}().roomId,h=c((0,t.useState)(""),2),d=h[0],p=h[1],v=(0,t.useRef)(),m=c((0,t.useState)([]),2),y=m[0],g=m[1],k=function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),u){e.next=3;break}return e.abrupt("return");case 3:yR.collection("rooms").doc(f).collection("messages").add({message:u,name:l.displayName,timestamp:Go.firestore.FieldValue.serverTimestamp()}),s("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,yR.collection("rooms").doc(f).delete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=ka(ya().mark((function e(t){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yR.collection("rooms").doc(f).collection("messages").doc(t).delete().catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){v.current&&v.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[y]),(0,t.useEffect)((function(){var e=function(){var e=ka(ya().mark((function e(){var t,n;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=5;break}return e.next=3,null===yR||void 0===yR||null===(t=yR.collection("rooms"))||void 0===t||null===(n=t.doc(f))||void 0===n?void 0:n.onSnapshot((function(e){var t;p(null===e||void 0===e||null===(t=e.data())||void 0===t?void 0:t.name)}));case 3:return e.next=5,yR.collection("rooms").doc(f).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){g(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f]),(0,t.useEffect)((function(){a(Math.floor(5e3*Math.random()))}),[]),(0,t.useEffect)((function(){new(vO())("05e1e20b1da3e5893693",{cluster:"ap2"}).subscribe("messages").bind("inserted",(function(e){g((function(t){return[].concat(C(t),[e])}))}))}),[]),(0,Br.jsxs)("div",{className:"chat",children:[(0,Br.jsxs)("div",{className:"chat__header",children:[(0,Br.jsx)(nO,{className:"chat__avatar",src:"https://avatars.dicebear.com/v2/avataaars/".concat(i,".svg")}),(0,Br.jsxs)("div",{className:"chat__headerInfo",children:[(0,Br.jsx)("h3",{children:d||"Welcome to Messenger"}),(0,Br.jsx)("p",{children:y[y.length-1]?"Last Seen at ".concat(new Date(null===(e=y[y.length-1])||void 0===e||null===(n=e.data.timestamp)||void 0===n?void 0:n.toDate()).toString().slice(0,25)):"send new messages"})]}),(0,Br.jsxs)("div",{className:"chat__headerright",children:[(0,Br.jsx)(sO,{children:(0,Br.jsx)(cO,{})}),(0,Br.jsx)(sO,{children:(0,Br.jsx)(lO,{})}),(0,Br.jsx)(sO,{children:(0,Br.jsx)(fO,{})}),(0,Br.jsx)(sO,{children:(0,Br.jsx)(hO,{onClick:b})})]})]}),(0,Br.jsx)("div",{className:"chat__body",children:y.map((function(e){var t;return(0,Br.jsxs)("p",{className:"chat__message ".concat(e.data.name===l.displayName&&"chat__receiver"),onDoubleClick:function(){w(e.id)},ref:v,children:[(0,Br.jsxs)("span",{className:"chat__name",children:[" ",e.data.name]}),e.data.message,(0,Br.jsx)("span",{className:"chat__timestamp",children:new Date(null===e||void 0===e||null===(t=e.data.timestamp)||void 0===t?void 0:t.toDate()).toString().slice(3,25)})]},e.id)}))}),d&&(0,Br.jsxs)("div",{className:"chat__footer",children:[(0,Br.jsx)(dO,{}),(0,Br.jsxs)("form",{children:[(0,Br.jsx)("input",{placeholder:"Type a message",onChange:function(e){return s(e.target.value)},value:u}),(0,Br.jsx)("button",{onClick:k,children:"Send"})]})]})]})},yO=QP((0,Br.jsx)("path",{d:"M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z"}),"DonutLarge"),gO=QP((0,Br.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"}),"Chat"),kO=function(e){var n,r,i=e.addNewChat,a=e.id,o=e.name,u=c((0,t.useState)(""),2),s=u[0],l=u[1],f=c((0,t.useState)(""),2),h=f[0],d=f[1],p=function(){var e=ka(ya().mark((function e(){var t;return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=prompt("please Enter the room name"))&&yR.collection("rooms").add({name:t});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){a&&yR.collection("rooms").doc(a).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){d(e.docs.map((function(e){return e.data()})))}))}),[a]),(0,t.useEffect)((function(){l(Math.floor(5e3*Math.random()))}),[]),i?(0,Br.jsx)("div",{className:"sidebarchat",onClick:p,children:(0,Br.jsx)("h2",{children:"Add new Chat"})}):(0,Br.jsx)(VP,{to:"/rooms/".concat(a),children:(0,Br.jsxs)("div",{className:"sidebarchat",children:[(0,Br.jsx)(nO,{src:"https://avatars.dicebear.com/v2/avataaars/".concat(s,".svg")}),(0,Br.jsxs)("div",{className:"sidebarChat__info",children:[(0,Br.jsx)("h2",{children:o}),(0,Br.jsx)("p",{className:"sidebarchat__message",children:"".concat((null===(n=h[0])||void 0===n||null===(r=n.message)||void 0===r?void 0:r.slice(0,20))||"start new chat".slice(0,20),"...")})]})]})})},bO=function(){var e=c(wR(),1)[0].user,n=c((0,t.useState)([]),2),r=n[0],i=n[1],a=c((0,t.useState)(""),2),o=a[0],u=a[1],s=c((0,t.useState)([]),2),l=s[0],f=s[1];return(0,t.useEffect)((function(){var e=function(){var e=ka(ya().mark((function e(){return ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yR.collection("rooms").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,t.useEffect)((function(){var e=r.filter((function(e){return e.data.name.toLowerCase().includes(o.toLowerCase())}));f(e)}),[r,o]),(0,Br.jsxs)("div",{className:"sidebar",children:[(0,Br.jsxs)("div",{className:"side__header",children:[(0,Br.jsx)(nO,{src:e.photoURL}),(0,Br.jsxs)("div",{className:"sidebar__headerRight",children:[(0,Br.jsx)(sO,{children:(0,Br.jsx)(yO,{})}),(0,Br.jsx)(sO,{children:(0,Br.jsx)(gO,{})}),(0,Br.jsx)(sO,{children:(0,Br.jsx)(fO,{})})]})]}),(0,Br.jsx)("div",{className:"sidebar__search",children:(0,Br.jsxs)("div",{className:"sidebar__searchContainer",children:[(0,Br.jsx)(cO,{}),(0,Br.jsx)("input",{placeholder:"Search",value:o,onChange:function(e){return u(e.target.value)}})]})}),(0,Br.jsxs)("div",{className:"sidebar__chats",children:[(0,Br.jsx)(kO,{addNewChat:!0}),l.map((function(e){return(0,Br.jsx)(kO,{id:e.id,name:e.data.name,room:e},e.id)}))]})]})};var wO=function(){var e=c(wR(),1)[0].user;return(0,Br.jsx)("div",{className:"app",children:e?(0,Br.jsx)("div",{className:"app__body",children:(0,Br.jsxs)(jP,{children:[(0,Br.jsx)(bO,{}),(0,Br.jsxs)(OP,{children:[(0,Br.jsx)(RP,{path:"/",element:(0,Br.jsx)(mO,{})}),(0,Br.jsx)(RP,{path:"/rooms/:roomId",element:(0,Br.jsx)(mO,{})})]})]})}):(0,Br.jsx)(SR,{})})};i.createRoot(document.getElementById("root")).render((0,Br.jsx)(bR,{initialState:{user:null},reducer:_R,children:(0,Br.jsx)(wO,{})}))}()}();
//# sourceMappingURL=main.2d809778.js.map